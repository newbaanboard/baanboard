<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Valores en Refcntd, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Valores en Refcntd Forum español" />
	
	<title>Valores en Refcntd [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">BB Language Forums</a> &gt; <a href="../index.html">Forum español</a> &gt; Valores en Refcntd</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">difdba</div><div class="date">25th June 2007, 15:01</div></div><div class="posttext">Buenas a todos <br />
<br />
Nos aparece este mensaje de error al intentar archivar <br />
<br />
log.bshell6.1<br />
--------------------------------------------------------------------------<br />
2007-06-25[13:15:39]:E:bsparch: <br />
2007-06-25[13:15:39]:E:bsparch: ******* S T A R T of Error message *******<br />
2007-06-25[13:15:39]:E:bsparch: Log message called from /port.6.1c.06.02/vobs/tt/mir/mir/bdb_fun.c: #1026 keyword: DB error<br />
2007-06-25[13:15:39]:E:bsparch: Pid 28814 Uid 1346 Euid 1346 Gid 101 Egid 101<br />
2007-06-25[13:15:39]:E:bsparch: user_type S language 5 user_name bsparch tty ote locale ISO88591/NULL<br />
2007-06-25[13:15:39]:E:bsparch: Errno 0 bdb_errno 520 (Error during buffered updates)<br />
2007-06-25[13:15:39]:E:bsparch: Log_mesg: Error 605 (Cannot delete record, because reference exists) on tisfc001100 in commit_trans<br />
2007-06-25[13:15:39]:E:bsparch: ******* E N D of Error message *******<br />
--------------------------------------------------------------------------<br />
<br />
log.oracle7<br />
--------------------------------------------------------------------------<br />
2007-06-25[10:58:37]:E:bsparch: ******* S T A R T of Error message *******<br />
2007-06-25[10:58:37]:E:bsparch: Log message called from /port.6.1c.06.02/vobs/tt/lib/dbs/dbs_rowact.c: #2870 keyword: refdel<br />
2007-06-25[10:58:37]:E:bsparch: Pid 28842 Uid 1346 Euid 1346 Gid 101 Egid 101<br />
2007-06-25[10:58:37]:E:bsparch: user_type S language 5 user_name bsparch tty ote locale ISO88591/NULL<br />
2007-06-25[10:58:37]:E:bsparch: Errno 0 bdb_errno 0<br />
2007-06-25[10:58:37]:E:bsparch: Log_mesg: Refcntd = -17 for tcqms110 ( key `5039881` ) =&gt; can't delete<br />
2007-06-25[10:58:37]:E:bsparch: ******* E N D of Error message *******<br />
--------------------------------------------------------------------------<br />
<br />
Nos interesa este campo ( Refcntd ) y que significan sus valores  ( -17 )<br />
<br />
¿Cómo lo podemos averiguar? Gracias anticipadas.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">petguego</div><div class="date">25th June 2007, 18:48</div></div><div class="posttext">Estas tratando de borrar un registro en la tabla tisfc001  el cual tiene una referencia en la tabla tcqms110, debes listar la definicion de la tabla y ahi aparecen las referencias.  Antes de eliminar un registro en un mastro debes chequear primero que otros registros estan relacionados, puede ser que existan mas tablas referenciadas a la tisfc001, revisa esto y me cuentas.<br />
<br />
<br />
Peter Guerrero G.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">difdba</div><div class="date">26th June 2007, 13:28</div></div><div class="posttext">Muchas gracias.<br />
<br />
Lo estamos averiguando, pero en ninguna parte aparece referenciada la tabla tcqms110 al 'listar definiciones de tabla de la tisfc001'. ¿quiere decir que NO existe referencia a esa tabla?<br />
<br />
Por otro lado, los valores ( en este caso '-17' ), qué significan o dónde podemos encontrar su significado. <br />
<br />
Gracias de antemano.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">difdba</div><div class="date">3rd July 2007, 10:59</div></div><div class="posttext">Buenas<br />
<br />
Estamos averiguando el problema, pero en ninguna parte aparece referenciada la tabla tcqms110 al 'listar definiciones de tabla de la tisfc001'. ¿quiere decir que NO existe referencia a esa tabla?<br />
<br />
Los valores ( en este caso '-17', '8'), qué significan o dónde podemos encontrar su significado?<br />
<br />
Gracias de antemano.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">petguego</div><div class="date">4th July 2007, 01:01</div></div><div class="posttext">Mira que te dice el log de oracle y me cuentas.<br />
<br />
Atte<br />
petguego</div></div><hr />


<div class="post"><div class="posttop"><div class="username">difdba</div><div class="date">4th July 2007, 10:12</div></div><div class="posttext">Buenas<br />
<br />
Los mensajes de error los remití en el post inicial. Allí aparece los mensajes de error que nos proporcionó el aplicativo. ¿Existe algún sitio donde aparezcan los códigos de error [Refcntd = -17 ]?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">difdba</div><div class="date">4th July 2007, 10:37</div></div><div class="posttext">Buenas<br />
<br />
Aquí mando ejemplos explícitos de los mensaje de error de los logs:<br />
------------ ------------- ------------ ------------- ------------ ------------- <br />
log.oracle7<br />
2007-07-03[08:24:19]:E:bsparch:<br />
2007-07-03[08:24:19]:E:bsparch: ******* S T A R T of Error message *******<br />
2007-07-03[08:24:19]:E:bsparch: Log message called from /port.6.1c.06.02/vobs/tt/lib/dbs/dbs_rowact.c: #2870 keyword: refdel<br />
2007-07-03[08:24:19]:E:bsparch: Pid 9090 Uid 1346 Euid 1346 Gid 101 Egid 101<br />
2007-07-03[08:24:19]:E:bsparch: user_type S language 5 user_name bsparch tty ote locale ISO88591/NULL<br />
2007-07-03[08:24:19]:E:bsparch: Errno 0 bdb_errno 0<br />
2007-07-03[08:24:19]:E:bsparch: Log_mesg: Refcntd = 7 for tisfc001 ( key `213012` ) =&gt; can't delete<br />
2007-07-03[08:24:19]:E:bsparch: ******* E N D of Error message *******<br />
log.bshell6.1<br />
2007-07-03[08:24:20]:E:bsparch:<br />
2007-07-03[08:24:20]:E:bsparch: ******* S T A R T of Error message *******<br />
2007-07-03[08:24:20]:E:bsparch: Log message called from /port.6.1c.06.02/vobs/tt/mir/mir/bdb_fun.c: #1026 keyword: DB error<br />
2007-07-03[08:24:20]:E:bsparch: Pid 9082 Uid 1346 Euid 1346 Gid 101 Egid 101<br />
2007-07-03[08:24:20]:E:bsparch: user_type S language 5 user_name bsparch tty ote locale ISO88591/NULL<br />
2007-07-03[08:24:20]:E:bsparch: Errno 0 bdb_errno 605 (Cannot delete record, because reference exists)<br />
2007-07-03[08:24:20]:E:bsparch: Log_mesg: Error 605 (Cannot delete record, because reference exists) on tisfc001100 in db_next<br />
2007-07-03[08:24:20]:E:bsparch: ******* E N D of Error message *******<br />
<br />
------------ ------------- ------------ ------------- ------------ ------------- <br />
log.oracle7<br />
2007-07-03[08:33:47]:E:bsparch: ******* S T A R T of Error message *******<br />
2007-07-03[08:33:47]:E:bsparch: Log message called from /port.6.1c.06.02/vobs/tt/lib/dbs/dbs_rowact.c: #2870 keyword: refdel<br />
2007-07-03[08:33:47]:E:bsparch: Pid 8427 Uid 1346 Euid 1346 Gid 101 Egid 101<br />
2007-07-03[08:33:47]:E:bsparch: user_type S language 5 user_name bsparch tty ote locale ISO88591/NULL<br />
2007-07-03[08:33:47]:E:bsparch: Errno 0 bdb_errno 0<br />
2007-07-03[08:33:47]:E:bsparch: Log_mesg: Refcntd = 8 for tisfc001 ( key `213011` ) =&gt; can't delete<br />
2007-07-03[08:33:47]:E:bsparch: ******* E N D of Error message *******<br />
<br />
log.bshell6.1<br />
2007-07-03[08:33:48]:E:bsparch: ******* S T A R T of Error message *******<br />
2007-07-03[08:33:48]:E:bsparch: Log message called from /port.6.1c.06.02/vobs/tt/mir/mir/bdb_fun.c: #1026 keyword: DB error<br />
2007-07-03[08:33:48]:E:bsparch: Pid 8419 Uid 1346 Euid 1346 Gid 101 Egid 101<br />
2007-07-03[08:33:48]:E:bsparch: user_type S language 5 user_name bsparch tty ote locale ISO88591/NULL<br />
2007-07-03[08:33:48]:E:bsparch: Errno 0 bdb_errno 605 (Cannot delete record, because reference exists)<br />
2007-07-03[08:33:48]:E:bsparch: Log_mesg: Error 605 (Cannot delete record, because reference exists) on tisfc001100 in db_next<br />
2007-07-03[08:33:48]:E:bsparch: ******* E N D of Error message *******<br />
<br />
------------ ------------- ------------ ------------- ------------ ------------- <br />
log.oracle7<br />
2007-07-03[08:36:11]:E:bsparch:<br />
2007-07-03[08:36:11]:E:bsparch: ******* S T A R T of Error message *******<br />
2007-07-03[08:36:11]:E:bsparch: Log message called from /port.6.1c.06.02/vobs/tt/lib/dbs/dbs_rowact.c: #2870 keyword: refdel<br />
2007-07-03[08:36:11]:E:bsparch: Pid 8427 Uid 1346 Euid 1346 Gid 101 Egid 101<br />
2007-07-03[08:36:11]:E:bsparch: user_type S language 5 user_name bsparch tty ote locale ISO88591/NULL<br />
2007-07-03[08:36:11]:E:bsparch: Errno 0 bdb_errno 0<br />
2007-07-03[08:36:11]:E:bsparch: Log_mesg: Refcntd = 8 for tisfc001 ( key `213011` ) =&gt; can't delete<br />
2007-07-03[08:36:11]:E:bsparch: ******* E N D of Error message *******<br />
log.bshell6.1<br />
2007-07-03[08:36:12]:E:bsparch:<br />
2007-07-03[08:36:12]:E:bsparch: ******* S T A R T of Error message *******<br />
2007-07-03[08:36:12]:E:bsparch: Log message called from /port.6.1c.06.02/vobs/tt/mir/mir/bdb_fun.c: #1026 keyword: DB error<br />
2007-07-03[08:36:12]:E:bsparch: Pid 8419 Uid 1346 Euid 1346 Gid 101 Egid 101<br />
2007-07-03[08:36:12]:E:bsparch: user_type S language 5 user_name bsparch tty ote locale ISO88591/NULL<br />
2007-07-03[08:36:12]:E:bsparch: Errno 0 bdb_errno 520 (Error during buffered updates)<br />
2007-07-03[08:36:12]:E:bsparch: Log_mesg: Error 605 (Cannot delete record, because reference exists) on tisfc001100 in commit_trans<br />
2007-07-03[08:36:12]:E:bsparch: ******* E N D of Error message *******<br />
------------ ------------- ------------ ------------- ------------ ------------- <br />
<br />
Espero que se me pueda ayudar. Gracias anticipadas.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">petguego</div><div class="date">4th July 2007, 19:12</div></div><div class="posttext">Yo creo que en tu compañia, algun administrador de Base de Datos hizo una relacion de estas tablas pero no por baan si no por oracle.. te lo digo por que si te da este error (aunque no se sepan los codigos) existe una relacion entre las tablas que existe, si no lo muestra por baan existe igualmente a nivel de oracle. yo creo que lo mejor es que revises con tu administrador de base de datos. Le puedes pedir que te muestre todas la tablas relacionadas a la tisfc001100. <br />
<br />
Intente buscar los codigos de error que aparece (Refcntd = 8) pero no tuve suerte, pero creo que aunque lo encuentres no te diria mucho.<br />
<br />
Atte.<br />
Peter Guerrero</div></div><hr />


<div class="post"><div class="posttop"><div class="username">difdba</div><div class="date">9th July 2007, 15:49</div></div><div class="posttext">Buenas<br />
<br />
y .... ¿cómo puedo averiguar cómo ver todas la tablas relacionadas a la tisfc001100?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dorleta</div><div class="date">19th July 2007, 13:45</div></div><div class="posttext">En tools/ bases de datos/ listar<br />
<br />
tienes una sesión  ttaad4229m000 que te da todas las referencias hijas respecto a un padre te puede ayudar.<br />
<br />
Algunas veces también los contadorres de referencia ( son tres campos ocultos en cada tabla ) se estropean y se pueden reparar usando la sesión ttaad4225m000 ( tools/ bases de datos / varios/ regorganizar tablas ) marcando datos e indices y reparar contador de referencia.<br />
<br />
Suerte.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ecarceller</div><div class="date">1st September 2007, 02:31</div></div><div class="posttext">Necesitas reconstruir los contadores de referencia en las tablas de donde vas a borrar registros. Eso se hace desde la sesion ttaad4225m000. <br />
Datos e indices = NO<br />
Integridad referencial=Si<br />
Reparar Contador de Referencia=Si<br />
Este proceso puede tomar muchas horas asi que solamente correlo para las tablas que lo necesiten.</div></div><hr />



</div>
</body>
</html>