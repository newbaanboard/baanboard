<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Kalenderwoche, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Kalenderwoche Deutsches Forum" />
	
	<title>Kalenderwoche [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">BB Language Forums</a> &gt; <a href="../index.html">Deutsches Forum</a> &gt; Kalenderwoche</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">MS-Tech</div><div class="date">20th February 2017, 17:10</div></div><div class="posttext">Hallo Zusammen,<br />
<br />
gibt es in LN eine Funktion, mit der ich mir die aktuelle Kalenderwoche eines Datums ermitteln kann? Ich möchte z.B. einen Report erstellen, bei dem ich dann von Woche / bis Woche filtern kann?<br />
<br />
Grüße<br />
MS-Tech</div></div><hr />


<div class="post"><div class="posttop"><div class="username">vahdani</div><div class="date">21st February 2017, 15:03</div></div><div class="posttext">Hallo,<br />
<br />
es gibt die Funktion utc_to_week() (http://www.baanboard.com/programmers_manual_baanerp_help_functions_date_time_zones_utc_to_week) für normale (UTC) Daten. Für ein Datum in Baan4 oder Fibu-Format gibt es dagegen num_to_week() (http://www.baanboard.com/programmers_manual_baanerp_help_functions_date_time_zones_num_to_week).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bdittmar</div><div class="date">21st February 2017, 16:38</div></div><div class="posttext">Hallo,<br />
hier einige Hinweise:<br />
<br />
utc.to.week()<br />
Syntax:<br />
<br />
function long utc.to.week  (long utc, ref long week_dayno, ref long year_dayno, ref long weekno, ref long hours, ref long minutes, ref long seconds [, ref long yearno])<br />
<br />
Description<br />
<br />
<br />
This converts a UTC long format value to the corresponding day of the week, day of the year, week of the year, and so on, in local time.<br />
<br />
<br />
Arguments<br />
<br />
long utc The UTC long format value.<br />
 <br />
ref long week_dayno The day of the week. This depends on which day is defined as the first day of the week in the user data settings in the data dictionary.<br />
 <br />
ref long year_dayno The day number in the year.<br />
 <br />
ref long weekno The week number in the year. See Week handling.<br />
 <br />
ref long hours The time of day.<br />
 <br />
ref long minutes  <br />
ref long seconds  <br />
[ref long yearno ] The year number. This argument is optional.<br />
 <br />
 <br />
Return values<br />
<br />
0 Success. <br />
-1 Error. <br />
 <br />
Context<br />
<br />
This function can be used in all script types.<br />
<br />
Notes<br />
If the day of the week lies in the week that includes the turn of the year, weekno returns either 53, 0, or 1. The rules applied are:<br />
<br />
Yearno argument included <br />
If less that 4 days of the week belong to the old year, weekno returns 1 and yearno returns the number of the new year.<br />
If 4 or more days belong to the old year, weekno returns 53 and yearno returns the number of the old year.<br />
Yearno argument not included <br />
If the day belongs to the old year, weekno returns 53.<br />
If the day belongs to the new year and there are less that 4 days of the new year in the week, weekno returns 0.<br />
If the day belongs to the new year and there are more that 3 days of the new year in the week, weekno returns 1.<br />
Related topics <br />
<br />
Dates, times, time zones synopsis<br />
Dates,times, time zones overview<br />
--------------------------------------------------------------------------------------------------------<br />
num.to.week()<br />
Syntax:<br />
<br />
function long num.to.week  (long dayno, ref long week_dayno, ref long year_dayno, ref long weekno [, ref long yearno])<br />
<br />
Description<br />
<br />
<br />
This converts a specified number of days since 01-01-0001 to the corresponding day of the week, day of the year, and week number of the year.<br />
<br />
<br />
Arguments<br />
<br />
long dayno A number of days since 01-01-0001.<br />
 <br />
ref long week_dayno The day of the week. This depends on which day is defined as the first day of the week in the user data settings in the data dictionary.<br />
 <br />
ref long year_dayno The day number in the year.<br />
 <br />
ref long weekno The week number in the year. See Week handling.<br />
 <br />
[ref long yearno ] The year number. This argument is optional.<br />
 <br />
 <br />
Return values<br />
<br />
0 Success. <br />
-1 Error. <br />
 <br />
Context<br />
<br />
This function can be used in all script types.<br />
<br />
Notes<br />
If the day of the week lies in the week that includes the turn of the year, weekno returns either 53, 0, or 1.  The rules applied are:<br />
<br />
Yearno argument included <br />
If less that 4 days of the week belong to the old year, weekno returns 1 and yearno returns the number of the new year.<br />
If 4 or more days belong to the old year, weekno returns 53 and yearno returns the number of the old year.<br />
Yearno argument not included <br />
If the day belongs to the old year, weekno returns 53.<br />
If the day belongs to the new year and there are less that 4 days of the new year in the week, weekno returns 0.<br />
If the day belongs to the new year and there are more that 3 days of the new year in the week, weekno returns 1.<br />
Related topics <br />
<br />
Dates, times, time zones synopsis<br />
Dates,times, time zones overview<br />
----------------------------------------------------------------------------------------------------<br />
Nur Darstellung :<br />
<br />
sprintf$()<br />
<br />
%D xxx [ ,lang ] Use for dates.<br />
<br />
xxx is the code for a date format defined in the data dictionary. lang indicates the language code to use. If this is omitted, the current user language is used.<br />
<br />
The expression that is substituted for this symbol must specify a number of days since 01-01-0001.<br />
<br />
Note that it isn't possible to use a comma direct after a %D xxx substitution symbol other than for selecting a language. As a workaround select a space as the language code, this will substitute the users default language and close the type element. Now it is possible to use the comma that should be included in your string. See the example in the example section.<br />
 <br />
%D( format ) Use for dates.<br />
<br />
This option enables you to define your own date format by using the following subformats of the ‘%D’ format:<br />
<br />
%m month in year 1 - 12 <br />
%w week in year week 0 in previous year week 53 in current year <br />
%W week in year week 53 in previous year <br />
%d day in month 1 - 31 <br />
%e day in week 1 - 7 <br />
%j day in year 1 - 365 <br />
%y year without century 01 - 99 <br />
%Y year with century 1 - 9999 <br />
%h name of month (‘Jan’ - ‘Dec’)<br />
<br />
(abbreviated)<br />
 <br />
%H name of month (‘January’ - ‘December’) <br />
%a name of day (‘Sun’ - ‘Sat’)<br />
<br />
(abbreviated)<br />
 <br />
%A name of day (‘Sunday’ - ‘Saturday’) <br />
 <br />
You can combine these subformats with other formats. Note that strings returned by name of month and day formats are language dependent.<br />
 <br />
%u xxx [ ,lang ] Use for UTC dates. xxx is the code for a UTC date format defined in the data dictionary. lang indicates the language code to use. If this is omitted, the current user language is used. <br />
Note that it isn't possible to use a comma direct after a %u xxx substitution symbol other than for selecting a language. As a workaround select a space as the language code, this will substitute the users default language and close the type element. Now it is possible to use the comma that should be included in your string. See the example in the example section.<br />
 <br />
%U xxx [ ,lang ] Use for UTC times. xxx is the code for a UTC time format defined in the data dictionary. lang indicates the language code to use. If this is omitted, the current user language is used. <br />
Note that it isn't possible to use a comma direct after a %U xxx substitution symbol other than for selecting a language. As a workaround select a space as the language code, this will substitute the users default language and close the type element. Now it is possible to use the comma that should be included in your string. See the example in the example section.<br />
 <br />
%u( format ) Use for UTC dates.<br />
<br />
This option enables you to define your own date format by using the subformats described for the ‘ %D( format )’ symbol. You can combine these subformats with other formats.<br />
<br />
Note that strings returned by name of month and day formats are language dependent.<br />
 <br />
%U( format ) Use for UTC times.<br />
<br />
This option enables you to define your own time using the following subformats of the ‘%U’ format.<br />
<br />
%H hours in 24 hour format <br />
%h hours in 12 hour format <br />
%m minutes <br />
%s seconds <br />
%a substitutes the am/pm symbol as defined for the user language <br />
%x time separator as specified for the user language <br />
<br />
<br />
Gruss</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MS-Tech</div><div class="date">23rd February 2017, 19:24</div></div><div class="posttext">Danke für eure Hinweise. Ich werde das gleich mal testen :).<br />
<br />
Grüße<br />
MS-Tech</div></div><hr />



</div>
</body>
</html>