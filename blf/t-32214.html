<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Ecriture dans fichier, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Ecriture dans fichier Forum francais" />
	
	<title>Ecriture dans fichier [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">BB Language Forums</a> &gt; <a href="../index.html">Forum francais</a> &gt; Ecriture dans fichier</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">jlppap</div><div class="date">6th March 2007, 10:28</div></div><div class="posttext">Bonjour<br />
Baan IV c4 - et windows XP pro<br />
PROBLEME : J'aurai besoin d'envoyer des données ( 480 caractères) directement dans un fichier qui se trouve sur un serveur, sans passer par un report dont la taille maxi est de 255 caractères; j'ai essayé plusieurs fois sans résultat... :mad: <br />
QUESTION...<br />
--Dans le script de ma session Baan, comment faire pour écrire directement dans un fichier en sortie en gardant les paramètres d'accès d'origine du fichier?<br />
<br />
Si quelqu'un avait un petit exemple, ce serait sympa.<br />
<br />
MERCI d'avance</div></div><hr />


<div class="post"><div class="posttop"><div class="username">f.martel</div><div class="date">6th March 2007, 11:59</div></div><div class="posttext">Bonjour,<br />
<br />
Voici un exemple d'écriture.<br />
<br />
	extern	domain 	tcmcs.str132	nom.fichier<br />
			domain	tcmcs.long		num.fichier<br />
			domain	tcmcs.s999		ligne<br />
			domain  tcmcs.long		ret<br />
<br />
|****	purge du fichier<br />
<br />
	nom.fichier= &quot;/tmp/tarsav.txt&quot;<br />
	num.fichier = seq.open (nom.fichier, &quot;w+&quot;)<br />
<br />
	ecriture.fichier()<br />
	<br />
	seq.close(num.fichier)<br />
<br />
function ecriture.fichier()<br />
{<br />
|**** Mise en forme<br />
<br />
	ligne = tiitm001.item(1;8) &amp; &quot;;&quot;<br />
	ligne = ligne &amp; edit$(tiitm001.stoc,&quot;99999V.99&quot;) &amp; &quot;;&quot;<br />
	ligne	= ligne &amp; &quot;BlaBlaBla&quot;<br />
<br />
|**** Ecriture fichier<br />
<br />
	seq.puts(ligne, num.fichier)<br />
	<br />
<br />
}<br />
<br />
@ plus<br />
<br />
François Martel</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jlppap</div><div class="date">6th March 2007, 16:31</div></div><div class="posttext">Merci beaucoup,<br />
cela fonctionne très bien...quand le fichier existe.<br />
<br />
Par contre, si le fichier n'existe pas, :confused: cela ne fonctionne pas; je n'ai aucun droit !?!<br />
<br />
N'auriez-vous pas une solution?<br />
<br />
MERCI pour votre aide.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">f.martel</div><div class="date">7th March 2007, 08:06</div></div><div class="posttext">Bonjour,<br />
<br />
il faut regarder du coté de l'aide de la fonction et autorisé les droits de lecture / écriture pour le ou les utilisateurs.<br />
<br />
@ plus</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jlppap</div><div class="date">7th March 2007, 11:01</div></div><div class="posttext">Bonjour;<br />
et MERCI pour votre aide<br />
<br />
après : 	num.fichier = seq.open(nom.fichier, &quot;a+&quot;)<br />
<br />
Il m'a suffit d'ajouter une ligne : file.chmod(nom.fichier,S_IRWXO)<br />
pour UNIX seulement.<br />
<br />
Encore merci et bonne semaine.</div></div><hr />



</div>
</body>
</html>