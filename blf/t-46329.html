<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Recuperar ocurrencia, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Recuperar ocurrencia Forum español" />
	
	<title>Recuperar ocurrencia [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">BB Language Forums</a> &gt; <a href="../index.html">Forum español</a> &gt; Recuperar ocurrencia</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">Esther</div><div class="date">2nd January 2008, 12:39</div></div><div class="posttext">Hola a todos, feliz año.<br />
<br />
Vereis, estoy realizando una sesión de mantenimiento, con pantalla tipo 3. Necesito que en el check.input de un campo haga una consulta de la misma tabla principal, y al hacerla pierdo el registro que estaba modificando.<br />
<br />
¿Cómo hago que vuelva a apuntar a la ocurrencia que estaba modificando?<br />
<br />
Muchas gracias.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">igorrino</div><div class="date">2nd January 2008, 13:43</div></div><div class="posttext">Prueba ha en la segunda selec ponerle alias a la tabla poniendole asi un nombre diferente, de esta forma te debería mantener el valor antiguo<br />
feliz añoooo .prueba y me dices</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Esther</div><div class="date">2nd January 2008, 14:44</div></div><div class="posttext">Estoy intentándolo de este modo, y no me funciona, cambia la principal y no hace el filtro correctamente (devuelve muchas veces lo mismo, según veo debuggeándolo):<br />
<br />
	select tssma983.* <br />
	from tssma983 principal<br />
	where principal.ctra=:tssma983.ctra and<br />
	principal.cplt=:tssma983.cplt and<br />
	principal.pono&lt;&gt;:tssma983.pono<br />
	selectdo<br />
		if tssma983.vbaj=0 then<br />
			message(&quot;Alguna de las secuencias anteriores no tiene fecha vigor baja&quot;)<br />
			set.input.error(&quot;&quot;)<br />
		endif<br />
	endselect<br />
<br />
No sé si es que estoy utilizando el alias de forma incorrecta, hasta ahora no sabía que podía dársele alias a las tablas.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">igorrino</div><div class="date">2nd January 2008, 15:00</div></div><div class="posttext">select tssma983.vbaj:vbaja <br />
	from tssma983 <br />
	where tssma983.ctra=:tssma983.ctra and<br />
	tssma983.cplt=:tssma983.cplt and<br />
	tssma983.pono&lt;&gt;:tssma983.pono<br />
	selectdo<br />
<br />
		if vbaja=0 then<br />
			message(&quot;Alguna de las secuencias anteriores no tiene fecha vigor baja&quot;)<br />
			set.input.error(&quot;&quot;)<br />
		endif<br />
	endselect<br />
<br />
prueba con esto lo unico la variable vbaja declarala como el mismo campo tssma983.vbaj, yo creo que con hacer eso funcionara</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Felipe_Saavedra</div><div class="date">2nd January 2008, 21:28</div></div><div class="posttext">O bien cambia el primer renglon de tu tabla alias<br />
<br />
de<br />
<br />
             select tssma983.* <br />
	from tssma983 principal<br />
	where principal.ctra=:tssma983.ctra and<br />
	principal.cplt=:tssma983.cplt and<br />
	principal.pono&lt;&gt;:tssma983.pono<br />
	selectdo<br />
		if tssma983.vbaj=0 then<br />
			message(&quot;Alguna de las secuencias anteriores no tiene fecha vigor baja&quot;)<br />
			set.input.error(&quot;&quot;)<br />
		endif<br />
	endselect<br />
<br />
<br />
a<br />
<br />
<br />
             select principal.vbaj<br />
	from tssma983 principal<br />
	where principal.ctra=:tssma983.ctra and<br />
	principal.cplt=:tssma983.cplt and<br />
	principal.pono&lt;&gt;:tssma983.pono<br />
	selectdo<br />
		if principal.vbaj=0 then<br />
			message(&quot;Alguna de las secuencias anteriores no tiene fecha vigor baja&quot;)<br />
			set.input.error(&quot;&quot;)<br />
		endif<br />
	endselect<br />
<br />
saludos y Feliz 2008 <br />
<br />
Felipe Saavedra</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Esther</div><div class="date">3rd January 2008, 10:39</div></div><div class="posttext">Funciona poniéndole alias al campo :):):)<br />
<br />
Muchísimas gracias.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ignalf</div><div class="date">10th January 2008, 17:45</div></div><div class="posttext">Mirar la función &quot;on.main.table()&quot;, puede ser mas limpia la programación.<br />
Suerte.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lanare</div><div class="date">15th February 2008, 16:41</div></div><div class="posttext">Estoy intentándolo de este modo, y no me funciona, cambia la principal y no hace el filtro correctamente (devuelve muchas veces lo mismo, según veo debuggeándolo):<br />
<br />
	select tssma983.* <br />
	from tssma983 principal<br />
	where principal.ctra=:tssma983.ctra and<br />
	principal.cplt=:tssma983.cplt and<br />
	principal.pono&lt;&gt;:tssma983.pono<br />
	selectdo<br />
		if tssma983.vbaj=0 then<br />
			message(&quot;Alguna de las secuencias anteriores no tiene fecha vigor baja&quot;)<br />
			set.input.error(&quot;&quot;)<br />
		endif<br />
	endselect<br />
<br />
No sé si es que estoy utilizando el alias de forma incorrecta, hasta ahora no sabía que podía dársele alias a las tablas.<br />
Mi pana, hay una funcion en baan que te permite ahorrarte lo tedioso de un alias, la function es:<br />
<br />
#include &quot;itfgld0038&quot;	|* Store/Restore Table Buffer / Fields<br />
<br />
esta presente desde baan IV-B2, ejemplo&gt;<br />
<br />
	itfgld0038.dim.rcd(ttssma983)<br />
	itfgld0038.store.rcd.fields.no.lock.info(ttssma983)<br />
<br />
	select tssma983.* <br />
	from tssma983 principal<br />
	where principal.ctra=:tssma983.ctra and<br />
	principal.cplt=:tssma983.cplt and<br />
	principal.pono&lt;&gt;:tssma983.pono<br />
	selectdo<br />
		if tssma983.vbaj=0 then<br />
			message(&quot;Alguna de las secuencias anteriores no tiene fecha vigor baja&quot;)<br />
			set.input.error(&quot;&quot;)<br />
		endif<br />
	endselect<br />
	itfgld0038.restore.rcd.fields(ttssma983)</div></div><hr />



</div>
</body>
</html>