<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Users taking a long time to connect to server, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Users taking a long time to connect to server Operating Systems &amp; Databases" />
	
	<title>Users taking a long time to connect to server [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Operating Systems &amp; Databases</a> &gt; Users taking a long time to connect to server</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">MattMan</div><div class="date">13th November 2008, 01:32</div></div><div class="posttext">Hello all,<br />
<br />
First time poster so I hope this is in the correct section for this.  I currently have a rather annoying problem that I need to get sorted.  This is only happening to some users but not always the same ones, however a common item they all share, is they all work on Baan via a Citrix (Presentation Server 4.5) connection to brand new Blade server array.<br />
<br />
They are not receiving any error messages as such, although they are unable to connect.  When typing in their username and password, they just have a window stating Waiting for connection, in the bottom left of the Baan interface window it states Connecting to server, and in the bottom right, it says Offline.<br />
<br />
Usually, if the user leaves it long enough it will log them in eventually, but this can take anywhere from 5 minutes, to 6 hours.  This is obviously not acceptable to our users.<br />
<br />
The following is an excerpt from the event logs from the Baan server.<br />
<br />
Program    : bshell file mir\main.c # 1083<br />
Keyword    : 4GL/3GL Process information:<br />
<br />
Program    : bshell file li_init.c # 397<br />
Keyword    : ds_close_server<br />
<br />
And this is an excerpt from a Citrix server when this was happening this morning:<br />
<br />
Env        : Bse (\\servername\baan_windows)<br />
Program    : BW file .\sockdata.cpp # 1038<br />
Keyword    : SocketData::processError(error)<br />
Username   :  type:S language:2<br />
Process    : 6800<br />
ProcessSet : username@citrix.server.fqdn:6800<br />
Lasterror  : 997 (Overlapped I/O operation is in progress.)<br />
Errno      : 0<br />
BdbErrno   : 0<br />
ExtraInfo  : N/A<br />
Message    :  Connection with server broken<br />
<br />
<br />
<br />
I really hope that someone can provide some answers or suggest anything to get this issue resolved.  Please reply if you require further information.  Thanks in advance.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">David Eagar</div><div class="date">24th November 2008, 23:43</div></div><div class="posttext">Never got to the bottom of the cause, but a 'work around' is a regular reboot of your Citrix servers. i could never get a fix on whether it is a Baan or Citrix problem other than it is a pain in the backside</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MattMan</div><div class="date">25th November 2008, 05:06</div></div><div class="posttext">Thanks David, I wasn't aware that you were a member here...<br />
<br />
<br />
I was hoping for a more automatic solution than having to schedule reboots of the Citrix servers which going on experience, is not really going to help this situation since this was happening on the day following a Citrix reboot.  We've now got another Citrix server in the mix configured to connect to Baan in a slightly different way, though I'm unsure if this is going to have any effect.<br />
<br />
If anyone else has any further suggestions, I would really appreciate hearing them.  Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">David Eagar</div><div class="date">25th November 2008, 21:32</div></div><div class="posttext">Uh Oh!, does that mean my cover is blown?<br />
<br />
If I knew permanent fix, I wouldn't have been stuck with the work around.<br />
<br />
Sorry, couldn't help</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sushil</div><div class="date">26th November 2008, 09:13</div></div><div class="posttext">Hello,<br />
<br />
Is the Client IP and Server IP and Citrix server IP are in same IP subnet range <br />
<br />
i.e example - <br />
<br />
is your server ip series from 10.10.2.1 to 10.10.2.254<br />
and client server ip series from 10.10.3.1 to 10.10.3.254 ???<br />
<br />
Regards,<br />
Sushil Kumar Mudaliar</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Hitesh Shah</div><div class="date">26th November 2008, 13:49</div></div><div class="posttext">Since u are connecting through citrix server, check if citrix server has enough memory /CPU power to server terminal services needs of all concurrent users connecting through citrix . <br />
<br />
Another matter u can check is to clear tmp folder regularly in baan say 7 days . This too can reduce startup time if u have a startup routine that creates file in tmp for routine login checks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">keni99</div><div class="date">7th January 2009, 19:38</div></div><div class="posttext">All our users work also via Citrix and we have 8 Blades at the Farm.<br />
But we use LN 6.1<br />
Question is - how do work Baan via Citrix? <br />
Do u use Central Deployment? (I'm not shure if this availbale for earlier Baan-Revisions..)<br />
Which Client-Application do u have installed at Citrix-Application servers, only bw? <br />
<br />
In Some cases we have similar problems. Than we kill all processes at CitrixiFarm, User have to logout and new login. In other cases TS-profile is corrupt. Than we delete complete Baan-Folder at user -profile. <br />
Most problems we get if we change the worktop-document for central deployment (unintendent). Than last chance - delete all Documents and create a new (best with a other name).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">NPRao</div><div class="date">7th January 2009, 19:58</div></div><div class="posttext">Question is - how do work Baan via Citrix?<br />
Do u use Central Deployment? (I'm not shure if this availbale for earlier Baan-Revisions..)<br />
Which Client-Application do u have installed at Citrix-Application servers, only bw? <br />
We did not use Central Deployment on our Citrix Servers instead we have a full BW and Worktop Installation. The 2 Citrix servers are behind load-balancer. We also have other MS Software, Outlook, Control-M, Intranet, Putty, Shared Drive explorers etc.</div></div><hr />



</div>
</body>
</html>