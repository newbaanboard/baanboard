<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="INFORMIX- Onspaces Error, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] INFORMIX- Onspaces Error Operating Systems &amp; Databases" />
	
	<title>INFORMIX- Onspaces Error [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Operating Systems &amp; Databases</a> &gt; INFORMIX- Onspaces Error</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">kswong</div><div class="date">25th March 2004, 03:33</div></div><div class="posttext">we managed to bring online 3 chunks out of 4 using onspaces<br />
command.<br />
One chunk (datdbs7) has this error when we <br />
tried to bring it online:<br />
&quot;ISAM Error&quot;: Primary and mirror chunks are bad&quot;<br />
-----------------<br />
The history is that we have added 2 hard disks and <br />
created 6 new chunks in October, 2003. We do not <br />
have any problem until lately when we discovered <br />
that 4 chunks went down. So now we have brought up <br />
3 chunks and 1 chunk is still down!<br />
Don't know if this chunk has data, the 3 chunks that<br />
were successfully online are empty.<br />
<br />
-----------------<br />
Greatly appreciate any inputs, suggestions to solve this<br />
problem.<br />
<br />
<br />
<br />
Informix Dynamic Server Version 7.30.UC9    -- On-Line -- Up 18:01:20 -- 193680 Kbytes<br />
<br />
Dbspaces<br />
address  number   flags    fchunk   nchunks  flags    owner    name<br />
c5f0b158 1        1        1        1        N        informix rootdbs<br />
c5f0c918 2        1        2        1        N        informix plogdbs<br />
c5f0c9d8 3        1        3        2        N        informix llogdbs<br />
c5f0ca98 4        2001     4        1        N T      informix tmpdbs<br />
c5f0cb58 5        1        5        10       N        informix datdbs<br />
c5f0cc18 6        1        6        10       N        informix idxdbs<br />
 6 active, 2047 maximum<br />
<br />
Chunks<br />
address  chk/dbs offset   size     free     bpages   flags pathname<br />
c5f0b218 1   1   0        100000   91413             PO-   /informix/rootdbs/rootdbs<br />
c5f0b4f8 2   2   0        50000    49947             PO-   /informix/plogdbs/plogdbs<br />
c5f0b5d8 3   3   0        100000   947               PO-   /informix/llogdbs/llogdbs<br />
c5f0b6b8 4   4   0        250000   249947            PO-   /informix/tmpdbs/tmpdbs<br />
c5f0b798 5   5   0        1000000  7                 PO-   /informix/datdbs/datdbs<br />
c5f0b878 6   6   0        500000   1                 PO-   /informix/idxdbs/idxdbs<br />
c5f0b958 7   5   0        1000000  3                 PO-   /informix/datdbs/datdbs1<br />
c5f0ba38 8   6   0        1000000  70                PO-   /informix/idxdbs/idxdbs1<br />
c5f0bb18 9   5   0        1000000  5                 PO-   /informix/datdbs/datdbs2<br />
c5f0bbf8 10  6   0        500000   1                 PO-   /informix/idxdbs/idxdbs2<br />
c5f0bcd8 11  3   0        100000   48997             PO-   /informix/llogdbs/llogdbs1<br />
c5f0bdb8 12  6   0        500000   21241             PO-   /informix/idxdbs/idxdbs3<br />
c5f0be98 13  5   0        1000000  53                PO-   /informix/datdbs/datdbs3<br />
c5f0bf78 14  6   0        1000000  202269            PO-   /informix/idxdbs/idxdbs4<br />
c5f0c058 15  5   0        1000000  312285            PO-   /informix/datdbs/datdbs4<br />
c5f0c138 16  6   0        1000000  552774            PO-   /informix/idxdbs/idxdbs5<br />
c5f0c218 17  5   0        1000000  264853            PO-   /informix/datdbs/datdbs5<br />
c5f0c2f8 18  6   0        1000000  100945            PO-   /informix/idxdbs/idxdbs6<br />
c5f0c3d8 19  5   0        1000000  43949             PO-   /informix/datdbs/datdbs6<br />
c5f0c4b8 20  5   0        1000000  0                 PD-   /informix/datdbs/datdbs7<br />
c5f0c598 21  5   0        1000000  0                 PD-   /informix/datdbs/datdbs8<br />
c5f0c678 22  6   0        1000000  686433            PO-   /informix/idxdbs/idxdbs7<br />
c5f0c758 23  6   0        1000000  0                 PD-   /informix/idxdbs/idxdbs8<br />
c5f0c838 24  6   0        1000000  0                 PD-   /informix/idxdbs/idxdbs9<br />
c61244b0 25  5   0        1000000  999997            PO-   /informix/datdbs/datdbs9<br />
 25 active, 2047 maximum</div></div><hr />


<div class="post"><div class="posttop"><div class="username">triton45</div><div class="date">25th March 2004, 17:27</div></div><div class="posttext">First problem :<br />
Informix Dynamic Server Version 7.30.UC9 is no longer supported by IBM (End of Service =31-Mar-03).<br />
<br />
Are the chunks symbolic links to the disk space?  If yes, do the links exist and underlying lvol exist?<br />
<br />
Other options include doing a restore from before the chunks were marked down, then applying logical logs forward.  If you don't care what is in the chunk, I suppose you could try to drop the chunk and readd it.<br />
<br />
You could search http://groups.google.com/groups?hl=en&amp;lr=&amp;ie=UTF-8&amp;group=comp.databases.informix<br />
<br />
Andy</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kswong</div><div class="date">29th March 2004, 03:45</div></div><div class="posttext">hi Andy,<br />
Thank you very much for your suggestion.<br />
<br />
We are unable to drop the chunk either.<br />
Is there a way where we can see what's inside this chunk.<br />
We were able to bring online all the chunks except for <br />
datdbs7. it says &quot;ISAM error..................&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">triton45</div><div class="date">29th March 2004, 18:26</div></div><div class="posttext">I don't know of a way to see what is in a certain chunk, you can only see what is in a dbspace.<br />
<br />
I made a mistake earlier by suggesting to drop the chunk - since it has data in it, Informix will not allow you to drop it.<br />
<br />
The only 2 possible solutions I see:<br />
1. Call informix support:  see if they will mark the chunk online<br />
2. Replace the chunk either by replacing the disk or by linking another disk to the same path or link.  Then restore the entire dbspace from backup.<br />
<br />
<br />
Andy</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pwinter</div><div class="date">20th May 2004, 13:14</div></div><div class="posttext">Hi,<br />
<br />
We had a similar experience recently.<br />
<br />
A chunk was flagged as bad. We tried a restore first but there was a log-tape problem. As we are on 7.23ucl we are not officially supported but still maintained the contract as we are going to migrate very soon.<br />
I contacted Informix support (they were brilliant!) who managed to bring the chunk online for us. A recovery server was used to restore as recent a database as possible. We then used unload/dbload to move missing data back to the repaired tables.<br />
<br />
Paul</div></div><hr />



</div>
</body>
</html>