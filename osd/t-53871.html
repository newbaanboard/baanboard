<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Oracle Not Dropping Inactive Sessions...What?, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Oracle Not Dropping Inactive Sessions...What? Operating Systems &amp; Databases" />
	
	<title>Oracle Not Dropping Inactive Sessions...What? [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Operating Systems &amp; Databases</a> &gt; Oracle Not Dropping Inactive Sessions...What?</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">instant000</div><div class="date">3rd October 2008, 18:30</div></div><div class="posttext">DISCLAIMER:  I am not the DBA by job title, or experience, I am just trying to make this work.  I am not a Baan Developer by job title, or experience, I am just trying to make this work.<br />
<br />
We're using Oracle 9i Release 9.2.0.5.0 - 64 bit<br />
<br />
It appears that the inactive sessions are not dropping.  According to documentation that I have read, Oracle doesn't automatically drop the inactive sessions.<br />
<br />
When I look at the active sessions/processes in HP-UX 11.0, these sessions are no longer visible.<br />
<br />
Irregardless, they consume CPU and RAM, sitting there idly.  How do I best reclaim these resources?<br />
<br />
I do not know how to look at this stuff in Baan, so I have no idea at all of what is going on there, but I would think that if the session doesn't show in the OS, and shows inactive within the Database, it should be safe to kill, right?<br />
<br />
From what I can tell, experimentally, I can launch multiple Baan sessions.  But, I can do absolutely nothing, and those sessions will show inactive against the Oracle database, but still consume resources.  (The way users work is that they launch all of the 5 to 15 sessions they might need that day when they first arrive in the morning, and don't ever close them until the end of the day.)  <br />
<br />
This is my idea, please correct it:<br />
(1)  Create a profile called inactive_users<br />
(2)  Set this profile to have an inactive timeout<br />
(3)  Change users to use this profile<br />
<br />
I have tried this, and it does nothing.<br />
<br />
Does this have to be done through Baan?  If so, where is that parameter?  I haven't been able to use the correct search term, I suspect.<br />
<br />
Thanks!<br />
<br />
EDIT:  I found this link: <br />
http://www.baanboard.com/baanboard/showthread.php?s=&amp;threadid=9670<br />
AM CHECKING WITH BAAN DEVELOPER .....</div></div><hr />


<div class="post"><div class="posttop"><div class="username">instant000</div><div class="date">3rd October 2008, 18:47</div></div><div class="posttext">How can I tell what porting set we are on?<br />
<br />
My Baan developer appears to have gone back to ... Cali.  *heh*<br />
<br />
Anyway could someone please assist?  Thanks!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sushil</div><div class="date">4th October 2008, 09:07</div></div><div class="posttext">hello,<br />
<br />
in above said , you are referring to session in both Oracle and baan.<br />
Please let me know in what respect the sessions means.<br />
<br />
Oracle sessions or baan sessions ??<br />
<br />
Regards,<br />
Sushil Kumar Mudaliar.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sukesh75</div><div class="date">4th October 2008, 15:56</div></div><div class="posttext">Hi,<br />
  <br />
How can I tell what porting set we are on?<br />
<br />
<br />
In Baan, run the session Version Scan Tool {ttaad0500m000} and you would be able to see the porting set number somewhere in the bottom section of this session. <br />
<br />
Some of the executable files in the &lt;BSE&gt;\bin folder (on the server) also displays the porting set number.<br />
For e.g: Go to the properties of the file bwprint.exe, Click on the Version tab and check what is entered against the property name File Version in the box named &quot;Item Name&quot;. <br />
<br />
sk</div></div><hr />


<div class="post"><div class="posttop"><div class="username">instant000</div><div class="date">5th October 2008, 13:16</div></div><div class="posttext">In Baan, run the session Version Scan Tool {ttaad0500m000} and you would be able to see the porting set number somewhere in the bottom section of this session. <br />
<br />
Some of the executable files in the &lt;BSE&gt;\bin folder (on the server) also displays the porting set number.<br />
For e.g: Go to the properties of the file bwprint.exe, Click on the Version tab and check what is entered against the property name File Version in the box named &quot;Item Name&quot;. <br />
<br />
Sukesh, thanks.  My baan developer looked into some file and found the version, but thanks for this information, as it might prove quite helpful in the future.<br />
<br />
hello,<br />
in above said , you are referring to session in both Oracle and baan.<br />
Please let me know in what respect the sessions means.<br />
<br />
Oracle sessions or baan sessions ??<br />
<br />
Sushil:<br />
<br />
I am referring to both Oracle sessions and Baan sessions.<br />
<br />
These are my observations:<br />
<br />
User comes in at the beginning of the day, and launches all of the sessions that they will use during the day.  User will go through extended periods of time when they are not using these sessions, but it's quicker to click on the Window/Baan session they want, than it is to go all the way back through the menus, apparently.  Is there any way to reliably do the following:<br />
<br />
(1) Limit a user to a certain number of sessions [it is not uncommon to see users with upwards of ten sessions at a time.  I have actually been able to count twenty for several users...this is RIDICULOUS!]<br />
<br />
(2) Customize the application menu within Baan, so that users can have a section of &quot;favorite sessions&quot;.  This way, users can quickly launch sessions they want.  A feature like this would make it a lot easier to enforce session limiting, as the main reason users open all of the sessions that they need is because they find it cumbersome to navigate through Menu &gt; Sub-Menu &gt; Sub-Sub-Menu &gt; Sub-Sub-Sub Menu just to access a session.<br />
<br />
(3) Cause inactive Baan sessions to close after an idle period of 30 minutes<br />
<br />
(4) In some cases, the Baan sessions do not close properly, so they can<br />
not send the proper signal to the Oracle database to close the session.  Or, the session is coming from some reporting tool that directly attaches to the Oracle database, such as Oracle Discoverer, or Cyberquery How can I make sure that the session on the Oracle database is killed after a period of inactivity?  <br />
<br />
(5) We have certain sessions with Oracle run by a user &quot;BAANJOB&quot; which is for running Baan Jobs.  I want to make sure to exclude their sessions from being timed out.  If these sessions go inactive, I do not want them to be ended automatically.  I want an administrator to have to manually kill these sessions [whether it be in Oracle, or in Baan]<br />
<br />
This is what I attempted:<br />
<br />
I configured what I thought was the timeout parameter in Oracle, under a new profile in Oracle Enterprise Manager, and added my user account to that profile.  I then logged onto Baan using the user name that was assigned to that profile.   I then monitored the sessions running in Oracle.  The sessions that I opened in Baan, though they showed as inactive, did not end within Oracle, they just stayed there.  I have only two profiles with Oracle:  The default, which has unlimited, and the one that I created, which has the idle timeout.  ...but it did not work.  As far as I can tell, a user can only be in one profile.  I am not sure if there is some underlying mechanism whereby idle timeout won't affect a user that has certain other properties, as I am not a DBA.<br />
<br />
Environment:<br />
<br />
Baan:  Baan IVc3 Porting Set 6.1c.07.03<br />
Database:  Oracle 9i Release 9.2.0.5.0 - 64 bit<br />
Operating System:  HP-UX 11.0<br />
<br />
http://www.baanboard.com/baanboard/s...&amp;threadid=9670<br />
<br />
I'll be reviewing these Infor Solution IDs, as referenced from the above thread, and also from interactions with Infor Support:<br />
<br />
Solution ID 110907 which describes the session_timeout mechanism<br />
Solution ID 110908 on how to set the BSHELL resource variables<br />
<br />
I really appreciate any help that you can provide.<br />
<br />
Thanks!<br />
<br />
P.S.:  I may not reply until I can review this documentation and go over it with the Baan Developer.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dave_23</div><div class="date">6th October 2008, 19:25</div></div><div class="posttext">session_timeout will close idle bshells and log the user out of baan. it will basically do what you're looking for.<br />
<br />
<br />
but you should also download the oracle driver manual from baan support, there are a number of settings in there where you can do to reduce the number of open oracle sessions the driver creates.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dikkie Dik</div><div class="date">8th October 2008, 17:29</div></div><div class="posttext">Maybe not the answers you are looking for:<br />
<br />
1) 3rd screen in Maintain user data has an option to limt the amount of sessions for a user. No idea if it works.<br />
<br />
3) This does not exists. <br />
<br />
4) Oracle should detect if a link is broken and will clean up the server process.<br />
<br />
5) You can use a seperate db_resource file for batches. Also look at the database driver manual or the document in this link (http://www.baanboard.com/baanboard/showthread.php?t=7665). <br />
<br />
session_timeout only works on a whole bshell, not on a session from top of my head.<br />
<br />
Best regards,<br />
Dick</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sukesh75</div><div class="date">9th October 2008, 09:43</div></div><div class="posttext">hi,<br />
1) 3rd screen in Maintain user data has an option to limt the amount of sessions for a user. No idea if it works.It works &amp; thanks for pointing it out!<br />
<br />
sk</div></div><hr />


<div class="post"><div class="posttop"><div class="username">instant000</div><div class="date">10th October 2008, 11:59</div></div><div class="posttext">4) Oracle should detect if a link is broken and will clean up the server process.<br />
<br />
<br />
That isn't quite my problem.  The network link stays up.  My problem is that a user runs the query (say, in Oracle Discoverer), then never closes the Window, so the resources do not get freed up.  The same happens with my Baan users.  I mean, it's not that the network connection dies.  The network connection is strong.  I just want to keep the database available as much as possible.  Some of these reporting utilities appear to use poorly-designed reports [i dunno, that's just my opinion, they might actually be useful in some way] because they take massive amounts of CPU to be processed.   Oracle doesn't free up these resources after the query is completed, and the user still has that window open .... even though the user's query has completed, and returned a result already ... if we get too many users doing the same type of thing, we will have a resource bottleneck on the server.  <br />
<br />
This system isn't my area of expertise, but I feel learning about it would be for the greater good for my department's view in the eyes of the end users, as I will get complaints of slowness, for things that I have no control over .... so I want to take control over these types of issues.<br />
<br />
The problem got so bad that we ended up upgrading the processors in the server....of course we didn't buy them, too cheap for that, we just switched with a higher-grade system.<br />
<br />
I mean, is it normal for a Baan user to have 20 sessions going against the oracle database at a time?<br />
<br />
I do not think it is realistic to have 20 sessions open.  It seems inefficient.  If I had to open 20 sessions to do my job, I would work at some type of efficiency/streamlining of the process, but that's another issue.  First, you cut the grass, then you do the weedeating. (Basically, take care of the major problem first, then, work on the minor issues.)<br />
<br />
This is the reason I asked if there was any sort of way to have your &quot;favorite sessions&quot; or a short list of frequently used sessions, so you could launch them directly, without having to dig through all the lists of sessions.<br />
<br />
If we could do this, then it would be a lot easier to convince users to close their sessions after working in them, instead of leaving them open becausethey hate taking the time to browse to them through the menu-&gt;sub-menu &gt; sub-sub-menu &gt; sub-sub-sub-menu &gt; sub-sub-sub-sub-menu process.<br />
<br />
Thanks for your help!<br />
<br />
I am learning so much from using this board.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dave_23</div><div class="date">12th October 2008, 20:55</div></div><div class="posttext">Here is an example from the driver manual that i suggested you look at earlier. You can download it from infor365. it's document #U7155B US<br />
(for baan 4)<br />
<br />
bdb_max_session_schedule / BDB_MAX_SESSION_SCHEDULE<br />
Driver resource bdb_max_session_schedule<br />
Environment variable BDB_MAX_SESSION_SCHEDULE<br />
Client/Server resource Set for server only<br />
Type Integer<br />
Default 3<br />
Description This variable defines the mechanism for closing idle<br />
sessions in the driver. Whenever the client process has<br />
no more references (cursors or queries) to the session,<br />
it can be closed by the client. Closing an idle session is<br />
done after a number of schedule ticks. A schedule tick<br />
is generated whenever a BAAN IV session is ended. At<br />
this point, all idle sessions will have a schedule counter<br />
incremented. When the value of the schedule counter<br />
reaches the value of bdb_max_session_schedule, the<br />
session is closed<br />
The default for bdb_max_session_schedule is three.<br />
Setting bdb_max_session_schedule to one would<br />
result in fewer connections from the driver to the<br />
RDBMS. This is because whenever a BAAN IV session<br />
is finished, the corresponding RDBMS session (logon)<br />
is closed (logoff).</div></div><hr />



</div>
</body>
</html>