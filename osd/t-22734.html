<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Delete Lines in Unix without vi ?, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Delete Lines in Unix without vi ? Operating Systems &amp; Databases" />
	
	<title>Delete Lines in Unix without vi ? [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Operating Systems &amp; Databases</a> &gt; Delete Lines in Unix without vi ?</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">learner</div><div class="date">31st December 2004, 04:59</div></div><div class="posttext">Hi,<br />
<br />
I have a file in Unix which is some 30 mb in size , i would like to delete the first lets say 3000 lines without opening the file in vi editor ... can i do it ???<br />
<br />
How can i delete or reduce the file size while sitting on shell prompt ?<br />
<br />
Regards<br />
<br />
Learner</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Markus Schmitz</div><div class="date">31st December 2004, 08:24</div></div><div class="posttext">Hi learner,<br />
<br />
you can do this in many ways. Here are some:<br />
<br />
a) truncate the file<br />
<br />
&gt; filename<br />
<br />
b) get the last 1000 lines of the file<br />
<br />
tail -n 10000 filename &gt; new_filename<br />
<br />
b) get the first 1000 lines of the file<br />
<br />
head -n 10000 filename &gt; new_filename<br />
<br />
<br />
Regards<br />
<br />
Markus</div></div><hr />


<div class="post"><div class="posttop"><div class="username">learner</div><div class="date">31st December 2004, 08:46</div></div><div class="posttext">Hello,<br />
<br />
but if some process is writing to the file, then from the shell prompt even though i give command <br />
<br />
&gt; logfile<br />
<br />
then also it shows file size as same. Is it that the file size using ls -l will give me correct once this process stops writing to the file ?<br />
<br />
Regards<br />
<br />
Learner</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dikkie Dik</div><div class="date">31st December 2004, 11:13</div></div><div class="posttext">Learner,<br />
<br />
awk '{if (NR&gt;30000) print $0}' &lt;your_file&gt; &gt; &lt;your_new_file&gt;<br />
<br />
does the job you asked for. Drawback: his only works fine if awk can handle the file. E.e.g awk can't handle files with too many words on a line.<br />
<br />
I assume you get much better feedback for these questions on UNIX scripting forums like here (http://www.tek-tips.com/threadminder.cfm?pid=822).<br />
<br />
Hope this helps,<br />
Dick</div></div><hr />


<div class="post"><div class="posttop"><div class="username">learner</div><div class="date">31st December 2004, 12:12</div></div><div class="posttext">Hi,<br />
<br />
Thanks for the same.<br />
<br />
Regards<br />
<br />
Learner</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Nancy Mathew</div><div class="date">10th January 2005, 23:17</div></div><div class="posttext">Hi,<br />
<br />
There is a simple option to use the split command on the file.<br />
<br />
$spilt -linecount filename prefix<br />
<br />
the default linecount is 1000 <br />
The output will be multiple files of linecount # of rows.<br />
<br />
Files will be named:<br />
prefixaa<br />
prefixab and so on<br />
<br />
Regards,<br />
Nancy</div></div><hr />



</div>
</body>
</html>