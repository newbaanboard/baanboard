<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="How to copy a file to ftp through scheduler?, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] How to copy a file to ftp through scheduler? Operating Systems &amp; Databases" />
	
	<title>How to copy a file to ftp through scheduler? [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Operating Systems &amp; Databases</a> &gt; How to copy a file to ftp through scheduler?</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">suhas-mahajan</div><div class="date">12th February 2003, 08:46</div></div><div class="posttext">Dear All,<br />
<br />
For updating my site, I have to copy .MDB file to my ftp area daily, I have to connect to ftp area and I am manually copying it, I want to make it automatic, How to resolve this problem? Is there any way in BaaN? <br />
<br />
Waiting for immediate reply.<br />
<br />
-Suhas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">OmeLuuk</div><div class="date">12th February 2003, 13:24</div></div><div class="posttext">There is no way in Baan to do this,<br />
there is a Multi Level Download Tool that creates an ftp-script that automates a lot of these things.<br />
<br />
You can modify a copy of $BSE/lib/ftpbaan to perform your task and schedule it via the crontab (at on Windows).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">norwim</div><div class="date">12th February 2003, 23:48</div></div><div class="posttext">Hi there!<br />
<br />
On M$ Systems it is very easy to automate ftp sessions:<br />
if you have a file called EXAMPLE.XXX with the content:<br />
-----------------<br />
open 123.123.123.123<br />
user<br />
password<br />
cd /somewhere<br />
lcd d:\DIR<br />
prompt<br />
bin<br />
mget *.mdb<br />
bye<br />
-----------------<br />
you can call ftp with a parameter to execute all these ftp commands (something like ftp \s:EXAMPLE.XXX, but I am not 100% sure about the syntax)<br />
<br />
You can write a .bat file and start that with AT or<br />
call this bat-file from a baan program using shell command.<br />
<br />
hth<br />
<br />
Norbert</div></div><hr />


<div class="post"><div class="posttop"><div class="username">suhas-mahajan</div><div class="date">21st February 2003, 07:03</div></div><div class="posttext">Dear norwim / OmeLuuk,<br />
<br />
 I think you are very near to my solution, here I am giving more details so that things will clear to me. See, daily at night we are updating our site which is MS-Access based. There were big issue, how to send data to MDB file. Daily night we are taking sequential backup. We made a program in VB which will convert this .S files into text and text into MDB, because our database side is not that much strong and we don't want to select ODBC/Net8 way. But some times in the nights we couldn't take sequential backup because of night shifts, month-end back-logs, etc. result no site updation. To overcome this problem, I am making one session where I used seq.open for making text files, in VB I made a program which send text files to tables of .MDB now the last part is remained that is how to copy this .MDB file to ftp area. see the form:<br />
c:\windows\desktop\pcobd.bmp <br />
<br />
Hope this will help you for finding solution for me.<br />
<br />
-Suhas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">MATT12</div><div class="date">2nd April 2003, 11:58</div></div><div class="posttext">Hi to all,<br />
<br />
<br />
         In our company which is connected through network, I developed an internal Website link to baan. I'm currently using Windows NT for my PC and to our baan server we are using Unix. I link all important Database through ODBC. for all queries regarding baan we all use the site we called Portal. we only have only 21 baan licensed and more than 200 baan user in our company it is much reliable and useful to us. maybe it will help you guys.<br />
<br />
Thank You.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">suhas-mahajan</div><div class="date">4th April 2003, 11:36</div></div><div class="posttext">Dear Matt,<br />
 My aim is, just to copy MDB file to ftp area through schedular. :) <br />
because it is not possible for me to change entire architecture of my site connecting with ODBC.<br />
 If you have any idea, please let me know.<br />
 Norwin is very near to my solution, but what is m$ system, I couldn't get.<br />
<br />
-Suhas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">benito</div><div class="date">4th April 2003, 18:46</div></div><div class="posttext">Hi suhas,<br />
<br />
That was what norwim was saying. Create a .bat file that includes your ftp and schedule it with &quot;at&quot; command. <br />
<br />
That should solve your problem.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">victor_cleto</div><div class="date">5th April 2003, 17:24</div></div><div class="posttext">This thread has been moved to operating systems since is OS related.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">norwim</div><div class="date">7th April 2003, 11:32</div></div><div class="posttext">M$ = Microsoft,<br />
<br />
sorry</div></div><hr />


<div class="post"><div class="posttop"><div class="username">countnikon</div><div class="date">18th April 2006, 18:50</div></div><div class="posttext">What I have done is I have a shell script that does the FTP connection and a baan session that calls this script and uploads the data.  Then on the web server, I use PHP to import the data to mysql.  Here is an example of my baan code: <br />
<br />
<br />
function run.upload()<br />
{<br />
	long j<br />
	long i<br />
	domain tcmcs.s100 input.filename<br />
	domain tcmcs.s100 input.filename2<br />
	domain tcmcs.s100 input.filename3<br />
	long templong<br />
	templong = run.prog(&quot;/baan/parts/import.orders&quot;,&quot;&quot;,RP_WAIT)<br />
	| Clear Previous Load<br />
	message(&quot;Clearing any Previous Uploaded Data from tdsls994..&quot;)<br />
	clear.tdsls994()<br />
	message(&quot;Clearing any Previous Uploaded Data from tdsls995..&quot;)<br />
	clear.tdsls995()<br />
	message(&quot;Clearing any Previous Uploaded Data from tdsls996..&quot;)<br />
	clear.tdsls996()<br />
<br />
	for i=6 to 19<br />
		for j=0 to 6<br />
			if i&lt;10 then<br />
				input.filename=&quot;/baan/parts/orders_&quot;&amp;date$&amp;&quot;_0&quot;&amp;str$(i)&amp;&quot;0&quot;&amp;str$(j)&amp;&quot;.txt&quot;<br />
				input.filename2=&quot;/baan/parts/orderlines_&quot;&amp;date$&amp;&quot;_0&quot;&amp;str$(i)&amp;&quot;0&quot;&amp;str$(j)&amp;&quot;.txt&quot;<br />
				input.filename3=&quot;/baan/parts/address_&quot;&amp;date$&amp;&quot;_0&quot;&amp;str$(i)&amp;&quot;0&quot;&amp;str$(j)&amp;&quot;.txt&quot;<br />
			else<br />
				input.filename=&quot;/baan/parts/orders_&quot;&amp;date$&amp;&quot;_&quot;&amp;str$(i)&amp;&quot;0&quot;&amp;str$(j)&amp;&quot;.txt&quot;<br />
				input.filename2=&quot;/baan/parts/orderlines_&quot;&amp;date$&amp;&quot;_&quot;&amp;str$(i)&amp;&quot;0&quot;&amp;str$(j)&amp;&quot;.txt&quot;<br />
				input.filename3=&quot;/baan/parts/address_&quot;&amp;date$&amp;&quot;_&quot;&amp;str$(i)&amp;&quot;0&quot;&amp;str$(j)&amp;&quot;.txt&quot;<br />
			endif<br />
			| Load File<br />
			if upload.tdsls994(input.filename) then<br />
			|message(input.filename)<br />
				shell(&quot;mv &quot;&amp;input.filename&amp;&quot; &quot;&amp;input.filename&amp;&quot;.loaded&quot;,0)<br />
			endif<br />
			if upload.tdsls995(input.filename2) then<br />
				shell(&quot;mv &quot;&amp;input.filename2&amp;&quot; &quot;&amp;input.filename2&amp;&quot;.loaded&quot;,0)<br />
			endif<br />
			if upload.tdsls996(input.filename3) then<br />
				shell(&quot;mv &quot;&amp;input.filename3&amp;&quot; &quot;&amp;input.filename3&amp;&quot;.loaded&quot;,0)<br />
			endif<br />
		endfor<br />
  	endfor<br />
	create.tccom013()<br />
	create.tdsls040()<br />
	templong = run.prog(&quot;/baan/parts/output.orders&quot;,&quot;&quot;,RP_WAIT)<br />
}<br />
<br />
<br />
And then here is an example of my shell script<br />
<br />
# /usr/local/bin/baan.csiparts<br />
# script to upload data from baan to CSI Online Parts Ordering System<br />
ip_address=***.***.***.***<br />
ip_user=***<br />
ip_pass=***<br />
<br />
ftp_mode=binary<br />
logfile=&quot;/usr/local/var/partslog.log&quot;<br />
ftpworked=n<br />
<br />
#run ftp command<br />
echo &quot;getting inventbycwar.txt&quot;<br />
ftp -n -v $ip_address &lt;&lt;-EOFtp &gt;$logfile 2&gt;&amp;1<br />
user $ip_user $ip_pass<br />
$ftp_mode<br />
prompt off<br />
#ftp commands<br />
lcd /baan/parts<br />
put &quot;inventbycwar.txt&quot;<br />
put &quot;ariel_parts.txt&quot;<br />
put &quot;customers.txt&quot;<br />
put &quot;address.txt&quot;<br />
bye<br />
EOFtp<br />
rm /baan/parts/inventbycwar.txt<br />
rm /baan/parts/ariel_parts.txt<br />
rm /baan/parts/customers.txt<br />
rm /baan/parts/address.txt</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bdittmar</div><div class="date">18th April 2006, 19:47</div></div><div class="posttext">Dear Matt,<br />
 My aim is, just to copy MDB file to ftp area through schedular. :) <br />
because it is not possible for me to change entire architecture of my site connecting with ODBC.<br />
 If you have any idea, please let me know.<br />
 Norwin is very near to my solution, but what is m$ system, I couldn't get.<br />
<br />
-Suhas<br />
<br />
<br />
Hello Suhas,<br />
Norwim means MS-System (Microsoft System).<br />
He's an UX Fan, like me.<br />
On UX you can use &quot;rcp&quot; command (Dont't know, if this command is available on MS-Systems).<br />
<br />
With this command i copy a lot of files to our MS based CRM System every night.<br />
<br />
Write the TXT-Files -&gt; convert with ux2dos and rcp it to target system.<br />
<br />
Regards<br />
<br />
I checked MS, RCP (remote copy) is available on W2K-Systems.<br />
<br />
Syntax : RCP [-a|-b] [-h] [-r] [HOST][.USER:]SOURCE [HOST][.USER:]PATH\TARGET<br />
<br />
-a = ASCII-Mode<br />
-b = Binary-Mode<br />
-h = transfer hidden files<br />
-r = copy subdirs (rekursive)<br />
<br />
The remote shell daemon RSHD has to run on target system (W2k3 Server).</div></div><hr />



</div>
</body>
</html>