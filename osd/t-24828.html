<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="increasing shared memory size, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] increasing shared memory size Operating Systems &amp; Databases" />
	
	<title>increasing shared memory size [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Operating Systems &amp; Databases</a> &gt; increasing shared memory size</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">scpcooin</div><div class="date">13th August 2005, 21:55</div></div><div class="posttext">Hi,<br />
<br />
We have AIX 5.3, Informix and when I see the shm_param file, it shows me the following parameters, where in segment layout there are 10 steps and address space is 256 MB. I want to know how to increase the number of steps to 30 and increase the address space to 2 GB. Please suggest me of how I can acheive this?<br />
<br />
shm_param generated by shmvalues6.2<br />
<br />
# Preallocated memory for this setup: 16Mb<br />
# Maximum segment size: 1024.0Mb (1048576)<br />
# Address space: 256Mb (may depend on the program and kernel settings)<br />
# Segment layout: (16384Kb per segment)<br />
# 0: ccb00000 step 00000000 gap 00000000<br />
# 1: ceb00000 step 02000000 gap 01000000<br />
# 2: cfb00000 step 01000000 gap 00000000<br />
# 3: d0b00000 step 01000000 gap 00000000<br />
# 4: d1b00000 step 01000000 gap 00000000<br />
.....<br />
# 10: eed00000 step 01000000 gap 00000000<br />
<br />
default:;<br />
{<br />
<br />
Thanks<br />
<br />
Rgds/scpcooin</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dave_23</div><div class="date">13th August 2005, 22:49</div></div><div class="posttext">Just out of curiosity, why would you want to do that?<br />
<br />
Also - <br />
Usage: shmvalues6.1 [-dtvV][-s KB][-m Mb][-n &lt;nseg&gt;]<br />
<br />
        -d : Show debugging information<br />
        -t : Test allocated segments (this may be slow)<br />
        -s : segment size (default = 16384)<br />
        -m : preallocated memory (default = 16)<br />
        -n : maximum number of segments (default = 30)<br />
<br />
Dave</div></div><hr />


<div class="post"><div class="posttop"><div class="username">scpcooin</div><div class="date">14th August 2005, 02:08</div></div><div class="posttext">Hi Dave,<br />
<br />
thnx for your reply<br />
<br />
The reason is that we have around 4-5 servers on which the segment layout goes to 30 steps, but on this server it is just 10. I have tried using the command given by you alreatdy but the no of steps stays at 10, what could be the reason? Please advice.<br />
<br />
Thanks in advance.<br />
<br />
Rgds/scp</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dave_23</div><div class="date">14th August 2005, 02:31</div></div><div class="posttext">It probably has something to do with your kernel parameters. shmmax shmmin, etc.<br />
<br />
and you know you have to shmvalues6.1 &lt;flags&gt; &gt; $BSE/lib/shmparam <br />
right?<br />
<br />
I ask - because shared memory on most system is nearly useless, so unless<br />
you're seeing a problem - the difference between your servers isn't a particularly big deal..<br />
<br />
Dave</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Nick Cooley</div><div class="date">17th August 2005, 02:22</div></div><div class="posttext">We have a similar set-up on AIX 5.3. We are migrating from Solaris and I too noticed the difference in shared memory values. I have increased the segment size to 32 MB instead of adding more segments. This was done using shmvalues6.1. Main reason I did it was to make our new environment as close to our old one. Although most peoples opinions seem to suggest there is little to gain from increasing the default values.<br />
One question I do have though, is how to increase the AIX shared memory parameters, which have a direct influence on Informix. They are dynamic so cannot be increased manually. If you are using Informix I would be interested to see your onconfig file and it's shared memory settings.<br />
<br />
Nick</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Viplov</div><div class="date">31st October 2005, 07:54</div></div><div class="posttext">The shmvalues6.2 program finds the boundaries of shared memory by itself and generates a default entry, which you can include in the shm_param parameter file. <br />
<br />
For example:<br />
<br />
default:;<br />
{<br />
}<br />
Machine_id:;<br />
{<br />
}<br />
Machine_id/OS release:;<br />
{<br />
SHM_START = a40000<br />
SHM_STEP = 80000<br />
SHM_BUFSIZE = 512<br />
SHM_MAXMEM = 10<br />
}<br />
SHM_START is the start address of the first shared-memory segment.<br />
SHM_STEP is the difference between the start addresses of two consecutive<br />
segments.<br />
SHM_BUFSIZE is the size of a segment in KB.<br />
SHM_MAXMEM is the maximum number of segments.<br />
The syntax for shmvalues6.2 is:<br />
shmvalues6.2 [-dvV] [-m Seg_size_in_MB] [-s Seg_size_in_KB]<br />
Possible options are as follows:<br />
d : the d option provides you with additional information through error<br />
messages when the boundaries of the operating system are exceeded.<br />
m : the shmvalues6.2 program first tries to allocate 4 MB of memory to make<br />
sure enough memory is left after shared memory has been installed. You can use<br />
the m option to increase or decrease the amount of allocated memory. You<br />
specify it in megabytes, that is, m 3 = 3 MB.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Viplov</div><div class="date">31st October 2005, 08:01</div></div><div class="posttext">In case of informix it would be:<br />
<br />
onmode -a &lt;kbytes&gt; Increase shared memory segment size</div></div><hr />



</div>
</body>
</html>