<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Performance Problem ~ Calculate Commissions, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Performance Problem ~ Calculate Commissions Performance &amp; Tuning" />
	
	<title>Performance Problem ~ Calculate Commissions [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="index.html">Newbaanboard</a> &gt; <a href="index.html">Baan SIGs</a> &gt; <a href="index.html">Performance &amp; Tuning</a> &gt; Performance Problem ~ Calculate Commissions</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">jroberts</div><div class="date">6th December 2001, 23:47</div></div><div class="posttext">Baan IVc4 SP5, NT 4, Oracle 8.05<br />
We are having serious performance problems with calculate commissions.  It runs for about 22 - 25 hours every month. The setup is complex, with between three and five people getting commission on any sales order line, depending on the customer &amp; item.<br />
<br />
I did some testing on test server and found out that it was taking<br />
about 15 minutes to calc for 100 sales orders (900 so lines).<br />
<br />
So I enabled the 'display refresh = 180' and number of servers = 2 performance boosters, but that did not make a difference on the<br />
run time.<br />
<br />
When it is calculating, you can look at the task manager, and see the oracle 80 process sitting @ 100 % (of one processor).<br />
<br />
Has anyone else had performance problems with calculate commissions ?<br />
Suggestions on my next steps ?<br />
<br />
John</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JamesV</div><div class="date">7th December 2001, 15:23</div></div><div class="posttext">John,<br />
<br />
We are having serious performance problems with calculate commissions. It runs for about 22 - 25 hours every month. The setup is complex, with between three and five people getting commission on any sales order line, depending on the customer &amp; item.  <br />
<br />
This is one of the problem sessions in Baan.  When you have a complex commission structure and you probably have a large number of sales order lines, the data volume involved results in large tables which causes query performance problems.  Several of our customers have had mods done to this session to improve the commission calc process, or have offloaded the process to another program.<br />
<br />
There is not a simple answer to this one.  Sorry.<br />
<br />
I would check on the support web site because I believe there are some performance related patches for this session.  I do not know if they were already included in SP5.<br />
<br />
So I enabled the 'display refresh = 180' and number of servers = 2 performance boosters, but that did not make a difference on the  <br />
<br />
The display performance boosters will have little impact on a batch session like this one when running on a local LAN and if the process is spinning on an Oracle query issue.<br />
<br />
I do not recall how the program uses multiple bshells.  Many of the performance boosters were fixed in c4 and did not work in c2.  Most of my customers were c2 or c4 soI do not know with c3.  <br />
<br />
When it is calculating, you can look at the task manager, and see the oracle 80 process sitting @ 100 % (of one processor).  <br />
<br />
This is the key fact -- you probably have a query that is taking a long time to resolve.  If you send me an email I can direct you to a tool that may help you to diagnose the individual query issue.  I suspect that you have an indexing/table size related issue that is manifest with some poor queries or optimization (wrong hint, etc.)  -- two problems working in conjunction to cause your performance issue.<br />
<br />
I wish I had a simple answer for you on this one, but unfortunately, sometimes Baan queries are sub-optimal when run against large or complex datasets.  <br />
<br />
-- Jim</div></div><hr />



</div>
</body>
</html>