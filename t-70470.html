<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="AFS hangs on second iteration of update, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] AFS hangs on second iteration of update AFS/DDC/OLE: Function servers" />
	
	<title>AFS hangs on second iteration of update [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="index.html">Newbaanboard</a> &gt; <a href="index.html">Baan SIGs</a> &gt; <a href="index.html">AFS/DDC/OLE: Function servers</a> &gt; AFS hangs on second iteration of update</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">VishalMistry</div><div class="date">2nd October 2017, 16:20</div></div><div class="posttext">Hello,<br />
<br />
I have a session which calls upon AFS of tdsls4102s000 (sales order lines) for updating the warehouse in open sales order lines. The issue is the session just hangs on second record when it tries to update. It goes through perfectly on first record, but when the select query reaches second record, after successfully puting (tdsls041.orno &amp; tdsls041.pono) it simply hangs on the stpapi.update call.<br />
<br />
I have attached script with a hope to find what could be wrong in the script. Any hint will be highly appreaciated.<br />
<br />
Vishal</div></div><hr />


<div class="post"><div class="posttop"><div class="username">rahul ingale</div><div class="date">2nd October 2017, 17:54</div></div><div class="posttext">Check return value of stpapi.update.if return value is zero then recover the session.use set commands AFS.LoG = 1 to check how AFS running.file will be created in temp folder.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">2nd October 2017, 18:41</div></div><div class="posttext">Watch you background processes.  Make sure the update is not starting something unaccounted for in the code.  And if necessary close the session inside the selectdo or even try a suspend statement after each update(give the background session plenty of time to process before trying the next record).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">VishalMistry</div><div class="date">11th October 2017, 18:31</div></div><div class="posttext">Hello Mark,<br />
<br />
I thoroughly tested and it was not an issue related to any sub-process started. I just had to check the result of stpapi.update call, before making any further stpapi call. In case the stpapi.update call fails, then any subsequent stpapi call would fail.<br />
<br />
I have attached script part for reference in case someone faces similar issue.<br />
<br />
Thanks,<br />
Vishal</div></div><hr />



</div>
</body>
</html>