<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="AFS Problem, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] AFS Problem AFS/DDC/OLE: Function servers" />
	
	<title>AFS Problem [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="index.html">Newbaanboard</a> &gt; <a href="index.html">Baan SIGs</a> &gt; <a href="index.html">AFS/DDC/OLE: Function servers</a> &gt; AFS Problem</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">kruyoupatel</div><div class="date">29th June 2015, 15:18</div></div><div class="posttext">Hello Guys,<br />
<br />
I am stuck with simple problem.<br />
<br />
There's a code in before.program section which throws message.<br />
<br />
My code is unable to fetch that message.<br />
<br />
Similar is the case in one more session where message is triggered in after.choice with no choice.again().<br />
<br />
Can anyone suggest how to receive this messages in AFS?<br />
<br />
These are warning/critical messages and not error message.<br />
<br />
i tried with stpapi.get.mess.code but didn't receive any error in it.:confused:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">29th June 2015, 15:47</div></div><div class="posttext">What is the session?  Do you know what causes the messages to get displayed?  I know for a few sessions I code in checks just to make sure certain errors or messages do not occur.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kruyoupatel</div><div class="date">29th June 2015, 17:40</div></div><div class="posttext">Hi Mark,<br />
<br />
Session is Audit Payments (tfcmg1255m000) BaanIV.<br />
<br />
Code written in before.program was to check the Payment Authorization.<br />
<br />
Also in one of my custom session we providing a message pop-up for created Batch.<br />
But in case of AFS that message is ignored. Even stpapi.get.mess.code() gives empty string.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">29th June 2015, 17:55</div></div><div class="posttext">Yeah - if the message is only a warning the stpapi.get.mess.code does not always catch it.  The problem is in the background the session keeps running and does not wait for something like an okay to clicked.  So by the time you execute the stpapi command the message is gone(or cleared). At least that is my theory.  <br />
<br />
Have you tried multiple stpapi.get.mess.code?  See if maybe there might be multiple messages or something - according to documentation it will hold upto 20 messages or warnings.  Never really tried it myself - I either code around it, or code to prevent the warning.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">29th June 2015, 17:56</div></div><div class="posttext">Also - can you post the relevent piece of code.  Wondering how and when the session gets started.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bhushanchanda</div><div class="date">29th June 2015, 22:30</div></div><div class="posttext">Also, you can try exporting a variable and then importing it back using <br />
<br />
export(&quot;api.error.mesg&quot; ,api.error.mesg)<br />
<br />
and <br />
<br />
import(&quot;api.error.mesg&quot; ,api.error.mesg) <br />
<br />
And, if not, then, you need to have Payment Authorization for the user id to run the session without any issues. That sounds like a better solution over this.</div></div><hr />



</div>
</body>
</html>