<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Rounding problem, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Rounding problem Tools Development" />
	
	<title>Rounding problem [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; Rounding problem</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">pjohns</div><div class="date">3rd March 2009, 17:19</div></div><div class="posttext">Hello,<br />
<br />
We have an invoice layout where we are doing a currency conversion on the invoice total using a print expression in the report field. The expression we are using is -<br />
<br />
(invo.totl*tdsls045.rats)/tdsls045.ratf<br />
<br />
This is causing a rounding difference of 0.01 So we have an total of 150.57 instead of 150.56. Our customers system will not allow for any tollerance in totals so they are rejecting our invoices. <br />
<br />
How can I resolve my issue?<br />
<br />
Thanks<br />
<br />
PJ</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Kozure Ohashi</div><div class="date">3rd March 2009, 17:32</div></div><div class="posttext">You can try:<br />
<br />
<br />
round((invo.totl*tdsls045.rats)/tdsls045.ratf,2,1)<br />
<br />
in the field or report script, or reprogram the baan logic for rounding detail lines in invoices to match 100 % same amount.<br />
<br />
Regards,<br />
<br />
Kozure</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pjohns</div><div class="date">3rd March 2009, 17:35</div></div><div class="posttext">Thanks Kozure,<br />
<br />
I have already tried round((invo.totl*tdsls045.rats)/tdsls045.ratf,2,1) but that made no difference.<br />
<br />
<br />
PJ</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">3rd March 2009, 17:48</div></div><div class="posttext">What I did for my customers was get them agree to let me apply the difference to the last line.  This was not invoices, but same theory.  What I had to do was track the difference.  For this example lets say I have 2 lines of data. So I set up a total variable, calculate first line amount. Subtract first line amount from total. Then calculate second line total. Subtract from the total amount again.  Then after the selectdo I add that difference to the last line.  So if I had a 10.25 cost and 50% line 1 and 50% line 2 then line 1 got 5.12 and line 2 got 5.13.  It worked for what I needed. I have to admit I was doing this in tables in a script and not in a report. So I had a subroutine to apply the balance of the difference to the last line.  Not sure if this type logic will work for you.</div></div><hr />



</div>
</body>
</html>