<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Create Price Book Entry, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Create Price Book Entry Tools Development" />
	
	<title>Create Price Book Entry [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; Create Price Book Entry</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">martin.f</div><div class="date">20th November 2019, 17:02</div></div><div class="posttext">Hello,<br />
I am new to Baan/ Infor LN extension development.<br />
I try to create a price book entry like this:<br />
<br />
<br />
error.found = dal.new.object(&quot;tdpcg031&quot;)<br />
        if error.found<br />
                then<br />
                        dal.set.error.message(&quot;@Cannot update tdpcg031 for item %1$s.&quot;, i.item)<br />
                        return(DALHOOKERROR)<br />
                <br />
                else<br />
                        dal.set.field(&quot;tdpcg031.prbk&quot;, pb)                                 <br />
                        dal.set.field(&quot;tdpcg031.item&quot;, i.item)<br />
                        dal.set.field(&quot;tdpcg031.curn&quot;, cur)<br />
                        dal.set.field(&quot;tdpcg031.qtun&quot;, cuni)<br />
                        dal.set.field(&quot;tdpcg031.bapr&quot;, pr)<br />
                        dal.set.field(&quot;tdpcg031.prty&quot;, tp)<br />
                        dal.set.field(&quot;tdpcg031.migt&quot;, thres)<br />
                        dal.set.field(&quot;tdpcg031.brty&quot;, tdpcg.brty.min)<br />
                        dal.set.field(&quot;tdpcg031.prun&quot;, &quot;pcs&quot;)<br />
                error.found = dal.save.object(&quot;tdpcg031&quot;)<br />
                if error.found then<br />
                        dal.set.error.message(&quot;@Cannot update tdpcg031 for item %1$s.&quot;, i.item)<br />
                        return(DALHOOKERROR)<br />
                        <br />
                endif<br />
                endif<br />
<br />
<br />
When running this code dal.save.object raises an error:<br />
<br />
The field &quot;quantity unit&quot; has an invalid value for &quot;price book position&quot;.<br />
Unit &quot;pcs&quot; in unit set &quot;&quot; not exisistant.<br />
<br />
<br />
The standard unit set in our system is &quot;100&quot;. The variable cuni hast the value &quot;pcs&quot;.<br />
I think I should tell the system that it must take the &quot;pcs&quot; of unit set &quot;100&quot;.<br />
<br />
What do you think? I just want to create a price book entry.<br />
<br />
Thanks <br />
Martin</div></div><hr />


<div class="post"><div class="posttop"><div class="username">martin.f</div><div class="date">21st November 2019, 09:17</div></div><div class="posttext">I've attached a screenshot with the session what I mean with &quot;unit set&quot;.<br />
<br />
Regards<br />
Martin</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JaapJD</div><div class="date">21st November 2019, 14:05</div></div><div class="posttext">The unit must exist in the unit set of the item.<br />
(Maybe the item cannot be found, because your i.item is not formatted correctly in the 2nd segment.)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">martin.f</div><div class="date">21st November 2019, 16:04</div></div><div class="posttext">That was the problem, I hard coded the article number for testing as a string and I think some spaces before or sth. like that was missing.<br />
<br />
Thanks!</div></div><hr />



</div>
</body>
</html>