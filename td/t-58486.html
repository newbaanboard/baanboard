<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="searching number in string, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] searching number in string Tools Development" />
	
	<title>searching number in string [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; searching number in string</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">preethi</div><div class="date">25th May 2010, 14:59</div></div><div class="posttext">Hi,<br />
<br />
i have used 'pos' to get the position of a long value in string .<br />
i converted the long value to string using str$, but it didn't work causing pos function to return zero.<br />
are there any limitations to pos &amp; str$...<br />
are there any functions that will help me out..?<br />
<br />
Thanking you in Advance</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">25th May 2010, 19:33</div></div><div class="posttext">Post some code.  I do not understand where the problem might be.  Lets see what you are trying to do.  That will help us.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kiran kumar</div><div class="date">26th May 2010, 08:11</div></div><div class="posttext">Hi,<br />
<br />
Use  isdigit(Srting Variable) function to get the number in string.<br />
<br />
Regards<br />
<br />
Kiran Kumar K</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zardoz</div><div class="date">26th May 2010, 11:02</div></div><div class="posttext">Hi,<br />
<br />
Use  isdigit(Srting Variable) function to get the number in string.<br />
<br />
Regards<br />
<br />
Kiran Kumar K<br />
<br />
isdigit function returns a boolean that states IF the string is a number...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">preethi</div><div class="date">7th June 2010, 09:52</div></div><div class="posttext">hi the sample code is mentioned below..<br />
<br />
extern domain tcrefb  prnumber<br />
long prnumb<br />
..<br />
...<br />
prnumber = tdpur040.refb(1;7)<br />
if isdigit(prnumber) &lt;&gt; 0 then <br />
...<br />
..<br />
else<br />
....<br />
..<br />
endif<br />
<br />
tcrefb is multi byte string domain for tdpur040.refb field <br />
for example: eventhough 'prnumber' contains digits like 17458 'isdigit(prnumber)' is negative.<br />
<br />
any ideas are welcome.<br />
<br />
Thanking you in advance</div></div><hr />


<div class="post"><div class="posttop"><div class="username">manish_patel</div><div class="date">7th June 2010, 12:57</div></div><div class="posttext">hi the sample code is mentioned below..<br />
<br />
extern domain tcrefb  prnumber<br />
long prnumb<br />
..<br />
...<br />
prnumber = tdpur040.refb(1;7)<br />
if isdigit(prnumber) &lt;&gt; 0 then <br />
...<br />
..<br />
else<br />
....<br />
..<br />
endif<br />
<br />
tcrefb is multi byte string domain for tdpur040.refb field <br />
for example: eventhough 'prnumber' contains digits like 17458 'isdigit(prnumber)' is negative.<br />
<br />
any ideas are welcome.<br />
<br />
Thanking you in advance<br />
<br />
Below statement gives error as you are trying to assign string value to a variable that declared as a long.<br />
<br />
prnumber = tdpur040.refb(1;7)<br />
<br />
Sample Code<br />
extern 	domain 	tcrefb 	prnumber<br />
	domain	tcrefb	tmp.number<br />
	long 		prnumber, i<br />
<br />
<br />
<br />
tmp.number=&quot;&quot;<br />
<br />
for i=1 to len(tdpur040.refb)<br />
	if isdigit(tdpur040.refb(i;1)) then<br />
		tmp.number= tmp.number &amp; tdpur040.refb(i;1)<br />
	endif<br />
endfor<br />
<br />
prnumber=lval(tmp.number)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">7th June 2010, 14:53</div></div><div class="posttext">Manish code is correct if you are not sure if the characters 1 thru 7 may or maynot be numbers.  That code will always work, but if 1 thru 7 will always be numbers then you could just use val(tdpur040.refb(1;7)). Just a short cut, but Manish's code is the better choice.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">preethi</div><div class="date">8th June 2010, 08:57</div></div><div class="posttext">Thank you Manish..the code posted by you is helpful..it served the purpose</div></div><hr />


<div class="post"><div class="posttop"><div class="username">en@frrom</div><div class="date">8th June 2010, 12:44</div></div><div class="posttext">I am not crazy for Manish's suggestion. Take this string:<br />
2b3345y - the result will be 23345? I guess this is not required...? Or is this not a realistic situation?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">8th June 2010, 14:32</div></div><div class="posttext">Good point.  I don't know about their system, but our tdpur040.refb contains text.  Maybe that is how they use it, but that is something they should be aware of.</div></div><hr />



</div>
</body>
</html>