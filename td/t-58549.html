<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="FTP Issue, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] FTP Issue Tools Development" />
	
	<title>FTP Issue [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; FTP Issue</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">som.papai</div><div class="date">3rd June 2010, 12:35</div></div><div class="posttext">Hi All,<br />
<br />
In Baan 4c4.<br />
<br />
Facing issue to connect another server through Baan script using ftp.connect()  function.<br />
<br />
I have checked other thread regarding FTP and also used function “file.mv.across.hosts( const string source, const string target )” but it’s doesn’t worked for me.<br />
<br />
ret_val = ftp.init()<br />
if (ret_val = 0) then<br />
    ret_val = ftp.connect(&quot;100.85.245.98&quot;, connection)<br />
endif<br />
<br />
Here connection is long variable and not yet set any values in it, will I have to set any values in it, please advice?<br />
<br />
Here ftp.connect  return 3, it should be 0. Getting no idea why it’s returning value 3.<br />
<br />
Could anyone please help me for this issue?<br />
<br />
It urgent, please advise me.<br />
<br />
Thanks.<br />
<br />
Regards,<br />
Sudipta Som</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">3rd June 2010, 14:21</div></div><div class="posttext">Did you use ftp.init before setting the connection?<br />
<br />
    ret_val = ftp.init()<br />
    if (ret_val = 0) then<br />
        ret_val = ftp.connect(&quot;xx.xx.x.xx&quot;, connection)<br />
    endif<br />
<br />
Also try  ret_val = ftp.last.response(connection, response) and see what the response is.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">som.papai</div><div class="date">3rd June 2010, 14:34</div></div><div class="posttext">Yes Mark, I have used this and also mention in the earlier post.<br />
Also used function ftp.last.response (connection, response), but response variable doesn’t have any values. That’s surprise me.<br />
<br />
Here is the code.<br />
<br />
<br />
long ret_val<br />
	long connection<br />
	string response(500)<br />
	<br />
	response = &quot;&quot;<br />
	ret_val = ftp.init()<br />
	if (ret_val = 0) then<br />
		ret_val = ftp.connect(&quot;100.85.245.98&quot;, connection)<br />
	endif<br />
	if (ret_val &lt;&gt; 0) then<br />
		ret_val = ftp.last.response(connection, response)<br />
	endif<br />
<br />
<br />
<br />
<br />
Please advice.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">3rd June 2010, 15:39</div></div><div class="posttext">Does both your Baan server and the receiving host have ftp services running?  I know our baan server will let me ftp out, but you cannot ftp in.  Let me see what happens if I try that.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">3rd June 2010, 15:50</div></div><div class="posttext">Okay when trying to connect to our baan server I get a return value -1, connection is still 0 and last response is empty.  Will not even let me click on response - not sure what is up with that.  I would have expect a service not available error - like what I get when I run it manually.  I would say you need to make sure ftp is up and available - not sure what else could be causing the problem.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">3rd June 2010, 15:52</div></div><div class="posttext">OOPs forgot to mention on the good connect I get return value 0, connect 0 and a response of FTP server ready.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">som.papai</div><div class="date">4th June 2010, 12:10</div></div><div class="posttext">Hi Mark,<br />
<br />
Thanks for ur reply.<br />
<br />
I also try with another IP &quot;10.79.141.36&quot;, but still having same issue.<br />
I think i have to do with this ip only.<br />
<br />
Again ftp.connect return 3, it should be 0 and response variable doesn’t have any values. <br />
<br />
We can connect with IP &quot;10.79.141.36&quot; from DOS by FTP.<br />
<br />
But not getting any idea, why from Baan script it's not working.<br />
<br />
Please advice.<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">5th June 2010, 17:00</div></div><div class="posttext">If you can connect manually from the application server to the destination server then I really do not have a clue.  I do not know enough about windows servers to have a clue where to start. It could be tools libraries or something on the server I just have no way of knowing. I would contact infor at this point.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bdittmar</div><div class="date">5th June 2010, 17:45</div></div><div class="posttext">Hi All,<br />
<br />
In Baan 4c4.<br />
<br />
Facing issue to connect another server through Baan script using ftp.connect()  function.<br />
<br />
I have checked other thread regarding FTP and also used function “file.mv.across.hosts( const string source, const string target )” but it’s doesn’t worked for me.<br />
<br />
ret_val = ftp.init()<br />
if (ret_val = 0) then<br />
    ret_val = ftp.connect(&quot;100.85.245.98&quot;, connection)<br />
endif<br />
<br />
Here connection is long variable and not yet set any values in it, will I have to set any values in it, please advice?<br />
<br />
Here ftp.connect  return 3, it should be 0. Getting no idea why it’s returning value 3.<br />
<br />
Could anyone please help me for this issue?<br />
<br />
It urgent, please advise me.<br />
<br />
Thanks.<br />
<br />
Regards,<br />
Sudipta Som<br />
--------------------------------------<br />
Hello,<br />
from LN programmers guide (ftp from Portingset 7.6a onwards):<br />
Tools Interface Version (TIV)<br />
The Tools Interface Version (TIV) is a concept supported by the Infor ERP LN Enterprise Server to guarantee backwards compatibility. By setting a TIV number to each object the behaviour can be different for incompatible features executed with different versions of the porting set or Infor Enterprise Engine. The TIV number is a property of the program and library scripts, and can be defined in session &quot;Program Scripts / Libraries (ttadv2530m000)&quot;. The bshell also has its own TIV number.<br />
<br />
Caution<br />
<br />
When updating a component to a higher TIV level, it can be necessary to do rework. This is for example the case when adopting TIV level 1075 (or higher). Whatever the reason is to do the TIV level upgrading, the rework for Record selection must be done. The session will not function with the old record selection mechanism anymore. Mandatory rework is indicated in the table below.<br />
<br />
Supported Porting set TIV numbers<br />
<br />
The supported TIV numbers related to porting set versions are listed below.<br />
<br />
TIV Type Description Remarks <br />
200 bshell original TIV level when TIV was introduced in 4c <br />
500 bshell original TIV level when TIV was introduced in Corelli  <br />
TIV 1000 bshell<br />
<br />
tools<br />
 Initial TIV level for porting set 7.5a  <br />
1001 bshell porting set 7.5a.01 ftp functions added in bshell <br />
1010 bshell Initial TIV level for porting set 7.6a  <br />
1011 bshell porting set 7.6a ftp functions added in bshell <br />
TIV 1012 bshell<br />
<br />
tools<br />
 porting set 7.6a.01 Functions for Outbound Publishing<br />
<br />
String size limit removed for xmlSetAttribute and other xml functions<br />
<br />
db.get.child.transaction function added in bshell<br />
 <br />
TIV 1014 Tools Added tt.is.domain.separated() function.  <br />
TIV 1020 bshell<br />
<br />
tools<br />
 New functions in Enterprise Server 8.2  <br />
1050 bshell porting set 7.6b Added Unicode support. <br />
TIV 1075 bshell<br />
<br />
tools<br />
 New functions in Enterprise Server 8.3/porting set 7.6c Note: Mandatory rework in record selection. <br />
1076 bshell porting set 8.2b  <br />
1078 bshell porting set 8.2b.01  <br />
1100 bshell porting set 8.3a  <br />
1101 bshell porting set 8.2b.01 changed interface handle.report.pool() to handle more than 252 arguments<br />
<br />
added syslibpath.env.var$() bshell function. Useful for ERP installer to determine system dependent env. var.<br />
 <br />
TIV 1200 bshell<br />
<br />
tools<br />
 New functions in Enterprise Server 8.4/porting set 8.3b  <br />
TIV 1300 bshell<br />
<br />
tools<br />
 New functions in Enterprise Server 8.4 for handling field dependencies.  <br />
TIV 1306 tools<br />
 New behavior in Enterprise Server 8.4 for ncrs selection groups  <br />
1501 tools Function tt.label.desc.by.lang added.  <br />
 <br />
Base TIV levels per Enterprise Server Feature Pack<br />
<br />
The Base TIV levels per Feature Pack are as specified below. Those levels are the base levels. During the lifetime of a Feature Pack, additional numbers may be inserted.<br />
<br />
If software is developed on a 'latest Feature Pack' development system, for release to customers who might be on a lower Feature Pack, the TIV level of the software should be maximized to the base level of the target Enterprise Server Feature Pack. If specific functionality within the target Feature Pack is necessary, installation of additional tools solutions or another porting set might be necessary before the newly developed software works correctly.<br />
<br />
Example: when developing software for an ES 7 (LN FP1) system, the TIV level of the new components should be maximized on TIV level 1010. Only when the function tt.is.domain.separated() is used the level should be set to 1014 (And the target system needs to have solution 202854).<br />
<br />
Version BASE TIV level <br />
LN without feature packs 1000 <br />
Enterprise Server 7 (LN FP1) 1010 <br />
Enterprise Server 8.2 (LN FP2) 1020 <br />
Enterprise Server 8.3 (LN FP3) 1075 <br />
Enterprise Server 8.4 (LN FP4) 1200 <br />
 <br />
Note: The TIV level can not be set higher than the current level of the tools or porting set.<br />
<br />
Regards</div></div><hr />



</div>
</body>
</html>