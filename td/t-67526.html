<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Consumption XML, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Consumption XML Tools Development" />
	
	<title>Consumption XML [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; Consumption XML</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">julierme.victor</div><div class="date">25th March 2015, 18:41</div></div><div class="posttext">Good afternoon,<br />
<br />
I will start to receive my orders in the company through xml files , someone has already made the consumption of xml files in ERP LN version 6.1 ?<br />
<br />
Regards,<br />
Julierme</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bhushanchanda</div><div class="date">25th March 2015, 20:30</div></div><div class="posttext">Hi,<br />
<br />
Go through the programmers guide on how to do it.<br />
<br />
http://www.baanboard.com/programmers_manual_baanerp_help_functions_xml_api<br />
<br />
You can make your own parser to read the XML file using inbuilt XML functions.<br />
<br />
Here is a thread where it has been used. Hope it guides you.<br />
<br />
<br />
http://www.baanboard.com/baanboard/showthread.php?p=193243</div></div><hr />


<div class="post"><div class="posttop"><div class="username">julierme.victor</div><div class="date">31st March 2015, 14:13</div></div><div class="posttext">Good Morning Bhushan,<br />
<br />
Thanks for the help!<br />
<br />
Regards,<br />
Julierme</div></div><hr />


<div class="post"><div class="posttop"><div class="username">julierme.victor</div><div class="date">31st March 2015, 14:28</div></div><div class="posttext">Although now I'm with the following problem:<br />
<br />
I have the following xml:<br />
<br />
&lt;root&gt;<br />
  &lt;orderId&gt;v531228scl-01&lt;/orderId&gt;<br />
  &lt;sequence&gt;531228&lt;/sequence&gt;<br />
  &lt;marketplaceOrderId&gt;&lt;/marketplaceOrderId&gt;<br />
  &lt;marketplaceServicesEndpoint&gt;http://lojascala.vtexcommercestable.com.br/api/oms&lt;/marketplaceServicesEndpoint&gt;<br />
  &lt;sellerOrderId&gt;00-v531228scl-01&lt;/sellerOrderId&gt;<br />
  &lt;origin&gt;Marketplace&lt;/origin&gt;<br />
  &lt;affiliateId&gt;&lt;/affiliateId&gt;<br />
  &lt;salesChannel&gt;1&lt;/salesChannel&gt;<br />
  &lt;merchantName /&gt;<br />
  &lt;status&gt;handling&lt;/status&gt;<br />
  &lt;statusDescription&gt;Preparando Entrega&lt;/statusDescription&gt;<br />
  &lt;value&gt;10637&lt;/value&gt;<br />
  &lt;creationDate&gt;2015-02-06T23:04:15.936902-02:00&lt;/creationDate&gt;<br />
  &lt;lastChange&gt;2015-03-26T17:04:47.0808934-03:00&lt;/lastChange&gt;<br />
  &lt;orderGroup&gt;v531228scl&lt;/orderGroup&gt;<br />
  &lt;totals&gt;<br />
      &lt;id&gt;Items&lt;/id&gt;<br />
    &lt;name&gt;Items Total&lt;/name&gt;<br />
    &lt;value&gt;9980&lt;/value&gt;<br />
  &lt;/totals&gt;<br />
  &lt;totals&gt;<br />
    &lt;id&gt;Discounts&lt;/id&gt;<br />
    &lt;name&gt;Discounts Total&lt;/name&gt;<br />
    &lt;value&gt;0&lt;/value&gt;<br />
  &lt;/totals&gt;<br />
  &lt;totals&gt;<br />
    &lt;id&gt;Shipping&lt;/id&gt;<br />
    &lt;name&gt;Shipping Total&lt;/name&gt;<br />
    &lt;value&gt;657&lt;/value&gt;<br />
  &lt;/totals&gt;<br />
  &lt;totals&gt;<br />
    &lt;id&gt;Tax&lt;/id&gt;<br />
    &lt;name&gt;Tax Total&lt;/name&gt;<br />
    &lt;value&gt;0&lt;/value&gt;<br />
  &lt;/totals&gt;<br />
&lt;/root&gt;<br />
  <br />
<br />
As you can see, I tag &lt;totals&gt; &lt;\ totals&gt; that is repeated a few times in the file, with the attributes ID, NAME and VALUE, any suggestions to make this reading?<br />
<br />
I've tried putting reading with xmlFindFirst and then put inside the while, but he always reads the first record.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bhushanchanda</div><div class="date">31st March 2015, 15:10</div></div><div class="posttext">Hi,<br />
<br />
Have you checked the mentioned threads?<br />
<br />
In one of them, I am having similar structured XML file with multiple &lt;title&gt; tags.<br />
<br />
e.g.<br />
<br />
&lt;channel&gt;<br />
&lt;title&gt;<br />
&lt;/title&gt;<br />
&lt;title&gt;<br />
&lt;/title&gt;<br />
..<br />
&lt;/channel&gt;<br />
So, what I do is,<br />
<br />
   fromId= xmlFindFirst(&quot;channel&quot;, fx)<br />
   i = xmlGetNumChilds  (fromId)<br />
   newId= xmlFindFirst(&quot;title&quot;, fromId)<br />
   ret = xmlGetData(newId,data)<br />
   data = &quot;*****************&quot; &amp; data &amp; &quot;***************&quot; &amp; &quot;\n&quot;<br />
   while i &gt; 0<br />
      newId = xmlGetRightSibling(newId)<br />
      j = xmlGetNumChilds(newId)<br />
         while j &gt; 1<br />
            newId1= xmlFindFirst(&quot;title&quot;, newId)<br />
            ret = xmlGetData(newId1,data)<br />
            data.final = data.final &amp; &quot;\n&quot; &amp; trim$(data)<br />
            break<br />
         endwhile<br />
      i = i - 1<br />
   endwhile<br />
<br />
I guess, you are using the same id for every xmlFindFirst.<br />
<br />
You can recheck the code at this thread (http://www.baanboard.com/baanboard/showthread.php?p=193243)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">julierme.victor</div><div class="date">31st March 2015, 16:47</div></div><div class="posttext">Hi Bhushan,<br />
<br />
Thanks for your help!<br />
<br />
Regards,<br />
Julierme</div></div><hr />



</div>
</body>
</html>