<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="bptmm111 - record is not getting inserter through DAL function, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] bptmm111 - record is not getting inserter through DAL function Tools Development" />
	
	<title>bptmm111 - record is not getting inserter through DAL function [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; bptmm111 - record is not getting inserter through DAL function</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">kishoremeher</div><div class="date">30th September 2010, 06:48</div></div><div class="posttext">Hi all,<br />
<br />
I am trying to insert team wise record in table bptmm111( project and general Hours/Expenses) use DAL functions.<br />
When i call the function dal.save.object(), i am getting error &quot;The general task field must be empty in project and general Hours/Expenses&quot;. But system is allowing me to enter general task while entering throuth session(bptmm1111m200). If i put general task field empty then it is giving dublicate record error for table bptmm110.<br />
Please help if anybody have came over this problem earlier.<br />
<br />
here is attached script for referance.<br />
<br />
            ret_val = dal.new.object(&quot;bptmm111&quot;)<br />
	dal.set.field(&quot;bptmm111.emno&quot;,&quot;&quot;)	<br />
	dal.set.field(&quot;bptmm111.year&quot;,2010)<br />
	dal.set.field(&quot;bptmm111.peri&quot;,39)<br />
	dal.set.field(&quot;bptmm111.type&quot;,1)<br />
	dal.set.field(&quot;bptmm111.seqn&quot;,5)	<br />
	dal.set.field(&quot;bptmm111.cgrp&quot;,&quot;10100 &quot;)<br />
	dal.set.field(&quot;bptmm111.cgrj&quot;,&quot;&quot;)<br />
	dal.set.field(&quot;bptmm111.cspa&quot;,&quot;&quot;)<br />
	dal.set.field(&quot;bptmm111.cact&quot;,&quot;&quot;)<br />
	dal.set.field(&quot;bptmm111.cstl&quot;,&quot;&quot;)<br />
	dal.set.field(&quot;bptmm111.swct&quot;,1)	<br />
	dal.set.field(&quot;bptmm111.ccun&quot;,&quot;&quot;)	<br />
	dal.set.field(&quot;bptmm111.gtsk&quot;,&quot;110&quot;)<br />
	dal.set.field(&quot;bptmm111.expn&quot;,&quot;&quot;)<br />
	dal.set.field(&quot;bptmm111.dsca&quot;,&quot;No Load&quot;)<br />
	dal.set.field(&quot;bptmm111.cpcp&quot;,&quot;BND&quot;)<br />
	dal.set.field(&quot;bptmm111.cwoc&quot;,&quot;20000 &quot;)	<br />
	dal.set.field(&quot;bptmm111.hrea&quot;,3,1)<br />
	dal.set.field(&quot;bptmm111.hrea&quot;,3,8)<br />
	dal.set.field(&quot;bptmm111.chlt&quot;,&quot;100&quot;)<br />
	dal.set.field(&quot;bptmm111.rgdt&quot;,0)<br />
	dal.set.field(&quot;bptmm111.trdt&quot;,utc.num())<br />
	dal.set.field(&quot;bptmm111.quan&quot;,0)<br />
	dal.set.field(&quot;bptmm111.cuni&quot;,&quot;hr&quot;)<br />
	dal.set.field(&quot;bptmm111.pric&quot;,0)<br />
	dal.set.field(&quot;bptmm111.ccur&quot;,&quot;&quot;)<br />
	dal.set.field(&quot;bptmm111.amnt&quot;,0)<br />
	dal.set.field(&quot;bptmm111.rdat&quot;,0)<br />
	dal.set.field(&quot;bptmm111.rate&quot;,0,1)<br />
	dal.set.field(&quot;bptmm111.ratf&quot;,0,1)<br />
	dal.set.field(&quot;bptmm111.cnfd&quot;,2)<br />
	dal.set.field(&quot;bptmm111.proc&quot;,2)<br />
	dal.set.field(&quot;bptmm111.hrdv&quot;,2)<br />
	dal.set.field(&quot;bptmm111.orig&quot;,1)<br />
	dal.set.field(&quot;bptmm111.blbl&quot;,2)<br />
	dal.set.field(&quot;bptmm111.agui&quot;,&quot;&quot;)<br />
	<br />
	retval = dal.save.object(&quot;bptmm111&quot;,db.return.error)<br />
<br />
Thanks,<br />
Kishore</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ARijke</div><div class="date">30th September 2010, 13:19</div></div><div class="posttext">You need to set the type first. Otherwise it is not known whether you try to register project or general hours.<br />
You can set it first with the next logic:<br />
dal.start.business.method(MAIN_TBL, &quot;set.current.type&quot;,<br />
				retval, bptmm.type.project)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kishoremeher</div><div class="date">1st October 2010, 11:46</div></div><div class="posttext">Dear Arijke,<br />
<br />
Thanks for the reply.<br />
<br />
I used that function dal.start.business.method() but still i am getting the same error message.<br />
May be i am not putting that function in right place or may be putting some wrong attributes.<br />
I didn't get any help for that function.<br />
Will U please help me with that.<br />
<br />
Here is the sample program.<br />
<br />
<br />
             dal.start.business.method(&quot;bptmm111&quot;, &quot;set.current.type&quot;,retval, bptmm.type.project)	<br />
	ret_val = dal.new.object(&quot;bptmm111&quot;)<br />
	dal.set.field(&quot;bptmm111.emno&quot;,&quot;&quot;)	<br />
	dal.set.field(&quot;bptmm111.year&quot;,2010)<br />
	dal.set.field(&quot;bptmm111.peri&quot;,39)<br />
	dal.set.field(&quot;bptmm111.type&quot;,1)	<br />
	dal.set.field(&quot;bptmm111.cgrp&quot;,&quot;10100 &quot;)<br />
	dal.set.field(&quot;bptmm111.swct&quot;,1)	<br />
	dal.set.field(&quot;bptmm111.ccun&quot;,&quot;&quot;)	<br />
	dal.set.field(&quot;bptmm111.gtsk&quot;,&quot;110&quot;)<br />
	dal.set.field(&quot;bptmm111.expn&quot;,&quot;&quot;)<br />
	dal.set.field(&quot;bptmm111.dsca&quot;,&quot;No Load&quot;)<br />
	dal.set.field(&quot;bptmm111.cpcp&quot;,&quot;BND&quot;)<br />
	dal.set.field(&quot;bptmm111.cwoc&quot;,&quot;20000 &quot;)	<br />
	dal.set.field(&quot;bptmm111.hrea&quot;,3,1)<br />
	dal.set.field(&quot;bptmm111.hrea&quot;,3,8)<br />
	dal.set.field(&quot;bptmm111.chlt&quot;,&quot;100&quot;)<br />
	dal.set.field(&quot;bptmm111.rgdt&quot;,0)<br />
	dal.set.field(&quot;bptmm111.trdt&quot;,utc.num())<br />
	dal.set.field(&quot;bptmm111.quan&quot;,0)<br />
	dal.set.field(&quot;bptmm111.cuni&quot;,&quot;hr&quot;)<br />
		<br />
	retval = dal.save.object(&quot;bptmm111&quot;,db.return.error)<br />
            <br />
             if	retval = 0	then<br />
		commit.transaction()<br />
		message(&quot;Processed&quot;)<br />
	else<br />
		rt1 = dal.count.error.messages()<br />
		for	i = 1	to	rt1<br />
			ret_val = dal.get.error.message(error)<br />
			message(&quot;%s&quot;,error)<br />
		endfor<br />
		abort.transaction()<br />
	endif<br />
<br />
Thanks,<br />
kishore Meher</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ARijke</div><div class="date">6th October 2010, 09:45</div></div><div class="posttext">Sorry I thought you wanted to create project hours - for that bptmm.project needs to be specified.<br />
If you want create an entry of type general hours then bptmm.type.general must be specified.<br />
<br />
Hope this helps<br />
Adriaan</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kishoremeher</div><div class="date">7th October 2010, 07:10</div></div><div class="posttext">HI Arijke,<br />
<br />
Thanks for your help.<br />
the function worked out.<br />
dal.start.business.metho(MAIN_TBL, &quot;set.current.type&quot;,retval, bptmm.type.project) <br />
<br />
But instead of bptmm.type.project, we have to use bptmm.type.general.<br />
Thanks again .<br />
<br />
Regards,<br />
Kishore</div></div><hr />



</div>
</body>
</html>