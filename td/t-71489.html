<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="XML File, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] XML File Tools Development" />
	
	<title>XML File [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; XML File</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">dhruv_x0</div><div class="date">21st November 2018, 16:02</div></div><div class="posttext">Hello All,<br />
<br />
Need one help in fixing the xml file which i am generating from LN program. Line 1 generated in xml file is below:<br />
<br />
&lt;?xml version=&quot;1.0&quot;?&gt;<br />
<br />
I don't want this line in my xml file, instead of this i need below data. Any idea how to achieve this?<br />
<br />
&lt;docsets xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br />
         xmlns=&quot;urn:SsproNamespace&quot;<br />
         xsi:schemaLocation=&quot;urn:SsproNamespace ssdataDXMschema_09.xsd&quot;&gt;<br />
<br />
<br />
Thanks In Advance</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bhushanchanda</div><div class="date">22nd November 2018, 09:10</div></div><div class="posttext">That tag on the top is generated by default when you write an XML to a file.<br />
<br />
<br />
To remove it you have two options - <br />
<br />
<br />
<br />
1. Once the file is generated, read the file and remove the first line and save it again.<br />
2. Once you create the first node, write it to a string and then user str.replace$ to remove the part you don't want and then write that string to your file.<br />
<br />
<br />
e.g.<br />
<br />
<br />
long parentnode<br />
long ns<br />
string oldstr(3000)<br />
string newstr(3000)<br />
string toreplace(100)<br />
<br />
parentnode = xmlNewNode  (&quot;docsets&quot;)<br />
ns = xmlNewNamespace( parentnode, &quot;xsi&quot;, &quot;http://www.w3.org/2001/XMLSchema-instance&quot; )<br />
ns = xmlNewNamespace( parentnode, &quot;&quot;, &quot;urn:SsproNamespace&quot; )<br />
ns = xmlNewNamespace( parentnode, &quot;schemaLocation&quot;, &quot;urn:SsproNamespace ssdataDXMschema_09.xsd&quot; )<br />
<br />
xmlWriteToString  (oldstr, parentnode)<br />
oldstr = trim$(oldstr)<br />
toreplace = &quot;&lt;?xml version=&quot; &amp; chr$(34) &amp; &quot;1.0&quot; &amp; chr$(34) &amp; &quot;?&gt;&quot;<br />
newstr = str.replace$(oldstr,toreplace,&quot;&quot;)<br />
<br />
<br />
Here I am generating the first node without the default XML tag by replacing it with a blank space. <br />
<br />
<br />
<br />
See if this helps you.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dhruv_x0</div><div class="date">22nd November 2018, 16:20</div></div><div class="posttext">Thanks Bhushan for your reply. I tried 2nd option and still getting the default xml tag so now trying the 1st option. Can we achieve something like that reading the first line of a file and replace it with some other string. For doing this i believe we need to create a new file and write first file data to new file with new string as first line.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bhushanchanda</div><div class="date">22nd November 2018, 20:18</div></div><div class="posttext">Why didn't option 2 worked for you? Once you replace the required line, just put it in a file using seq.puts() instead of xml.write. Do that for all the other tags.<br />
<br />
For option one, yes, you can write a small shell/batch script to remove the first line of your XML file. Google it and you will find a lot of threads.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dhruv_x0</div><div class="date">27th November 2018, 19:58</div></div><div class="posttext">It worked and i am able to remove this first line now. One small issue and just wanted to know if there is standard function to achieve that.<br />
<br />
As suggested I am using below query to create the namespace<br />
<br />
cmfID = xmlNewNode(&quot;docsets&quot;)<br />
	ns = xmlNewNamespace( cmfID, &quot;xsi&quot;, &quot;http://www.w3.org/2001/XMLSchema-instance&quot; )<br />
	ns = xmlNewNamespace( cmfID, &quot; &quot;, &quot;urn:SsproNamespace&quot; )<br />
	ns = xmlNewNamespace( cmfID, &quot;schemaLocation&quot;, &quot;urn:SsproNamespace ssdataDXMschema_09.xsd&quot; )<br />
<br />
<br />
Output from this is below<br />
<br />
&lt;docsets xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br />
         xmlns=&quot;urn:SsproNamespace&quot;<br />
         xmlns:schemaLocation=&quot;urn:SsproNamespace ssdataDXMschema_09.xsd&quot;&gt;<br />
<br />
In last line instead of &quot;xmlns&quot; marked in blue i need &quot;xsi&quot; to make file readable from another tool . Is there any standard function to achieve that? I noticed xmlns is coming default if we are creating any namespace. <br />
<br />
Thank You in Advance.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">giggty</div><div class="date">28th November 2018, 08:09</div></div><div class="posttext">How about<br />
<br />
cmfID = xmlNewNode(&quot;docsets&quot;)<br />
ns1 = xmlNewNamespace( cmfID, &quot;xsi&quot;, &quot;http://www.w3.org/2001/XMLSchema-instance&quot; )<br />
ns2 = xmlNewNamespace( cmfID, &quot; &quot;, &quot;urn:SsproNamespace&quot; )<br />
ret = xmlSetAttributeNs( cmfID, ns1, &quot;schemaLocation&quot;, &quot;urn:SsproNamespace ssdataDXMschema_09.xsd&quot; )</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dhruv_x0</div><div class="date">29th November 2018, 15:37</div></div><div class="posttext">Thank You very much, it worked pretty well. Still got one issue in the namespace which is not letting me read this file.<br />
Below is the code which is i am using for building xml namespace.<br />
ns1 = xmlNewNamespace( cmfID, &quot;xsi&quot;, &quot;http://www.w3.org/2001/XMLSchema-instance&quot;)<br />
		ns2 = xmlNewNamespace( cmfID, &quot; &quot;, &quot;urn:SsproNamespace&quot; )<br />
		ret = xmlSetAttributeNs( cmfID, ns1, &quot;schemaLocation&quot;, &quot;urn:SsproNamespace ssdataDXMschema_09.xsd&quot; )<br />
<br />
and i am getting the below output.  I am unable to read the file because of the COLON : present after xmlns in line 2 marked in blue. I need to remove the first colon: from line 2. Looked into the xml help functions but couldn't find anything to remove this. Is there any standard function to achieve this.<br />
&lt;docsets xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;<br />
         xmlns:=&quot;urn:SsproNamespace&quot;<br />
         xsi:schemaLocation=&quot;urn:SsproNamespace ssdataDXMschema_09.xsd&quot;&gt;<br />
<br />
Appreciate all your help on this so far.<br />
<br />
Thank You.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">giggty</div><div class="date">29th November 2018, 17:23</div></div><div class="posttext">Like this? <br />
<br />
<br />
ns1 = xmlNewNamespace( cmfID, &quot;xsi&quot;, &quot;http://www.w3.org/2001/XMLSchema-instance&quot;)<br />
xmlSetAttribute( cmfID, &quot;xmlns&quot;, &quot;urn:SsproNamespace&quot; )<br />
ret = xmlSetAttributeNs( cmfID, ns1, &quot;schemaLocation&quot;, &quot;urn:SsproNamespace ssdataDXMschema_09.xsd&quot; )</div></div><hr />



</div>
</body>
</html>