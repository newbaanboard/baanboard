<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="How to check the particular directory is available or not in the specified path, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] How to check the particular directory is available or not in the specified path Tools Development" />
	
	<title>How to check the particular directory is available or not in the specified path [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; How to check the particular directory is available or not in the specified path</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">pralash</div><div class="date">13th October 2017, 09:46</div></div><div class="posttext">Hi,<br />
I'm new for LN Programming... I want to know that how to find out the particular directory or folder is available or not in the specified path... Can anybody please let me know that how to perform this task.<br />
<br />
Thanks in advance,<br />
Regards,<br />
Pralash</div></div><hr />


<div class="post"><div class="posttop"><div class="username">JaapJD</div><div class="date">13th October 2017, 12:08</div></div><div class="posttext">Function file.stat() or stat.info()</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pralash</div><div class="date">13th October 2017, 13:32</div></div><div class="posttext">Thank you so much for your reply...<br />
But I could not able to find the specified directory in a path by using file.stat() or stat.info() function... These are only returns the information about the file such as file size etc... So can you please tell me some another function for find out whether the specified directory is available or not in local system....<br />
<br />
Regards,<br />
Pralash</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bdittmar</div><div class="date">13th October 2017, 14:26</div></div><div class="posttext">Hello,<br />
<br />
Client file access synopsis<br />
<br />
long<br />
 client2server() ( string source, string dest, boolean text.mode [, boolean rm.file] [, boolean progress.window] ) <br />
<br />
long<br />
 create.local.directory() ( string dirent ) <br />
<br />
long<br />
 create.local.file() ( string filename ) <br />
<br />
long<br />
 dir.select.dialog.local() ( ref string dirent ) <br />
<br />
long<br />
 get.client.hostname() ( ref string hostname ) <br />
<br />
long<br />
 get.client.ip.address() ( ref string ip.address ) <br />
<br />
string<br />
 get.local.filename() ( ) <br />
<br />
long<br />
 remove.local.directory() ( string dirent ) <br />
<br />
void<br />
 remove.local.file() ( string filename ) <br />
<br />
long<br />
 seq.fstat.local() ( string filename, ref long nr.bytes ) <br />
<br />
long<br />
 seq.open.dialog.local() ( const string defaultname, const string directory, const string filter, ref string filename ) <br />
<br />
boolean<br />
 seq.open.dialog.next() ( ref string filename ) <br />
<br />
long<br />
 seq.saveas.dialog.local() ( const string defaultname, const string directory, const string filter, ref string filename) <br />
<br />
long<br />
 server2client() ( string source, string dest, boolean text.mode [, boolean progress.window] [, boolean read.only] ) <br />
<br />
long<br />
 start.application.local() ( const string commandline, boolean waitFlag, reference long exitCode, [const string verb] ) <br />
<br />
void<br />
<br />
<br />
Use these functions to perform various operations on client files and other client operations â€“ for example:<br />
<br />
to open, read, write to, close, and delete files on a client<br />
to show a file open or directory chooser dialog on a client<br />
to transfer files between client and server<br />
to retrieve client file information<br />
to create and delete directories on a client<br />
to start an application on a client<br />
to retrieve client hostname and IP address<br />
to show a color selection dialog on a client<br />
Note <br />
You can use most of these functions both with the Baan Windows and with the Webtop client. However, some functions are only supported for the Baan Windows client and therefore deprecated.<br />
<br />
Regards</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">13th October 2017, 14:33</div></div><div class="posttext">What exactly are you trying to accomplish with the path?  I know we are on unix, but we typically are asking for file names.  If they give you a directory - you can always try to create a file in the path - if it works great - if not just give them an error.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bhushanchanda</div><div class="date">14th October 2017, 09:51</div></div><div class="posttext">Here's a similar thread. (http://www.baanboard.com/baanboard/showthread.php?t=60116)<br />
<br />
Hope this helps</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pralash</div><div class="date">14th October 2017, 10:40</div></div><div class="posttext">Thank a lot for your reply...<br />
Actually I need to create a session for a customization work... In this customization, I have to perform the following task.<br />
<br />
1. A new folder would be created in the name of &quot;Test&quot; under the BSE path(C:\ERPLN) if I execute the session in the first time...<br />
2. Then a new file would be created in the name of &quot;sample.txt&quot; under the path like that C:\ERPLN\Test\sample.txt.<br />
3. I need to store some data into that file (sample.txt) from the &quot;table A&quot; .<br />
4. I have created a directory &quot;Test&quot; by using the mkdir function under the BSE path.<br />
5.Then I opened a new file sample.txt by using file.pointer = seq.open(file.name, &quot;w&quot;)...<br />
6.I have stored the necessary data into the file by using seq.puts function...<br />
7.Here now I need to check the directory &quot;Test&quot; is available or not... If it is not available then I create this by using mkdir otherwise I have to prompt the message such as &quot;Directory is already exist&quot;...<br />
Hence can you please tell me how to check whether the specified folder is available or not in a particular path....<br />
Sample script:<br />
<br />
if isavailable(&quot;test&quot;) then<br />
message &quot;Already exist&quot;<br />
else<br />
mkdir(&quot;test&quot;)<br />
endif<br />
<br />
Can you please tell me the baan script exact to the script above...<br />
Regards,<br />
Pralash</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">14th October 2017, 20:35</div></div><div class="posttext">Well we do not test for the directory.  In this example we just try to download a file to the windows client m: drive.  If it errors we just create the directory.  Notice the coder commented out the piece that gave an error.  You could just mkdir the directory everytime - if it exists just skip the error.<br />
<br />
<br />
function send.report.to.client(const string src(), const string dest(), const string dest2())<br />
{<br />
        long err, dir<br />
<br />
        err = server2client(src, dest, 1)<br />
        if (err) then						|20061025<br />
		dir = create.local.directory(&quot;m:\baantmp\&quot;)	|20061025<br />
| 		if (dir) then |error 183 must mean it already exists<br />
| 			message(&quot;Error %d creating m:\baantmp\&quot;, dir)<br />
| 		endif<br />
		err = server2client(src, dest2, 1)		|20061025<br />
		if (err) then					|20061025<br />
		    message(&quot;Error %d copying file to PC (may not have permission)&quot;, <br />
			err)<br />
		endif						|20061025<br />
        endif<br />
}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pralash</div><div class="date">16th October 2017, 08:13</div></div><div class="posttext">Thanks for your information to implementation of my task. <br />
<br />
Have a doubt for using the &quot;mkdir&quot; function... I have created a new directory under the path &quot;C:\ERPLN\Test&quot; while execution of first time for my session...<br />
After that I have created a file &quot;data&quot; and stored some another information from the table of baan..<br />
<br />
But whenever we execute the session repeatedly, whether the &quot;Test&quot; folder and it contents is overwrite or not?<br />
<br />
Can you please clear my doubt.... Thanks...<br />
Regards,<br />
Senthil</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">16th October 2017, 14:37</div></div><div class="posttext">If the folder exists the mkdir should not over-write it.  My best recommendation is to write the code and run in debug mode to see that happens watching each step.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bhushanchanda</div><div class="date">16th October 2017, 15:03</div></div><div class="posttext">Hi,<br />
<br />
Here's a sample. Also, just for your information, mkdir can  only be used to create directories on Server and not on client machine.  I've added a sample to check if path exists already. Also, the file will  be copied to clients temp directory which can be accessed using %TMP%  from your Run Command(Windows+R)<br />
<br />
    long fp<br />
    string file(100)<br />
    <br />
    ret = dir.open(&quot;${BSE}\Temp&quot;) |# Open directory<br />
    if ret &gt; 0 then |# If already exists, do nothing<br />
    else<br />
        mkdir(&quot;${BSE}\Temp&quot;)  |# If doesn't exists, create it.<br />
        dir.close(ret)<br />
    endif<br />
    <br />
    file = &quot;${BSE}\Temp\Sample.txt&quot;<br />
    fp = seq.open(file,&quot;w+&quot;)<br />
    <br />
    |***********WRITE DATA TO FILE******************<br />
    select tcibd001.*<br />
    from tcibd001<br />
    as set with 1 rows<br />
    selectdo<br />
        seq.puts(tcibd001.item,fp)<br />
    endselect<br />
    <br />
    seq.close(fp)<br />
    <br />
    |************ Copy File to Client Machine's default Temp folder**************<br />
    server2client(file,&quot;${TMP}\Sample.txt&quot;,true)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pralash</div><div class="date">6th November 2017, 11:26</div></div><div class="posttext">Apologize for the delay response....<br />
It's working fine....<br />
Thanks so much...<br />
<br />
Regards,<br />
Pralash</div></div><hr />



</div>
</body>
</html>