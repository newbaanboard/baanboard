<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="ue.before.after.destroy.object, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] ue.before.after.destroy.object Tools Development" />
	
	<title>ue.before.after.destroy.object [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; ue.before.after.destroy.object</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">pralash</div><div class="date">26th December 2017, 13:21</div></div><div class="posttext">Hi,<br />
<br />
I'm new for LN Programming...  I have create a User Exit script (UEDLL) for a particular table.... I build my own logic when I perform the insert and delete operation on that table by using the function ue.after.after.save.object(long mode) and ue.after.after.destroy.object() respectively... But I want to know that the functionalities of the rest one function such as ue.before.after.destroy.object, ue.after.before.destroy.object functions.  Can you please explain in detail....<br />
<br />
Thanks in advance,<br />
Regards,<br />
Pralash</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bhushanchanda</div><div class="date">26th December 2017, 15:46</div></div><div class="posttext">ue.before.after.destroy.object<br />
<br />
If there is DAL present for the table, this function will be triggered before dal.destroy.object.<br />
<br />
If no DAL present for the table, this function will be triggered before after.delete subsection of section main.table.io<br />
<br />
ue.after.before.destroy.object<br />
<br />
If there is DAL present for the table, this function will be triggered after dal.destroy.object.<br />
<br />
If no DAL present for the table, this function will be triggered after after.delete subsection of section main.table.io<br />
<br />
Refer programmers guide for details.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pralash</div><div class="date">27th December 2017, 07:07</div></div><div class="posttext">Hi Bhushan,,<br />
Thanks so much for your information.... But how can I find out whether DAL is present or not for a particular table?<br />
<br />
Regards,<br />
Pralash</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bhushanchanda</div><div class="date">27th December 2017, 08:33</div></div><div class="posttext">Hi,<br />
<br />
Usually, a DAL script name is same as table name.<br />
<br />
So, if you have a table tdsls400 and a program script named tdsls401(Script type DAL/DAL2) then you have a DAL for table tdsls400.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pralash</div><div class="date">27th December 2017, 08:42</div></div><div class="posttext">Oh I See... Thanks so much bhusan...<br />
Regards,<br />
Pralash</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pralash</div><div class="date">27th December 2017, 13:50</div></div><div class="posttext">Hi Bhusan,,<br />
Can you please explain in detailed about the DAL Objects Hooks with some sample program script?<br />
Regards,<br />
Pralash</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bdittmar</div><div class="date">27th December 2017, 14:15</div></div><div class="posttext">Hello,<br />
refer to Infor - Guide, please.<br />
Publication Information<br />
U8883O US<br />
Document code<br />
10.4.1 (76a)<br />
Release<br />
September 17, 2015<br />
<br />
DAL<br />
The Data Access Layer (DAL) allows developers to describe rules about data. A DAL is linked to a table,not a session. Therefore, when the table is accessed, the DAL is used. In this way, different sessionscan update a table by using the same rules. In addition, integration capabilities use the DAL to ensureupdates are also processed with the same rules.<br />
Data Access Layer (DAL) scripts implement the business rules of the application to ensure the logicalintegrity of the database. DAL scripts are a Library software component that is aligned with a specifictable. These scripts are compiled into objects. When a session performs an action on a table, the DALfor the table is loaded.<br />
In Infor LN, two types of Data Access Layer scripts exist: DAL 1 and DAL 2.<br />
.............<br />
<br />
Business Rules<br />
A business rule is a statement that defines or constrains some aspect or operation of the business. Itis intended to control or influence the behavior of the business operations. Business rules are logicalintegrity rules, and differ from database oriented referential integrity rules.<br />
Business Rules - example<br />
Business rules in a purchasing system may be:<br />
▪<br />
An item can be ordered only from its supplier<br />
▪<br />
When the gross weight and net weight for an item are the same, there is no packaging<br />
▪<br />
The supplier provides the arrival date of a purchase order after the order is entered into thesystem.<br />
▪<br />
Items cannot be removed if there is stock on-hand<br />
▪<br />
The item on-order quantity is increased when an order for the item is entered<br />
▪<br />
The item on-hand quantity is increased and the on-order quantity decreased when an orderarrives<br />
Referential Integrity Rules - example<br />
In contrast, integrity rules in a purchasing system may be:<br />
▪<br />
An item must exist for it to be ordered<br />
▪<br />
If an item has a supplier, the supplier must be known to the system<br />
▪<br />
Items can not be deleted if the item record is used elsewhere in the system<br />
Business rules are implemented as hooks. A hook is a pre-defined function name that you create in aData Access Layer script. The 4GL engine will call this function as it executes user interface and databaserelated actions on the table that the DAL is written for.<br />
Business rules fall into categories that determine how the business rule is implemented in the DAL.<br />
The categories, depending on the type of DAL script, are:<br />
▪<br />
Property or Field hooks<br />
▪<br />
Object Hooks<br />
▪<br />
Field Dependencies<br />
▪<br />
Business Methods<br />
DAL 1<br />
DAL 1 scripts were introduced in Infor Baan 5.0. A DAL 1 script contains database logic (e.g. logicalintegrity rules), but it usually does not contain all business logic for the table it belongs to. Very oftenbusiness logic is spread across the DAL 1 script and the UI scripts.<br />
Most UI scripts still contain business logic. They can contain, for example, logic to:<br />
▪<br />
make fields read-only.<br />
▪<br />
update a field after a change to a related field.<br />
Therefore it is very hard to use the DAL 1 scripts for integrations via Infor LN Business Adapter: thebusiness logic in the UI scripts is skipped if another application connects to a Infor LN table. Thereforethis logic must be rebuilt in the BOIs that provide the connection. If you change the business logic in theUI scripts, you must adapt the corresponding BOIs as well.<br />
A DAL 1 script can contain the following types of hooks:<br />
▪<br />
Object hooks. These hooks operate on the row or record as a whole unit. Object hooksdetermine if operations on a row are allowed, and specify additional operations that shouldbe performed based on an operation of the row. Examples of object hooks are:<br />
▪<br />
Delete the additional employee data in the People package when an employee is deleted.<br />
▪<br />
When a sales order line is saved, create a history record of the sales order line.<br />
▪<br />
Update the item inventory when a planned stock transaction is created.<br />
▪<br />
Property hooks. These hooks operate at a field level, and are, among other things, used toverify valid values and calculate default values for table fields. Examples of property hooksare:<br />
▪<br />
Validity check that the Quotation expiration date should be after the Quotation entry date.<br />
▪<br />
When adding an employee, the language of the company is the default for the employee’slanguage.<br />
For details on DAL 1 scripts, refer to &quot;Data Access Layer&quot; in the LN Programmer's Guide.<br />
To create DAL 1 scripts<br />
You can create and edit DAL 1 scripts in the Program Scripts / Libraries (ttadv2530m000) session.For DAL 1 scripts, the script type is &quot;DAL&quot;.<br />
DAL 2<br />
DAL 2 scripts are introduced in Infor LN. A DAL 2 script contains all business logic (database logic +other logic) related to a particular table. The UI scripts of the sessions operating on the table, only containUI logic.<br />
DAL 2 scripts are therefore perfectly suited for integrations via Infor LN Business Adapter. Otherapplications can connect, through Business Objects, to Infor LN tables. The business logic in the table'sDAL 2 script is executed automatically. So, to build an integration, you don't need to rebuild this businesslogic in the BOIs that provide the interface.<br />
Various predefined Business Objects, that can be used for integration purposes, are delivered with InforLN. DAL 2 scripts are only available for tables that are used in these business objects. For the remainingtables, DAL 1 scripts are available. Refer to the Infor LN Business Adapter documentation for detailson business objects and integration technology.<br />
In DAL 2 various new hooks are introduced. A DAL 2 script can contain:<br />
▪<br />
Object hooks: these hooks are identical to the object hooks in DAL 1 scripts.<br />
▪<br />
Field hooks. Field hooks contain the business logic for table fields. They can contain, forexample, logic to:<br />
▪<br />
verify valid values on a table field (logical integrity rules).<br />
▪<br />
make a field read-only. For example: the contact field of the Business Partner is not arequired entry, and is a display field in the UI when the Business Partner is created.<br />
▪<br />
make a field invisible.<br />
▪<br />
automatically update a field, after a related field was changed. See &quot;Field Dependencies&quot;.<br />
▪<br />
make input on a field mandatory.<br />
▪<br />
hide a particular enumerated constant from an enum list.<br />
▪<br />
Business method hooks. These hooks are used to disable/enable and hide specific formcommands of type &quot;business method&quot;.<br />
For details on DAL 2 scripts, refer to &quot;DAL 2 Overview&quot; in the LN Programmer's Guide.<br />
To create DAL 2 scripts<br />
You can create and edit DAL 2 scripts in the Program Scripts / Libraries (ttadv2530m000) session.For DAL 2 scripts, the script type is &quot;DAL (version 2)&quot;.<br />
<br />
----&gt;&gt;&gt;&gt;&gt;&gt;<br />
<br />
Regards</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pralash</div><div class="date">19th January 2018, 10:09</div></div><div class="posttext">Hi Bhushan,<br />
When these functions (before.before.destroy.object and after.after.destroy.object) are triggered, if there is a DAL for that table and there is no DAL for that table?<br />
<br />
Regards,<br />
Pralash</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Sahil Sharma</div><div class="date">6th August 2018, 14:37</div></div><div class="posttext">Hi Bhusan,,<br />
Can you please explain in detailed about the DAL Objects Hooks with some sample program script?<br />
Regards,<br />
Pralash<br />
<br />
Object hooks are used for checking the logic integrity of objects (that is, records in a table). <br />
<br />
Object hooks replace the before.read, after.read, before.write, after.write, before.rewrite, after.rewrite, before.delete, and after.delete subsections in the main.table.io section of the UI script. <br />
<br />
If there is a DAL for an object set, the 4GL engine calls the object hooks in the DAL every time that a Data Access Methods (DAM) is executed for that object set. The object hooks perform the necessary checks to ensure the logical integrity of the objects being accessed. Any of the above mentioned sections in the UI script are ignored. So, if a UI script contains any of these sections, you must replace these by object hooks in the DAL. <br />
<br />
Available object hooks<br />
Open object set hook - before.open.object.set() <br />
Get object hooks - before.get.object(), after.get.object() <br />
New object hooks - before.new.object(), after.new.object() (DAL2 only) <br />
Change object hooks - before.change.object(), after.change.object() (DAL2 only) <br />
Destroy object hooks - before.destroy.object(), after.destroy.object() <br />
Save object hooks - before.save.object(), after.save.object() <br />
After commit transaction hook - after.commit.transaction() <br />
After abort transaction hook - after.abort.transaction() <br />
Method is allowed hook - method.is.allowed() <br />
Default object set hook - set.object.defaults() <br />
Return values and errors<br />
Only the before hooks can prevent a database action. The after.get.object() hook can prevent a record from being sent to the UI. Both these types of hooks block continuation of the calling method if the return value is set to DALHOOKERROR (a negative constant). If the return value is zero, the method continues.</div></div><hr />



</div>
</body>
</html>