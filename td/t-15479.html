<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Surpress the print of a report from within the report script, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Surpress the print of a report from within the report script Tools Development" />
	
	<title>Surpress the print of a report from within the report script [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; Surpress the print of a report from within the report script</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">Neal Matthews</div><div class="date">26th May 2004, 16:39</div></div><div class="posttext">Hello,<br />
<br />
I am attempting to surpress the print of a report from within the report script. <br />
<br />
Basically I don't want the report to print if the service order is uncosted. At the moment I have set up a before.report.1: section and using a message in conjuction with the end() function.<br />
<br />
The only problem with this technique is that if the users chooses to display the report for an item which is uncosted then when the user leaves the main session he gets a blank display browser. <br />
<br />
This is extremely irritating if the user has been in the session for a while printing service orders and then leaves the session to find numerous blank display windows.<br />
<br />
I have tried using the before.program section of the script instead but at this point the service order field is 0.<br />
<br />
Does anybody know of a way around this. Please note I do not have a development license.<br />
<br />
Cheers<br />
Neal Matthews<br />
Intier Automotive - IT Support Analyst</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dorleta</div><div class="date">26th May 2004, 16:47</div></div><div class="posttext">Perhaps ...<br />
<br />
if you can detect that there arnÂ´t results to show you can do in the after report section<br />
<br />
spool.device = &quot;ASCII&quot; and send to a file<br />
<br />
I never have tested it .<br />
<br />
good luck</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">26th May 2004, 22:58</div></div><div class="posttext">It seems to me I tried changing the spool.device inside the report and could not get it to work.  Not sure if this would work,  but in the report script why not just use the kill command to kill the ttstpdisplay that may be running.  I am not sure if this would cause problems, but you could try it.<br />
<br />
Mark</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Neal Matthews</div><div class="date">27th May 2004, 08:51</div></div><div class="posttext">Hello,<br />
<br />
Thanks for the suggestions.<br />
<br />
You're right Mark for some reason I cannot get the spool device setting to work within the report script.<br />
<br />
The problem with the kill technique is that the display browser only appears when the user leaves the session and at no point can I see a ttstpdisplay to kill when I run ps.<br />
<br />
Any other ideas would be appreciated.<br />
<br />
Cheers<br />
Neal</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Hitesh Shah</div><div class="date">27th May 2004, 12:24</div></div><div class="posttext">U can use the pstat function to get the pid of ttstpdisplay. In order<br />
to ensure the pid of ttstpdisplay is correct u can check it's parent <br />
or use get.pgrp function for the pid of ttstpdisplay. Once the proper pid <br />
of ttstpdisplay is ascertained , use kill to remove the process from process <br />
group.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">27th May 2004, 14:54</div></div><div class="posttext">Not sure if this will work, but maybe instead of suppressing all the print when the order is not costed. Go ahead and let it print. Then see if you can see the ttstpdisplay in the after.report section using the ps command.  If something actually printed maybe that will force ttstpdisplay to go ahead and come up.<br />
<br />
Everything else involves modifying the session script.<br />
<br />
<br />
Mark</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Neal Matthews</div><div class="date">27th May 2004, 15:50</div></div><div class="posttext">Hello,<br />
<br />
Unfortunately I'm struggling to get the pid of the ttstpdisplay. I'm not entirely sure how the functions specified by Hitesh work as the documentation I've found suggests that for these functions you need the pid in the first place.<br />
<br />
I've tried to get to the pid by running a shell from within the report script without any luck.<br />
<br />
Any more suggestions would be welcome.<br />
<br />
Cheers<br />
Neal</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">27th May 2004, 16:02</div></div><div class="posttext">See if the code in this thread (http://www.baanboard.com/baanboard/showthread.php?s=&amp;threadid=15362) helps.  It is the last post by me.<br />
<br />
Mark</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Hitesh Shah</div><div class="date">27th May 2004, 16:13</div></div><div class="posttext">I was trying to  give u the code for finding the pid . But Mark has already given the link to accomplish the task . I think that link is comprehensive.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Neal Matthews</div><div class="date">27th May 2004, 17:57</div></div><div class="posttext">Thanks guys,<br />
<br />
That works perfectly. I even understand how the code works now as well.<br />
<br />
Cheers<br />
Neal</div></div><hr />



</div>
</body>
</html>