<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Gbf Problem, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Gbf Problem Tools Development" />
	
	<title>Gbf Problem [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; Gbf Problem</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">mr_suleyman</div><div class="date">29th November 2006, 21:13</div></div><div class="posttext">Hi All,<br />
I have a problem with GBF (generic browser Framewrok) . I used GBF code in part of Code&amp;Utulities. I have display session that displays BOM items and I add a button this session. When it is pressed it show GBF for this item. But When I open one GBF for one item and exit from opened GBF and press button to show second GBF for another item. GBF is not displayed. I only open GBF , when I exit display session and restart sesion .Then it works only for one item. I see problem , I think I should destroy GBF and then open new GBF for another item. How can I open one more GBF from one session at the same time? How can I destroy GBF and open new GBF for another item without exit session ?<br />
<br />
Thank you !</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mr_suleyman</div><div class="date">5th December 2006, 11:37</div></div><div class="posttext">Heyyy ! Nobody knows that ?????</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">5th December 2006, 15:35</div></div><div class="posttext">I doubt there are many people who use GBF.  So you may have a long wait before somebody posts a reply(that is if anyone even knows the answer).  I wish there was some documentation on these features.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pconde</div><div class="date">5th December 2006, 16:59</div></div><div class="posttext">Hello,<br />
<br />
The help for baan Erp says that the gbf terminated wait for a new gbf.init. You can maybe recall this function before anyother GBF function <br />
<br />
Regards<br />
Philippe</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mr_suleyman</div><div class="date">5th December 2006, 17:53</div></div><div class="posttext">I did it twice but it didn't work . I think that there should be way or somebody did it.  <br />
<br />
<br />
<br />
Thanks .</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pconde</div><div class="date">5th December 2006, 18:26</div></div><div class="posttext">Hello,<br />
<br />
I understand a bit more your problem, You want to have two browsers opened at the same time, with two bom structure? Right?.<br />
<br />
I think that in this case you need to have a specific library with the call back functions for each browser. <br />
<br />
The structure of the program is then more complicated.<br />
<br />
Main program --&gt; dll1 with call back functions for item 1<br />
                  --&gt; dll2 with call back functions for item 2<br />
<br />
due to the DLL capability you need to have two DLLs with the same functions  but with different names.<br />
<br />
==&gt; 2 buttons?; Complex for end user I think and what if you want to have 3 browsers open? A third DLL. Could be very complex<br />
<br />
Regards<br />
Philippe</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mr_suleyman</div><div class="date">6th December 2006, 08:15</div></div><div class="posttext">I only use one button on form. When I select one item on form, I open GBF by using this one button. After that I close GBF and select another item and I press same button then GBF is not open. Your way doesn't provide to solution my case.<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bdittmar</div><div class="date">6th December 2006, 12:43</div></div><div class="posttext">I only use one button on form. When I select one item on form, I open GBF by using this one button. After that I close GBF and select another item and I press same button then GBF is not open. Your way doesn't provide to solution my case.<br />
<br />
Thanks.<br />
<br />
Hello,<br />
<br />
it is handled in :<br />
<br />
function extern long init_data_gbf()<br />
<br />
Regards</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mr_suleyman</div><div class="date">6th December 2006, 14:00</div></div><div class="posttext">How ?????????????</div></div><hr />


<div class="post"><div class="posttop"><div class="username">NPRao</div><div class="date">6th December 2006, 21:15</div></div><div class="posttext">I am not sure how? but, there is some info in the latest programmer's manual-<br />
<br />
SSA ERP LN 6.1 Programmers Guide<br />
gbf.init()<br />
--------------------------------------------------------------------------------<br />
Syntax<br />
#include &lt;bic_gbf&gt;<br />
<br />
long gbf.init(const string library(), const string title(), [long default.menu, long default.button, long default.options, long standard.button, long default.context])<br />
<br />
Description<br />
This function must be the first to be called, it initializes the global data structures of the GBF. It is not forbidden to reactivate a new run of the GBF in a session after a previous run of the GBF has terminated, the GBF has to clear its global variables again. This cleaning of the global variables cannot be done when leaving the GBF as at that point in time it must still be possible to get some information about the settings in order for the application to save and restore some user preferences, see for example gbf.get.refresh.strategy() and gbf.get.sort.strategy() .</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mr_suleyman</div><div class="date">7th December 2006, 16:01</div></div><div class="posttext">Thanks All I will evaluate your feedback soon. Thanks...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mr_suleyman</div><div class="date">21st December 2006, 13:43</div></div><div class="posttext">I tried the ways . But all of them failed. What needs to be done ?<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bdittmar</div><div class="date">21st December 2006, 15:59</div></div><div class="posttext">I tried the ways . But all of them failed. What needs to be done ?<br />
<br />
Thanks<br />
<br />
<br />
Hello mr_suleyman,<br />
<br />
you're a BaaNboard GURU !<br />
Maybe debugging your souce will show you the problem.<br />
<br />
I'm not able to relate to your problem.<br />
As shown in attachment, it is posible to open more than one graphical bom same time.<br />
<br />
Regards</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mr_suleyman</div><div class="date">22nd December 2006, 08:13</div></div><div class="posttext">Firstly ,Thanks Bditmarr for your comment. But I'm always open to learn and learn. It is not important whether I'am guru or not. Secondly , When I look your picture , I realize that you open two session and two GBF. This works for me too. But May be you misunderstand my problem that is to open more than GBF from one sesion. And also I checked my source. I open first GBF and second like  working in background but On the screen there is no second. Although I close first GBF and run second it doesn't work or I open first and I try to open second it doesn't work. Only works for open multiple sessions then open more than GBF.<br />
My source is that:<br />
<br />
|******************************************************************************<br />
<br />
	table	ttipcs022	<br />
	table	ttcmcs003<br />
	table	ttibom010	<br />
	table	ttiitm001	<br />
	table	ttipcs021	<br />
	<br />
	#include &quot;/baan/bse/application/tgB40_c1/itggbf/igbfdefs0&quot; 	 <br />
	#include &quot;/baan/bse/application/tgB40_c1/itgcom/icomlogging0&quot;     <br />
	#pragma used dll /baan/bse/application/tgB40_c3/otggbf/ogbfsrvlib<br />
<br />
<br />
	extern	domain	tcitem        	mitm.f	fixed<br />
	extern	domain	tcyesno       	txta.yn<br />
		domain	tcmcs.str60	gbf_key<br />
		domain	tcmcs.s215	gbf_desc<br />
		domain	tcmcs.str60	head_key<br />
<br />
		long		int.iconset1<br />
		long		int.iconset2<br />
		long		leaf.iconset1<br />
		long		leaf.iconset2<br />
       extern	long		rc<br />
       extern   long            retval<br />
<br />
<br />
function extern tibomdll0008.explode.vkgr()<br />
{<br />
	rc = init_data_gbf()	<br />
}<br />
<br />
<br />
function long read.bom010(domain tcitem myitem, domain tcmcs.str3 level)<br />
{<br />
	select	tibom010.*<br />
	from	tibom010<br />
	where   tibom010.mitm = :myitem and (tibom010.exdt= 0 or (tibom010.exdt between date.num()-365 and date.num()))<br />
	order by tibom010._index4<br />
	selectdo<br />
		gbf_key(1;4) = edit$(tibom010.pono,&quot;9999&quot;)<br />
		gbf_key(5;6) = &quot;      &quot;<br />
		gbf_key(11;16) = tibom010.sitm(1;16)<br />
		gbf_desc(1;4)=edit$(tibom010.pono,&quot;9999&quot;)<br />
		gbf_desc(5;1) = &quot; &quot;<br />
		gbf_desc(6;6)=&quot;      &quot;<br />
		gbf_desc(12;2) = &quot;  &quot;<br />
		gbf_desc(14;16)=tibom010.sitm(1;16)<br />
		gbf_desc(30;2)=&quot;  &quot;<br />
<br />
	        select tiitm001.* from tiitm001<br />
	        where tiitm001.item = :tibom010.sitm<br />
	        as set with 1 rows<br />
	    	selectdo<br />
	        	gbf_desc(32;30) = tiitm001.betr(1;30)<br />
                        gbf_desc(62;8) = &quot;        &quot;<br />
	        	gbf_desc(70;15) = &quot;Q:&quot;  &amp;  str$(tibom010.qana)<br />
<br />
	    		if tiitm001.kitm = tckitm.manufacture then<br />
				rc = gbf.add.object(gbf_key, gbf_desc, 1, false, int.iconset2) |node<br />
	    		else<br />
				rc = gbf.add.leaf(gbf_key, gbf_desc,  0)  | leaf<br />
	    		endif<br />
	        endselect<br />
	endselect<br />
	return(0)<br />
}<br />
<br />
function extern long init_data_gbf()<br />
{<br />
<br />
	long	def.options<br />
	long	ret_start<br />
<br />
<br />
	<br />
	head_key(1;6) = mitm.f(1;6)<br />
	head_key(8;16) = mitm.f(1;16)<br />
        <br />
	retval = gbf.init(gbf.current.library(), head_key,<br />
			bit.or(GBF.MENU.ALL  , GBF.MENU.FILE.OPEN),<br />
			bit.or(GBF.BUTTON.ALL, GBF.BUTTON.FILE.QUIT),<br />
			def.options)<br />
<br />
	int.iconset1 = gbf.set.interior.icon( &quot;bom&quot;,<br />
				&quot;specm.normal&quot;,		|unselected.closed<br />
				&quot;specm.open&quot;,		|unselected.open<br />
				&quot;specm.closed&quot;,		|selected.closed<br />
				&quot;specm.open&quot;,		|selected.open<br />
				true )			|DÃ©fault<br />
	int.iconset2 = gbf.set.interior.icon( &quot;bom&quot;,<br />
				&quot;standm.normal&quot;,	|unselected.closed<br />
				&quot;standm.normal&quot;,	|unselected.open<br />
				&quot;standm.select&quot;,	|selected.closed<br />
				&quot;standm.select&quot;,	|selected.open<br />
				false )<br />
	leaf.iconset1 = gbf.set.leaf.icon( &quot;bom&quot;,<br />
			 &quot;purs.normal&quot;,<br />
			 &quot;purs.select&quot;,<br />
			 TRUE)<br />
	leaf.iconset2 = gbf.set.leaf.icon( &quot;bom&quot;,<br />
			 &quot;pursp.normal&quot;,<br />
			 &quot;pursp.select&quot;,<br />
			 false)<br />
			 <br />
<br />
	retval = gbf.set.key.desc.length(60, 215)<br />
<br />
	retval =  gbf.set.sort.strategy(  GBF.SORT.DESC<br />
					+ GBF.SORT.ASCENDING<br />
					+ GBF.SORT.INSENSITIVE)<br />
<br />
	retval =  gbf.set.open.strategy(  GBF.OPEN.AGAIN<br />
					+ GBF.OPEN.CURSEL<br />
					+ GBF.OPEN.READALL)<br />
					<br />
	ret_start = gbf.start(1, 1) <br />
	<br />
	return (0)<br />
}<br />
<br />
<br />
function long find.bom(const string key.c())<br />
{<br />
	long	retval<br />
	domain	tcitem	item.c<br />
	domain	tccprj	cprj.c<br />
	domain   tcmcs.str4	level<br />
<br />
<br />
	level(1;4) = key.c(1;4)<br />
	item.c = key.c(11;16)<br />
	if not isspace(mitm.f) then<br />
		retval = read.bom010(item.c,level)<br />
	endif<br />
	return (0)<br />
}<br />
<br />
function extern long gbf.get.top.level()<br />
{<br />
	head_key(11;16) = mitm.f(1;16)<br />
	return (find.bom(head_key))<br />
}<br />
<br />
function extern long gbf.get.children(const string key(),<br />
					long value,<br />
					long level)<br />
{<br />
	return (find.bom(key))<br />
}<br />
<br />
function extern long gbf.save(<br />
	const	long	object.id,<br />
	const	string	object.key(),<br />
	const	long	object.value,<br />
	const	long	menu.value)<br />
{<br />
	return (0)<br />
}<br />
<br />
<br />
<br />
THANKS...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">george7a</div><div class="date">22nd December 2006, 11:36</div></div><div class="posttext">Hi,<br />
<br />
I have some questions:<br />
<br />
1) When the first gbf is opened check it's PID (using the ps command in client Baan shell). After you close the first gbf does the process still exists in the shell?<br />
2) When you try to activate the second gbf (and it does not open), can you check if there is a new process started in the shell?<br />
<br />
- George</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mr_suleyman</div><div class="date">22nd December 2006, 13:14</div></div><div class="posttext">Hi,<br />
When I look at process Baan doesn't open any new process for GBF. It runs in sessions process. That's why we couldn't look processes.<br />
<br />
Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mr_suleyman</div><div class="date">22nd December 2006, 13:39</div></div><div class="posttext">I discovered something. I controlled return value of  gbf.start value. In first step for GBF 1 it returned 0 second GBF it returned -64. When I looked at return values of gbf.stat function there are 0, F.NO.MEMORY,GBF.ILL:STATE  return values. Does any anyone know  what equals -64 .<br />
<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mr_suleyman</div><div class="date">22nd December 2006, 14:13</div></div><div class="posttext">And Also gbf.init returns -74 in second GBF.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">george7a</div><div class="date">22nd December 2006, 14:15</div></div><div class="posttext">74:<br />
http://www.baanboard.com/programmers_manual_baanerp_help_errors_74_ENOBUFS<br />
<br />
64:<br />
http://www.baanboard.com/programmers_manual_baanerp_help_errors_64_EOPNOTSUPP</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mr_suleyman</div><div class="date">22nd December 2006, 15:15</div></div><div class="posttext">Thanks George but There is no extra information for solution. I don't belive that this is memory error because it opens more than GBF from multiple sessions. I researched the DLL information. There is no extra information.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">george7a</div><div class="date">4th January 2007, 11:17</div></div><div class="posttext">HI,<br />
<br />
I hope this link will help you, It includes all error codes and return values of GBF:<br />
http://www.baanboard.com/programmers_manual_baanerp_help_functions_generic_browser_frameworkf_error_codes_and_return_values<br />
<br />
- George</div></div><hr />



</div>
</body>
</html>