<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Table Updation in 2 companies, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Table Updation in 2 companies Tools Development" />
	
	<title>Table Updation in 2 companies [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; Table Updation in 2 companies</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">ajay007</div><div class="date">25th August 2006, 13:09</div></div><div class="posttext">hello all,<br />
<br />
I have developed one maintain session through which I want to insert data in more than 1 company....<br />
for example... suppose there are 2 companies 812 &amp; 813... I want to write a code by which I can insert a record in company 812 and after that same record in 813....<br />
I have tried using switch.to.company before selecting table for updation but of no use.... If I insert in 812 and use switch.to.company ,the company is switched successfully but at the time of commit.transaction it is throwing an error of duplicate value.....<br />
<br />
Please Help.......</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Kozure Ohashi</div><div class="date">25th August 2006, 13:19</div></div><div class="posttext">Dear ajay007,<br />
<br />
(1) make the commit for each company (before the switch.to.company)<br />
<br />
(2) maybe you can use: table._compnr = 812 <br />
and afterwards table._compnr = 813 in the where clause. Maybe this works with one commit.<br />
<br />
Regards,<br />
<br />
Kozure</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ARijke</div><div class="date">25th August 2006, 15:17</div></div><div class="posttext">Hi,<br />
<br />
Option 1 is the way to go, use two seperate transactions. As far as I can remember the switch of company will result in an value 0 for the  _comp field.<br />
<br />
Regards, Adriaan</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ajay007</div><div class="date">25th August 2006, 15:42</div></div><div class="posttext">hello all,<br />
<br />
thanks 4 ur reply.......<br />
I have tried both the methods.....<br />
actually using 1st method.... <br />
if i insert record in company 812... then commit and switch to 813..<br />
company is switched as it is showing success and also if i see current company it is showing as 813. but table._compnr is having value 812 only...<br />
I have use separate commit statements....<br />
i have also tried using compnr.check but it is also having same problem...<br />
<br />
Please help....</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">25th August 2006, 16:31</div></div><div class="posttext">Could you post the code?  How are you setting the record for the 813 company?  If you are using something like the rcd buffers you would also have to set the table._compnr for the 813 company.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ajay007</div><div class="date">26th August 2006, 07:32</div></div><div class="posttext">Hello all,<br />
<br />
Thanks 2 all 4 ur reply.......<br />
Actually I got the solution by using table_compnr inside the select loop just before the insert statement....</div></div><hr />



</div>
</body>
</html>