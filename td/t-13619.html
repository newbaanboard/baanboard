<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="The Baan-process sort.exe, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] The Baan-process sort.exe Tools Development" />
	
	<title>The Baan-process sort.exe [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; The Baan-process sort.exe</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">en@frrom</div><div class="date">14th November 2003, 13:03</div></div><div class="posttext">Hi,<br />
<br />
Does anyone know when the Baan-process sort.exe is being executed? I.e: When running one specific - custom - reporting session, we encounter terrible performance problems, caused by the sort.exe which takes up a huge cpu percentage on the server, and causes Baan to be abnormally slow!<br />
<br />
I would like to know in what cases the sort is being executed (because it surely doesn't happen with any large database/report query), so that I might be able to optimize the session, and maybe the sort won't have to be executed any more.<br />
<br />
<br />
Thanks in advance,<br />
<br />
En.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zardoz</div><div class="date">14th November 2003, 14:01</div></div><div class="posttext">It's runned when you use in a report an order different from presorted (in this case the sort is done before the report, by reading the set of data in the order using indexes).<br />
If - for any reason - by example, there isn't the index you want to use in the report - you have to sort the data before is printed. If there is a large amount of data and/or a lot of sorts fields this process could speed down a lot....</div></div><hr />


<div class="post"><div class="posttop"><div class="username">en@frrom</div><div class="date">14th November 2003, 14:16</div></div><div class="posttext">Thanks for your reply Zardoz, but what I don't understand is:<br />
a lot of reports are using different sortings than the presorted order from the query (for instance programs with option to print reports by sold-to bp, invoice-to bp, item, date etc), and still it seems to me always the same story; that when this particular session is running, the sort is executed and causing those major performance problems.<br />
<br />
Another point is that even when running this session for not so much data [this session is a statistics session printing revenue figures based on tdsls451], for instance by chosing one month which will result in about 20k records of the main table selected by the correct indices in the program script (by date), still the sort will be executed. Indeed for a short time [-&gt; approx. one minute], but during the time sort.exe is running, the performance is terribly down.<br />
<br />
??!!<br />
Regards,<br />
<br />
En.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Han Brinkman</div><div class="date">17th November 2003, 12:55</div></div><div class="posttext">I am not sure anymore which version it was but at a certain time Baan did have a problem with the sort program. It was solved in the next release of the portingset.<br />
<br />
Perhaps worth a try?<br />
<br />
Kind regards,<br />
Han</div></div><hr />


<div class="post"><div class="posttop"><div class="username">en@frrom</div><div class="date">17th November 2003, 13:08</div></div><div class="posttext">Han, thanks for your response.<br />
<br />
We are running on a rather old porting set: 6.2a.03.03, however are currently unable to upgrade.<br />
<br />
I did try to individually place the sort.exe of the latest porting set, but this didn't solve the problem. I assume that even if it has been solved, maybe the sort.exe alone is not solving the problem, but only in combination with other objects from the new version...?<br />
<br />
However, since it looks like I'm pretty much trapped in my current situation, I was looking more to the other direction, namely seeing if I could solve the problem in our session where the problem occurs, by avoiding the sort.exe to be executed. I still do not understand what causes the sort to be executed, since the other seemingly similar reporting sessions (i.e. relatively heavy queries in script, sorted in the report with different sorting than the presorting by the script-query) do not activate the sort.exe.<br />
<br />
??!!<br />
<br />
Regards,<br />
<br />
En.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Han Brinkman</div><div class="date">17th November 2003, 17:15</div></div><div class="posttext">you can see in the report source that it runs the sort. As far as I know it does it only if the report is using the ascending and/or decending and not the pre-sorted types.<br />
<br />
How about not upgrading but using a version older?<br />
<br />
Rgrds,<br />
Han</div></div><hr />


<div class="post"><div class="posttop"><div class="username">en@frrom</div><div class="date">17th November 2003, 19:21</div></div><div class="posttext">Han,<br />
<br />
The problematic session does not use the asc/desc arguments; not in program script and not in report script. So I still don't know what activates the sort.exe...!<br />
<br />
I will test with the older version of sort.exe (6.2a.02.02 ??) and let you know if there is any change.<br />
<br />
Thanks meanwhile for your attempts to help, and if you (anyone) have an idea to what activates the sort, please let me know.<br />
<br />
<br />
Kind regards,<br />
<br />
En.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Elke Bahlinger</div><div class="date">2nd May 2006, 16:06</div></div><div class="posttext">Hello EN,<br />
<br />
we have the same problem with the sort.exe error. Since 2 weeks, suddenly this error-messages came up, and since that time we tried everything without any success. Could you solve your problem meanwhile?<br />
We tried registry entries (NonInteractiveDesktop), changed the directory of BSE_TMP and BSE_SORT to another directory with more space, increased our RAM memory; nothing of that could help us, we still get the sort.exe error, that slows down our BaanServer ant the only chance for our users to work is to restart the server. Do you have an idea what we can do?<br />
<br />
Regards,<br />
Elke</div></div><hr />


<div class="post"><div class="posttop"><div class="username">en@frrom</div><div class="date">2nd May 2006, 16:23</div></div><div class="posttext">Hello Elke,<br />
<br />
Please fill in your environment information with more detail, like this people know exactly under which versions you are running...<br />
<br />
In our case we faced the problem with sort.exe while running on Baan 5.0B, with porting set 6.2a . After upgrading our porting set - the latest version at the time was 7.1d - our problem was solved. <br />
<br />
Hope this helps you a bit..</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Elke Bahlinger</div><div class="date">3rd May 2006, 09:13</div></div><div class="posttext">Hello En,<br />
<br />
thank you for your answer. Yesterday we tried another key and value in the windows registry, we hope that it works this day. I will let you know if we have some test results.<br />
As far as I know we have the latest porting set 7.1 d, but I will check that, to make sure that this is correct.<br />
Thank you so far,<br />
<br />
Regards, Elke</div></div><hr />


<div class="post"><div class="posttop"><div class="username">en@frrom</div><div class="date">3rd May 2006, 10:10</div></div><div class="posttext">Elke,<br />
<br />
Please also tell us what Baan version and SP you have installed...<br />
<br />
Regards,<br />
En</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Elke Bahlinger</div><div class="date">5th May 2006, 10:05</div></div><div class="posttext">Hello EN,<br />
<br />
our Baan version is B 50 c, Service Pack 15 and Porting Set 7.1d.07.<br />
We have good news, our latest changes in our windows registry worked.<br />
We could eliminate the sort.exe error ;-)<br />
Thank you for your help.<br />
<br />
Regards,<br />
Elke</div></div><hr />


<div class="post"><div class="posttop"><div class="username">en@frrom</div><div class="date">5th May 2006, 11:11</div></div><div class="posttext">Hi Elke,<br />
<br />
I am happy to hear that you were able to solve the problem. For the benefit of possible others being confronted with the same problem, please post your exact registry changes..<br />
<br />
Regards,<br />
En</div></div><hr />


<div class="post"><div class="posttop"><div class="username">suhas-mahajan</div><div class="date">6th May 2006, 13:17</div></div><div class="posttext">Hi En,<br />
<br />
(Un)Fortunately that problem I have faced and resolved recently.<br />
<br />
Here are details:<br />
<br />
1. Find below data in registery.<br />
%SystemRoot%\system32\csrss.exe ObjectDirectory=\Windows SharedSection=1024,3072,512 Windows=On SubSystemType=Windows ServerDll=basesrv,1 ServerDll=winsrv:UserServerDllInitialization,3 ServerDll=winsrv:ConServerDllInitialization,2 ProfileControl=Off MaxRequestThreads=16<br />
<br />
2. Replace 512 to 1024. If required, restart server. Thats it.<br />
<br />
regards,<br />
<br />
-Suhas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Elke Bahlinger</div><div class="date">8th May 2006, 09:00</div></div><div class="posttext">Thank you Suhas, thank you En for your help,<br />
<br />
what we did to solve the sort.exe error:<br />
<br />
1. Change a windows registry key: <br />
<br />
In HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\Session Manager\SubSystems\%SystemRoot%\system32\csrss.exe ObjectDirectory=\Windows SharedSection=1024,3072,1024 Windows=On SubSystemType=Windows ServerDll=basesrv,1 ServerDll=winsrv:UserServerDllInitialization,3 ServerDll=winsrv:ConServerDllInitialization,2 ProfileControl=Off MaxRequestThreads=16<br />
<br />
We changed the 3rd value of Shared Section from 512 to 1024<br />
<br />
2. Add another windows registry key:<br />
Under HKEY_LOCAL_MACHINE\Software\Baan\Services\Protocols\<br />
add another key from Type DWORD &quot;NonInteractiveDesktopSize&quot; and set the value to &quot;1024&quot;<br />
<br />
<br />
Be very careful with this changes. In our environment it worked, I have no idea how other windows-operating systems react (We have Baan V and Windows 2003). We tried other values before (recommended by Baan Support, e.g. 4096 for NonInteractiveDesktopSize) what our Server causes not to boot anymore.<br />
<br />
Regards,<br />
Elke</div></div><hr />



</div>
</body>
</html>