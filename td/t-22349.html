<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="On-Time Shipment Delivery Report - 2 questions, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] On-Time Shipment Delivery Report - 2 questions Tools Development" />
	
	<title>On-Time Shipment Delivery Report - 2 questions [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; On-Time Shipment Delivery Report - 2 questions</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">jwray100</div><div class="date">16th November 2004, 21:32</div></div><div class="posttext">I have written a report that displays each delivery for a customer with the order date, planned delivery date, and actual ship date.  I am trying to add a column that would show status for each delivery, i.e. Late or On-Time, based on the difference between the planned delivery date and the actual ship date.<br />
<br />
I have created a report field with the print expression:<br />
(tdsls041.ddta - tdsls045.ddat) &gt; 0 ? dsta.o : dsta.l<br />
<br />
All four variables are defined as input variables to the report.  dsta.o and dsta.l are delared extern and defined as &quot;On-Time&quot; and &quot;Late&quot;, respectively, in the session script.<br />
<br />
When I run the report I get blank output in this column for all records.<br />
<br />
Anyone have an idea on how to fix this?<br />
<br />
I would also like to have a &quot;sub total&quot; by customer and &quot;grand total&quot; for the report which would be the on-time order percentage (on-time shipments/total shipments) for each customer's shipments and all shipments, respectively, in the report.<br />
<br />
Any ideas on how to go about doing this?<br />
<br />
Thanks,<br />
<br />
Joel</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">16th November 2004, 22:16</div></div><div class="posttext">What domain did you use on the report for dsta.o and dsta.l?  Is this the same domain as the field you put on the report?<br />
<br />
Without really knowing the report, I would have to recommend using the report script to do the counters for the precentages and the totals.  Then use the after customer and after report sections to print these values.  For example in the detail layout just increase a counter by 1 for this customer and if on-time increase the on-time counter by one.  Also create other counters for the grand total to be printed in the after report section.  Then in the after each customer section just 0 out the counter at the customer level.  You could do the same for the total values you mentioned.<br />
<br />
<br />
Mark</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jwray100</div><div class="date">16th November 2004, 22:47</div></div><div class="posttext">Mark,<br />
<br />
I used domain tc.refa which is Multi Byte and I did not link it so I could use a shorter length.  This may be incorrect.  I have to confess that I am new at this and I don't completely understand how to choose a domain when there is not one defined as for a table field.  I usually just try to find one that is the type I am looking for.<br />
<br />
I'll give your suggestions on the on-time percentages a shot.  If I understand you correctly you're suggesting I write the code to handle the counters into the script associated with the report not the session script, correct?<br />
<br />
Thanks,<br />
Joel</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">16th November 2004, 23:55</div></div><div class="posttext">That is correct.  That is where I do my totals and percentages when I have to do something like you mentioned.<br />
<br />
Mark</div></div><hr />


<div class="post"><div class="posttop"><div class="username">smanohar</div><div class="date">17th November 2004, 00:11</div></div><div class="posttext">If you are comfortable with debugging, then compile the report in debugger. When the condition is executed, check the value of all the four variables and see what is happening.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">jwray100</div><div class="date">18th November 2004, 15:47</div></div><div class="posttext">Thanks for the help folks.  The counters did the trick.  The report works beautifully!!</div></div><hr />



</div>
</body>
</html>