<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Performance report problem (windows - sql vs. AIX - Oracle), baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Performance report problem (windows - sql vs. AIX - Oracle) Tools Development" />
	
	<title>Performance report problem (windows - sql vs. AIX - Oracle) [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; Performance report problem (windows - sql vs. AIX - Oracle)</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">gget79</div><div class="date">6th June 2013, 17:08</div></div><div class="posttext">Hi Experts,<br />
<br />
I'm working with LN FP7.<br />
<br />
I have a problem, I ask your help please:<br />
1. We have a report that a production environment (AIX - Oracle 11), execution takes about 30 minutes.<br />
2. The same report in our development environment (Windows - SQL Server 2008), with the same data and the same selection filter execution takes 4 minutes.<br />
3. We have reviewed and optimized report queries in order to improve but we have not succeeded.<br />
<br />
As far as I understand the programming logic is independent of the application architecture<br />
<br />
Can anyone help me to know whether to fix something BD level, configuration or operating system?<br />
<br />
<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">6th June 2013, 18:18</div></div><div class="posttext">The first thing I think of is - have you had your oracle dba's look at the execution plan or just watch it run?  I know our DBA's can recommend indexes or put in profiles to assist performance.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Hitesh Shah</div><div class="date">6th June 2013, 18:30</div></div><div class="posttext">While there is scope for tuning at OS , db level and baan driver level ,there could be 2-3 things to cause performance difference.<br />
<br />
1. porting set difference / bug in bd<br />
2. app load on servers due to difference in number of users<br />
3. Difference in server resources like ram / processor etc.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">gget79</div><div class="date">6th June 2013, 19:54</div></div><div class="posttext">The first thing I think of is - have you had your oracle dba's look at the execution plan or just watch it run?  I know our DBA's can recommend indexes or put in profiles to assist performance.<br />
<br />
Thank you dear for your reply.<br />
<br />
I previously mentioned the case in the forum, DBAs and talked to told me that all maintenance processes database are current. You refer to this process, ie run statistics database?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">gget79</div><div class="date">6th June 2013, 19:59</div></div><div class="posttext">While there is scope for tuning at OS , db level and baan driver level ,there could be 2-3 things to cause performance difference.<br />
<br />
1. porting set difference / bug in bd<br />
2. app load on servers due to difference in number of users<br />
3. Difference in server resources like ram / processor etc.<br />
<br />
<br />
While there is scope for tuning at OS , db level and baan driver level ,there could be 2-3 things to cause performance difference.<br />
<br />
1. porting set difference / bug in bd, &quot;THIS TOPIC I'M GOING TO VERIFY&quot;<br />
2. app load on servers due to difference in number of users, &quot;THIS TOPIC IS NOT IMPORTANT, BECAUSE I HAVE TESTED IN THE SERVER WITHOUT USERS&quot;<br />
3. Difference in server resources like ram / processor etc. &quot;THIS TOPIC IS NOT IMPORTANT, BECAUSE THE PRODUCTION SERVER, IS MORE STRONG THAT OWN DEVELOPMENT SERVER THE RELATION IS 4 TO 1&quot;<br />
<br />
ABOUT FIRST TOPIC WHAT SHOULD I DO?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">6th June 2013, 23:22</div></div><div class="posttext">Thank you dear for your reply.<br />
<br />
I previously mentioned the case in the forum, DBAs and talked to told me that all maintenance processes database are current. You refer to this process, ie run statistics database?<br />
<br />
Not just database statistics - we update those I think nightly.  No - our Oracle DBA's can run grid control to see what queries are running, running long, etc.  Then they can pull out recommendations - build an index, or add a profile.  I am not a DBA so I don't know all the tricks.<br />
<br />
Just last week they watched an application run a query.  Oracle recommended an index, they went and added it.  The query went from running in 20-25 minutes to 3-4 minutes.  This was not baan, but they have used it before with BaaN.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">gget79</div><div class="date">7th June 2013, 16:13</div></div><div class="posttext">Not just database statistics - we update those I think nightly.  No - our Oracle DBA's can run grid control to see what queries are running, running long, etc.  Then they can pull out recommendations - build an index, or add a profile.  I am not a DBA so I don't know all the tricks.<br />
<br />
Just last week they watched an application run a query.  Oracle recommended an index, they went and added it.  The query went from running in 20-25 minutes to 3-4 minutes.  This was not baan, but they have used it before with BaaN.<br />
<br />
I am very grateful to all the experts for their help.<br />
<br />
I have talked with the DBAs and tell me they do not know the solution that I suggest. I will consult you if someone can give me a guide to start research on this topic.<br />
<br />
But I have a question, based on your answers, I understand that as the engine of the database, we must perform additional actions, for which additional shares will have to implement when there are performance issues?<br />
<br />
Thank you all.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">7th June 2013, 16:56</div></div><div class="posttext">Another question is it the report or is it the session which generates the data for the report that is taking longer?  You can turn on some tracing for baan - launch the program and get some of the run times for the queries.  Sometimes that helps you see which query is having the issue.  Also making sure you use index - instead of letting oracle pick which index to use.  You can search on tracing or debugging to find some recommendations on it.  Plus there is a Performance and Tuning guide you can get from Infor - it is on the board somewhere, but maybe infor has something more current.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">gget79</div><div class="date">7th June 2013, 17:12</div></div><div class="posttext">Another question is it the report or is it the session which generates the data for the report that is taking longer?  You can turn on some tracing for baan - launch the program and get some of the run times for the queries.  Sometimes that helps you see which query is having the issue.  Also making sure you use index - instead of letting oracle pick which index to use.  You can search on tracing or debugging to find some recommendations on it.  Plus there is a Performance and Tuning guide you can get from Infor - it is on the board somewhere, but maybe infor has something more current.<br />
<br />
Thank you for your help.<br />
<br />
Can you attach this guide?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Han Brinkman</div><div class="date">10th June 2013, 11:15</div></div><div class="posttext">Hi gget,<br />
<br />
Since you are not complaining about other sessions are slow I would suggest to start tracing the session that's slow first.<br />
<br />
A good way to start is to run it with TT_SQL_TRACE=0200. That gives you the fetch times for the queries. In the logfile you should be able to find the 'slow' query.<br />
<br />
Another thing you could do is to ask your dba to trace your sql session within oracle or, if you have enough permissions, you can do this yourselve using SQL_TRACE=true. With tkprof your dba can analyze the trace and probably identify the problem too.<br />
<br />
Regards,<br />
Han</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">10th June 2013, 15:53</div></div><div class="posttext">Han pretty much covered the option I use, but you can start with these two threads<br />
http://www.baanboard.com/baanboard/showthread.php?s=&amp;threadid=7665 or<br />
http://www.baanboard.com/baanboard/showthread.php?s=&amp;threadid=95&amp;highlight=bshell+options.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">gget79</div><div class="date">10th June 2013, 16:29</div></div><div class="posttext">Han pretty much covered the option I use, but you can start with these two threads<br />
http://www.baanboard.com/baanboard/showthread.php?s=&amp;threadid=7665 or<br />
http://www.baanboard.com/baanboard/showthread.php?s=&amp;threadid=95&amp;highlight=bshell+options.<br />
<br />
Hi,<br />
<br />
Thank you very much.<br />
<br />
I found before a good trace, this trace show me that some queries are slow, this queries, with the same data in my development environment (windows - SQL server 2008), taking 4 times more than that time take production server (AIX - Oracle 11).<br />
<br />
<br />
The trace is the next:<br />
-- -set INFPROF=3 -set EXPLAIN=1 -set BLAT=&quot;sql s 01111 th 3&quot; -set PROFILE_ALL=1 -set PROF_RTIME=1 -set BDB_ALWAYS_FLUSH=1 -set PROF_DIR=C:\tmp\get\prof tfcpe4400m001</div></div><hr />



</div>
</body>
</html>