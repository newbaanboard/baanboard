<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Best location for auto number code, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Best location for auto number code Tools Development" />
	
	<title>Best location for auto number code [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; Best location for auto number code</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">alexpreyer</div><div class="date">5th February 2004, 10:18</div></div><div class="posttext">Hello,<br />
<br />
I wrote a session where I use the tcmcs.dll0004.read.default.number-function to get a new auto number.<br />
My problem is to find the best place in code to get a number only once.<br />
At the moment I set the code in before.input section of the auto number field and check the update.status for add set.<br />
But if the user &quot;tabs&quot; through the form and reach the field again he gets a new number. Unfortunately I cannot set the code to the main table io section because the users want the new number when they start to input a new record.<br />
<br />
Can someone help me?<br />
<br />
Thanks<br />
<br />
Alex Preyer</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kbartelds</div><div class="date">5th February 2004, 10:43</div></div><div class="posttext">extend the update status check with a check whether the number has already been determined.<br />
<br />
Regards,<br />
Klaas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">alexpreyer</div><div class="date">5th February 2004, 12:05</div></div><div class="posttext">Thanks Klaas for your answer.<br />
But how can I do this especially when the user enters more than one record?<br />
<br />
Thanks<br />
<br />
Alex</div></div><hr />


<div class="post"><div class="posttop"><div class="username">avpatil</div><div class="date">5th February 2004, 14:40</div></div><div class="posttext">Hi Alex,<br />
Set one more variable. Set the variable in before.program to be fasle. SO if the variable is false then get new number. Once you get the new number set the variable to true. In main in.table.io set the variable to false again. This should resolve the issue.<br />
<br />
But then you have to take care of scenario where more than one user is trying to insert the record. Since you haven't updated the first free number, both user might get the same number and one of them will fail. If you have taken care of this scenario then the above code (setting of variable........) should work.<br />
<br />
Arvind</div></div><hr />


<div class="post"><div class="posttop"><div class="username">kbartelds</div><div class="date">5th February 2004, 14:41</div></div><div class="posttext">Check the field on add.set and value of field. In after.update set field to zero.<br />
<br />
Regards,<br />
Klaas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">alexpreyer</div><div class="date">5th February 2004, 14:56</div></div><div class="posttext">Ok, I tried the suggestion of Arvind and it seems to work very well.<br />
I get the first free number and update it in the same field section to be sure that everyone get a new number. Its no problem for us if there is a gap in the numbers because someone is canceling his actual record. <br />
<br />
Thanks Klaas and Arvind for your help.<br />
<br />
Alex</div></div><hr />



</div>
</body>
</html>