<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Error while compiling Prog.Script, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Error while compiling Prog.Script Tools Development" />
	
	<title>Error while compiling Prog.Script [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; Error while compiling Prog.Script</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">indian_sumesh</div><div class="date">4th March 2005, 07:48</div></div><div class="posttext">Hello All BAAN friends<br />
<br />
I am Umesh new BAAN Prog. I have to generate one text file with info. from tdpur045 so i main. new Session with a form without any field,just<br />
two buttons continue and cancel.<br />
<br />
and throug Prg script generating cost.txt file <br />
<br />
Error is - ptdptl04050(76) : Fatal Error: FUNCTION within function 'on.choice.cont.process' not expected<br />
<br />
<br />
|****************************** choice section ********************************<br />
<br />
choice.cont.process:<br />
on.choice:<br />
<br />
	path.id = sprintf$(&quot;\\it_new\SHAREDOC\cost.txt&quot;)<br />
	seq.id = seq.open(path.id,&quot;w&quot;)<br />
	if seq.id &lt; 1 then<br />
		message(&quot;Error in creating file&quot;)<br />
		exit()<br />
	else<br />
		hold.system = 1<br />
		create.header()<br />
		ret1 = seq.puts(hold.header,seq.id)<br />
		read.main.table()<br />
		seq.close(seq.id)<br />
	endif<br />
	message(&quot;Report generation completed.The file with path is \\ppc\shared docs\dispatchdet.txt &quot;)<br />
<br />
<br />
<br />
Regards<br />
<br />
Umesh</div></div><hr />


<div class="post"><div class="posttop"><div class="username">csecgn</div><div class="date">4th March 2005, 11:25</div></div><div class="posttext">It would be very helpfull if You could post the errors. <br />
<br />
But I've seen 2 problems in your code: <br />
<br />
1. Yoou dont need sprintf$<br />
2. AFAIK you can not use UNC pathes. You only can use pathes like x:\... .<br />
<br />
The correkt code would be like:<br />
<br />
...<br />
path.id = &quot;X:\SHAREDOC\cost.txt&quot;<br />
seq.id = seq.open(path.id,&quot;w&quot;)<br />
...<br />
<br />
Regards<br />
csecgn</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Debdas Banerjee</div><div class="date">4th March 2005, 13:06</div></div><div class="posttext">Hi <br />
<br />
I am giving one of my function for capture error message and runtime data. hope it will help you.<br />
<br />
<br />
	<br />
function write.err.record()<br />
{<br />
|*** This function writes an error message to the error ASCII file<br />
     file.fp = seq.open(&quot;\\jal\exchange\deb\err.txt&quot; ,&quot;a&quot;)<br />
     err.line = &quot;&quot;<br />
     err.line = err.line &amp; logname$ &amp; &quot; :-&quot; &amp; &quot;Ord#: &quot;&amp; str$(tdsls041.orno) &amp; &quot;, Po#&quot; &amp; str$(tdsls041.pono) &amp; &quot;  &quot;<br />
     err.line = err.line &amp; &quot;Date:-&quot; &amp; str$(date.num()) &amp; &quot;, Time:- &quot; &amp; str$(time.num()) &amp; &quot;, &quot;<br />
     err.line = err.line &amp; error<br />
     ret.code = seq.puts(err.line, file.fp)<br />
     return	<br />
}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">4th March 2005, 14:22</div></div><div class="posttext">You might need to post all of your code.  This error could be generated by something other than this piece of code.<br />
<br />
Mark</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Hitesh Shah</div><div class="date">4th March 2005, 17:14</div></div><div class="posttext">Hello All BAAN friends<br />
<br />
Error is - ptdptl04050(76) : Fatal Error: FUNCTION within function 'on.choice.cont.process' not expected<br />
<br />
<br />
<br />
Think u have not written label functions: before start of actual functions and cont.process . It should be like this .<br />
<br />
<br />
cont.process:<br />
on.choice:<br />
 ........<br />
<br />
functions:<br />
function abc()<br />
{<br />
  .......<br />
}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">veyant</div><div class="date">15th March 2005, 10:26</div></div><div class="posttext">you need to post complete code. without it no one can identify where exactly error is. else it all will be GUESS WORK.<br />
<br />
<br />
Sandy</div></div><hr />


<div class="post"><div class="posttop"><div class="username">wgarcia</div><div class="date">17th March 2005, 15:36</div></div><div class="posttext">It is necessary that you place the complete code of the program. It can be syntax error or of programming.<br />
<br />
El Gran Maestro</div></div><hr />


<div class="post"><div class="posttop"><div class="username">vahdani</div><div class="date">17th March 2005, 17:02</div></div><div class="posttext">Hi Umesh,<br />
<br />
a backslash in Baan stands for the start of an escape sequence. To write an actual backslash character in a string you have to use two backslashes &quot;\\&quot;. Looks funny but it's true! Changing your code to the following should help:<br />
<br />
choice.cont.process:<br />
on.choice:<br />
<br />
	path.id = sprintf$(&quot;\\\\it_new\\SHAREDOC\\cost.txt&quot;)<br />
	seq.id = seq.open(path.id,&quot;w&quot;)<br />
	if seq.id &lt; 1 then<br />
		message(&quot;Error in creating file&quot;)<br />
		exit()<br />
	else<br />
		hold.system = 1<br />
		create.header()<br />
		ret1 = seq.puts(hold.header,seq.id)<br />
		read.main.table()<br />
		seq.close(seq.id)<br />
	endif<br />
	message(&quot;Report generation completed.&quot;<br />
	&amp; &quot;The file with path is \\\\ppc\\shared docs\\dispatchdet.txt &quot;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Hitesh Shah</div><div class="date">18th March 2005, 15:06</div></div><div class="posttext">Vahdani , sprintf function works for date and numeric expressions. For strings (as illustrated in ur example ) , it returns the same . <br />
<br />
We do not use the extra backslash in assigning the path . We directly assign the correct path values  in variables and use it successfully. <br />
<br />
Of course , an extra backslash is displayed while in debugger mode for reasons stated by u . For double quotes, what u say is true.<br />
<br />
Do let us know the version , os , portingset on which ur illustration  is working.  It can help us while porting code across platforms.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">vahdani</div><div class="date">18th March 2005, 15:33</div></div><div class="posttext">Hi Hitesh,<br />
<br />
you are fully correct in all points and I hang down my head in shame(sigh)<br />
I had not actually tested the code I posted. It was just based on a hunch that a backslah on its own could throw the compiler off its tracks.<br />
<br />
Won' t happen again. I hope....</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Hitesh Shah</div><div class="date">19th March 2005, 16:05</div></div><div class="posttext">Need not feel ashamed . Just wanted update the readers (including myself)  understanding on this aspect.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Rita Kotecha</div><div class="date">23rd June 2005, 16:15</div></div><div class="posttext">Has the error been sorted out. Please revert back.</div></div><hr />



</div>
</body>
</html>