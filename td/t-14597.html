<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="why can not insert into the table ? help me, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] why can not insert into the table ? help me Tools Development" />
	
	<title>why can not insert into the table ? help me [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; why can not insert into the table ? help me</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">springgirl</div><div class="date">26th February 2004, 07:04</div></div><div class="posttext">dear friends,<br />
<br />
      I meet a problem, I write the right code,but it does not work.<br />
      Can you help me ?<br />
      Thanks in advance.The code as follow:<br />
<br />
choice.user.0:<br />
on.choice:			<br />
	select * <br />
	from tdpur909  <br />
	where tdpur909.item = &quot;111&quot; and <br />
                           tdpur909.clot = &quot;S34A07510021    &quot;	<br />
	selectdo<br />
		mess(&quot;existed&quot;,1)		<br />
	selectempty		<br />
		db.set.to.default(ttdpur909)<br />
		tdpur909.item = &quot;159&quot;<br />
		tdpur909.clot = &quot;123&quot;<br />
		tdpur909.cwar = &quot;001&quot;<br />
		tdpur909.iqc  = tcyesno.yes<br />
		tdpur909.orno = 110021<br />
		tdpur909.reno = 999999<br />
		db.insert(ttdpur909,db.retry)		<br />
	endselect</div></div><hr />


<div class="post"><div class="posttop"><div class="username">NPRao</div><div class="date">26th February 2004, 08:26</div></div><div class="posttext">springgirl,<br />
<br />
Refer to the link for more info about BaaN SQL and Transaction management.<br />
<br />
Baan SQL (http://www.baanboard.com/programmers_manual_baanerp_help_functions_database_handling_baan_sql) <br />
<br />
You need to add - commit.transaction after db.insert()</div></div><hr />


<div class="post"><div class="posttop"><div class="username">en@frrom</div><div class="date">26th February 2004, 11:14</div></div><div class="posttext">Just for the clearity:<br />
<br />
after db.insert(), write commit.transaction()<br />
This does the actual writing of the record to the table.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">nopadon</div><div class="date">26th February 2004, 22:10</div></div><div class="posttext">springgril,<br />
<br />
You need to add &quot;for update&quot;<br />
<br />
        select * <br />
        from tdpur909 FOR UPDATE<br />
        ....<br />
        ....<br />
<br />
<br />
and commit.transaction below db.insert()<br />
<br />
<br />
Regard<br />
Nopadon</div></div><hr />


<div class="post"><div class="posttop"><div class="username">nopadon</div><div class="date">26th February 2004, 22:14</div></div><div class="posttext">commit.transaction() below db.insert()</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mgakhar</div><div class="date">26th February 2004, 23:03</div></div><div class="posttext">You dont need to write &quot;from tdpur909 for update&quot; as you arent updating the record but adding a new record.<br />
<br />
As NPRao suggested, you just need to write a commit.transaction() after your db.insert stmt.<br />
<br />
MG.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">springgirl</div><div class="date">1st March 2004, 12:27</div></div><div class="posttext">It does work,thank you very much.<br />
<br />
I am a new comer in baan,thanks your help.<br />
<br />
B.R</div></div><hr />



</div>
</body>
</html>