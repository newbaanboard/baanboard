<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="strange behaviour with to.form(), baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] strange behaviour with to.form() Tools Development" />
	
	<title>strange behaviour with to.form() [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; strange behaviour with to.form()</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">robertvg</div><div class="date">29th October 2003, 12:01</div></div><div class="posttext">We have a session with two forms, forms type 1 (single occ), session has it's own script.<br />
Part of the fields of the table records are shown on form 1, the rest is shown on form 2.<br />
In the when.field.changes section of a field on form1 we update the value of a tablefield that is shown on form2.<br />
After the last field on form1 we have programmed (in after.input section of that field) we have programmed a form switch (to.form2). Now on form2 the updated field shows the new value, but when we move the cursor to the fields, as soon as it comes into that field, it changes to the old value again.<br />
Setting a trace on the specific tablefield shows that it is set back to the old value during the to.form command.<br />
<br />
Bug or are we misunderstanding something here ?<br />
kind regards,<br />
Robert</div></div><hr />


<div class="post"><div class="posttop"><div class="username">klixy23</div><div class="date">29th October 2003, 13:12</div></div><div class="posttext">Are there any in section form.2 init.form or before.form section?<br />
<br />
I think, you can save the update value in an another variable and then you can set the form field in the init.form or before.form section to this value.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">robertvg</div><div class="date">29th October 2003, 13:18</div></div><div class="posttext">Hi,<br />
<br />
There are no init.form or before.form commands for form2.<br />
Same problem occurs in a test session we made.<br />
I just tried what you suggested: in before.input section of field of form1 that is updated, store the old value in a save.field variable, then in the before.input section of the field on form2: recalculate the field if save.field &lt;&gt; current value. However after the to.form has executed, also the changed formfield on form1 has been reset to his old value. If I take out the to.form command and navigate between forms manually the formfields retain their value.<br />
<br />
Robert</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Hitesh Shah</div><div class="date">29th October 2003, 15:27</div></div><div class="posttext">Use function store.rcd.main in the after.form section of form 1 and in the before.form section of form 2 write restore.rcd.main . It should work.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">vahdani</div><div class="date">29th October 2003, 21:15</div></div><div class="posttext">The correct method of setting form switching is to set the predefined variable auto.nextform to true in before.program section instead of using the to.form() function. This could be causing your problem. :rolleyes:</div></div><hr />



</div>
</body>
</html>