<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Time Conversion..., baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Time Conversion... Tools Development" />
	
	<title>Time Conversion... [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; Time Conversion...</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">suhas-mahajan</div><div class="date">2nd October 2004, 11:58</div></div><div class="posttext">Hi All,<br />
<br />
I would like to compare form time of domain tctmhs to table stored time, which is stored in seconds, How to achieve it? Because my endusers can not enter time in seconds? Is there any short-cut avoiding calculations?<br />
<br />
Thanks in advance.<br />
<br />
Regards,<br />
<br />
-Suhas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">NPRao</div><div class="date">5th October 2004, 03:34</div></div><div class="posttext">Suhas,<br />
<br />
Check the available functions in the dll - tcccpdll3095 - Date &amp; Time conversion functions<br />
<br />
function extern domain tcbool tcccp.dll3095.check.for.date.in.year(<br />
      domain tcdate i.date,<br />
   domain tcccp.yrno i.year,<br />
       domain tctimz in.timz mb )<br />
     Expl    : The function checks if the date falls in the defined<br />
            year<br />
  post    : If the date is not in the year false is returned<br />
      Input   : i.date  -&gt; Date to be checked if it falls in the year<br />
           i.year  -&gt; Year<br />
       Output  : False   -&gt; Date doesn't fall in the defined year<br />
                True    -&gt; Date is in the defined year<br />
        <br />
function extern domain tcbool tcccp.dll3095.check.for.date.in.year.non.utc(<br />
      domain tcccp.date i.date,<br />
       domain tcccp.yrno i.year )<br />
<br />
     Expl    : The function checks if the date falls in the defined<br />
            year<br />
  post    : If the date is not in the year false is returned<br />
      Input   : i.date  -&gt; Non UTC Date to be checked if it falls in the year<br />
           i.year  -&gt; Year<br />
       Output  : False   -&gt; Date doesn't fall in the defined year<br />
                True    -&gt; Date is in the defined year<br />
        <br />
function extern long tcccp.dll3095.gap.in.sec(<br />
   domain tctmhs i.time1,<br />
  domain tctmhs i.time2 )<br />
<br />
        Expl    : This DLL is used to give the difference between a given<br />
                 start and a end time<br />
  Input   : i.time1  -&gt; First Input Time in Time format (long)<br />
              i.time2  -&gt; Sec.  Input Time in Time format (long)<br />
    Output  : range.time -&gt; Difference as seconds<br />
   <br />
function extern long tcccp.dll3095.gap.in.sec1(<br />
  domain tcthms i.time1,<br />
  domain tcthms i.time2 )<br />
 <br />
function extern domain tcbool tcccp.dll3095.local.to.utc(<br />
        domain tcccp.date i.local.date,<br />
         domain tctmhs i.local.time,<br />
     domain tczone i.time.zone.id,<br />
   ref domain tcdate o.utc.date )<br />
<br />
 Expl    : This DLL is used to convert utc date to local format<br />
  Input   : i.local.date -&gt;  input date<br />
             i.local.time  -&gt; input time in sec<br />
              i.time.zone -&gt;<br />
        Output  : o.utc.date -&gt;    Converted utc date   <br />
                <br />
        <br />
function extern tcccp.dll3095.reset.timezone()<br />
      Expl:   In case a utc to local is done, and no local to utc this<br />
                funciton must be called<br />
 <br />
function extern domain tcthms tcccp.dll3095.seconds.to.thms(<br />
     long i.seconds )<br />
 <br />
function extern domain tctmhs tcccp.dll3095.seconds.to.time(<br />
     long i.seconds )<br />
       Expl:   Convert seconds to time format.<br />
 Pre:    -<br />
       Post:   -<br />
       Input:  i.seconds - number of seconds.<br />
  Output: -<br />
 Return: time<br />
    <br />
function extern domain tcccp.capp tcccp.dll3095.subtract.time(<br />
   domain tctmhs i.time1,<br />
  domain tctmhs i.time2 )<br />
        Expl    : This DLL is used to give the difference between a given<br />
                 start and a end time<br />
  Input   : i.time1  -&gt; First Input Time in Time format (long)<br />
              i.time2  -&gt; Sec.  Input Time in Time format (long)<br />
    Output  : range.time -&gt; Difference as capacity , 30 sec = 0.5<br />
   <br />
function extern long tcccp.dll3095.thms.to.seconds(<br />
      domain tcthms i.time )<br />
 <br />
function extern domain tctmhs tcccp.dll3095.thms.to.tmhs(<br />
        domain tcthms i.time )<br />
<br />
function extern long tcccp.dll3095.time.to.seconds(<br />
      domain tctmhs i.time )<br />
<br />
 Expl:   Convert time to seconds<br />
 Pre:    -<br />
       Post:   -<br />
       Input:  i.time - time<br />
   Output: -<br />
       Return: seconds<br />
 <br />
function extern domain tcthms tcccp.dll3095.tmhs.to.thms(<br />
        domain tctmhs i.time )<br />
 <br />
function extern domain tcbool tcccp.dll3095.utc.to.local(<br />
        domain tcdate i.utc.date,<br />
       domain tczone i.time.zone.id,<br />
   ref domain tcccp.date o.local.date,<br />
     ref long o.local.time )<br />
<br />
        Expl    : This DLL is used to convert utc date to local format<br />
  Input   : i.utc.date -&gt; Input date in utc<br />
                 i.tzid     -&gt; Input time zone , If its empty the user time<br />
                            zone is used    <br />
        Output  :  o.local.date -&gt; Converted Output date<br />
                  o.local.time  -&gt; Converted output time<br />
<br />
--------------------------------------------------------------------------------<br />
Used DLL's<br />
--------------------------------------------------------------------------------<br />
Used DLL      = otcemmdll1006<br />
Used DLL = ottstp_stddll<br />
<br />
--------------------------------------------------------------------------------<br />
DLL Hints<br />
--------------------------------------------------------------------------------<br />
function __initialize.process      (Hint: Located in DLL: ottstp_stddll)<br />
function date.to.utc               (Hint: Located in DLL: ottstp_stddll)<br />
function date.to.date              (Hint: Located in DLL: ottstp_stddll)<br />
function tcemm.dll1006.get.details.of.time.zone (Hint: Located in DLL: otcemmdll</div></div><hr />


<div class="post"><div class="posttop"><div class="username">suhas-mahajan</div><div class="date">6th October 2004, 07:10</div></div><div class="posttext">Thanks for the response, Sir.<br />
<br />
It seems, out of following functions -<br />
<br />
function extern domain tctmhs tcccp.dll3095.thms.to.tmhs(<br />
        domain tcthms i.time )<br />
<br />
above function may solve my problem. But I think tcccpdll3095 dll is not available in BaaN IV C4.<br />
<br />
Is there any alternate?<br />
<br />
Regards,<br />
<br />
-Suhas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">wiggum</div><div class="date">6th October 2004, 12:51</div></div><div class="posttext">You can convert time from HHMMSS into seconds in one line:<br />
<br />
seconds = time / 10000 * 3600 + time / 100 \ 100 * 60 + time \ 100</div></div><hr />


<div class="post"><div class="posttop"><div class="username">NPRao</div><div class="date">6th October 2004, 21:25</div></div><div class="posttext">Suhas,<br />
<br />
here is the function code -<br />
<br />
function extern domain tctmhs tcccp.dll3095.thms.to.tmhs(domain tcthms i.time)<br />
{<br />
	DllUsage<br />
	Expl:<br />
	Pre:<br />
	Post:<br />
	Input:<br />
	Output:<br />
	Return:<br />
	EndDllUsage<br />
<br />
	domain	tctmhs	converted.time<br />
	<br />
	converted.time = i.time / 100<br />
<br />
	return (converted.time)<br />
}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sdvries</div><div class="date">7th October 2004, 11:09</div></div><div class="posttext">You can convert time from HHMMSS into seconds in one line:<br />
<br />
seconds = time / 10000 * 3600 + time / 100 \ 100 * 60 + time \ 100<br />
<br />
As the maintainer of the tcccp.dll3095 code I cannot leave behind and post also a solution :).<br />
<br />
The tctmhs does not contain seconds, it is in the HHMM format and the conversion from this format to seconds is:<br />
<br />
( ( i.time / 100 ) * 3600 ) + ( ( i.time \ 100 ) * 60 )<br />
<br />
regards,<br />
<br />
Sicco</div></div><hr />


<div class="post"><div class="posttop"><div class="username">suhas-mahajan</div><div class="date">8th October 2004, 07:41</div></div><div class="posttext">Sicco,<br />
<br />
You are right, tctmhs does not contain seconds for that I have choose tctime domain, time being I have delivered the session. But I want to use tctmhs domain so that end users will enter time in HHMM format.<br />
<br />
Also your code couldn't solve my problem. I want to use it in the query.<br />
<br />
Regards,<br />
<br />
-Suhas</div></div><hr />



</div>
</body>
</html>