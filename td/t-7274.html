<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="attr.input = false    not working!, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] attr.input = false    not working! Tools Development" />
	
	<title>attr.input = false    not working! [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; attr.input = false    not working!</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">outra9e</div><div class="date">21st October 2002, 18:52</div></div><div class="posttext">I have used a get.first.free.number() function on my unique key field to generate its input.  I do not want a user to be able to edit this field manually.<br />
<br />
I have used ...<br />
<br />
before.input:<br />
get.first.free.number()<br />
attr.input = false<br />
<br />
The function works fine but the user can still modify the field!!<br />
<br />
I have used the attr.input on another field which has its content generated by a concat statement and the attr.input works fine.<br />
<br />
I have tried making the field a display field on the form but the function then no longer works...<br />
<br />
Any ideas?<br />
<br />
Cheers</div></div><hr />


<div class="post"><div class="posttop"><div class="username">evertsen</div><div class="date">21st October 2002, 19:09</div></div><div class="posttext">when the changing to a display field, did you modify the code to reflect this?<br />
<br />
before.display:<br />
get.first.free.number()</div></div><hr />


<div class="post"><div class="posttop"><div class="username">nick_rogers</div><div class="date">21st October 2002, 19:41</div></div><div class="posttext">what is the choice when you are allowed to edit the field ?<br />
if you are in find mode then the standard program may be over-riding and allowing you to enter a value in the field. Also you have chosed to put the code in the before.input section but this occurs to late to stop the input. I would put it in the before field event, as the before display event would get triggered everytime the field is dislayed (refreshed etc...).  Also you might need some code to stop the function from determining a new number each time the event occurs.....</div></div><hr />


<div class="post"><div class="posttop"><div class="username">baanprog</div><div class="date">21st October 2002, 23:55</div></div><div class="posttext">I would suggest you should debug and see when its not working.Normally it works, and before.field can NOT be used ,it will get trigerred everytime  for every field and your first free number will get a new number.You can make the field display and remove attr.input = false, dont use both there is no meaning.<br />
<br />
Hope this helps</div></div><hr />


<div class="post"><div class="posttop"><div class="username">outra9e</div><div class="date">22nd October 2002, 10:51</div></div><div class="posttext">Guys<br />
<br />
I have tried using the before.display: instead of before.input and then changed the field on the form to display.  This works and the field is greyed out, however it does now perform the function everytime the field is refreshed!!<br />
<br />
Any ideas on how I can acheive this without this side affect?<br />
<br />
As I said before, I have acheived this on a different field, the only differences being that the field is not a unique key and the field is populated by a concat statement as opposed to a function.<br />
<br />
Cheers</div></div><hr />


<div class="post"><div class="posttop"><div class="username">outra9e</div><div class="date">22nd October 2002, 11:03</div></div><div class="posttext">Guys<br />
<br />
I have had almost success...<br />
<br />
Using this ....<br />
<br />
field.tdsls901.bncdr:<br />
before.input:<br />
	get.first.free.number()<br />
		If tdsls901.bncdr &lt;&gt; 0 then<br />
			attr.input = false<br />
		endif<br />
<br />
<br />
I have stopped the data from being modified, however if the user clicks on the field it does still perform the function.  Any ideas on how I can stop this?<br />
<br />
Cheers</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Ilansu</div><div class="date">22nd October 2002, 13:23</div></div><div class="posttext">if you are using a form type 1 (single occ+main) then you can put your function under the add.set section.<br />
<br />
choice.add.set:<br />
before.choice:<br />
       get.first.free.number()<br />
<br />
field.tdsls901.bncdr:<br />
before.input:<br />
       If tdsls901.bncdr &lt;&gt; 0 then<br />
              attr.input = false<br />
       endif<br />
<br />
Ilan S</div></div><hr />


<div class="post"><div class="posttop"><div class="username">outra9e</div><div class="date">22nd October 2002, 13:57</div></div><div class="posttext">Ilan<br />
<br />
Thank you for this.  I have tried it and now the function is not running.<br />
<br />
I have the session so that it starts with a new entry.<br />
<br />
Anything else that I would need to do?<br />
<br />
Cheers</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Ilansu</div><div class="date">22nd October 2002, 14:58</div></div><div class="posttext">Andy  <br />
<br />
if the tdsls901.bncdr is a key field then you can try<br />
declaration:<br />
<br />
long    flag<br />
<br />
field.tdsls901.bncdr:<br />
before.input:<br />
if flag=0 then<br />
     get.first.free.number()<br />
     flag=1<br />
endif<br />
If tdsls901.bncdr &lt;&gt; 0 then<br />
attr.input = false<br />
endif<br />
<br />
main.table.io:<br />
after.write:<br />
       flag=0<br />
<br />
if it is not a key field why not try<br />
field.tdsls901.bncdr:<br />
before.input:<br />
If tdsls901.bncdr = 0 then<br />
        get.first.free.number()<br />
endif<br />
if tdsls901.bncdr&lt;&gt;0 then<br />
        attr.input = false<br />
endif<br />
<br />
Ilan S</div></div><hr />


<div class="post"><div class="posttop"><div class="username">outra9e</div><div class="date">22nd October 2002, 16:00</div></div><div class="posttext">Ilan<br />
<br />
Yes this is good, however, if I now press the insert record button, the first free number function is not working...<br />
<br />
Cheers</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Ilansu</div><div class="date">22nd October 2002, 17:28</div></div><div class="posttext">add this:<br />
<br />
choice.add.set:<br />
before.choice:<br />
       flag=0<br />
<br />
Ilan S</div></div><hr />



</div>
</body>
</html>