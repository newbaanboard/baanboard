<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Why batch number not getting generated??, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Why batch number not getting generated?? Tools Development" />
	
	<title>Why batch number not getting generated?? [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; Why batch number not getting generated??</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">srinivas</div><div class="date">6th March 2002, 06:34</div></div><div class="posttext">I was trying to maintain a transaction in tfgld1101m000 through an STP API call. But the batch number is not getting generated and I am getting error that &quot;Record already existing&quot;. This is how I was trying to insert a record.<br />
<br />
Also I am getting an error &quot; Index 31 out of dims [0] 20 &quot;<br />
<br />
Where I am going wrong?<br />
<br />
Thanks &amp; Regards,<br />
Srinivas<br />
<br />
<br />
**************************************<br />
<br />
<br />
<br />
stpapi.put.field(&quot;tfgld1101m000&quot;, &quot;tedt.f&quot;,  str$(tedt))<br />
	stpapi.put.field(&quot;tfgld1101m000&quot;, &quot;tfgld101.year&quot;, year)<br />
	stpapi.put.field(&quot;tfgld1101m000&quot;, &quot;bref.f&quot;, bref)<br />
	stpapi.put.field(&quot;tfgld1101m000&quot;, &quot;fprd.f&quot;, fprd)<br />
	stpapi.put.field(&quot;tfgld1101m000&quot;, &quot;rprd.f&quot;, rprd)<br />
	stpapi.put.field(&quot;tfgld1101m000&quot;, &quot;vyer.f&quot;, vyer)<br />
	stpapi.put.field(&quot;tfgld1101m000&quot;, &quot;vprd.f&quot;, vprd)<br />
<br />
		<br />
<br />
<br />
<br />
	stpapi.put.field(&quot;tfgld1101m000&quot;, &quot;tfgld101.ttyp&quot;, ttyp)<br />
<br />
	stpapi.handle.subproc( &quot;tfgld1101m000&quot;, &quot;tfgld1506s000&quot;, &quot;add&quot;)<br />
<br />
<br />
	stpapi.insert(&quot;tfgld1101m000&quot;,1,error.msg)<br />
	Message(&quot;Insert error in tfgld101=%s&quot;,error.msg)<br />
<br />
	stpapi.save(&quot;tfgld1101m000&quot;,err)<br />
	Message(&quot;Save error in tfgld101=%s&quot;,err)<br />
<br />
<br />
	stpapi.end.session(&quot;tfgld1506s000&quot;)<br />
	stpapi.end.session(&quot;tfgld1101m000&quot;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">6th March 2002, 13:45</div></div><div class="posttext">On our system it expects you to input the batch number - we are on version 4c3.  Does yours automatically create batch numbers? I would expect to see a stpapi.put.field(&quot;tfgld1101m000&quot;, &quot;tfgld101.btno&quot;, btno)in the script somewhere.<br />
<br />
Typically I do a find and then do the insert based on the find.  So if I found the record I would only put the ttyp field, if I did not then I would insert the whole record.  This eliminates the possiblilty of putting in duplicate batches.<br />
<br />
Good Luck!<br />
<br />
Mark</div></div><hr />


<div class="post"><div class="posttop"><div class="username">srinivas</div><div class="date">6th March 2002, 14:01</div></div><div class="posttext">Yes Mark. In our system the batch number would be automatically generated if I manually insert a record through tfgld1101m000. I tried by supplying the batch number also. I will try to find and the insert a record.<br />
<br />
But why this index out of dims error is coming?? Any clues??<br />
<br />
Thanx,<br />
<br />
Srinivas</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">6th March 2002, 14:53</div></div><div class="posttext">Do not have a clue out the index 31 out of dims error.  I was hoping that the insert was causing the problem.  If the insert started working then maybe the out of dims error would go away.<br />
<br />
<br />
Mark</div></div><hr />



</div>
</body>
</html>