<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Running session in background.., baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Running session in background.. Tools Development" />
	
	<title>Running session in background.. [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; Running session in background..</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">r_nagu</div><div class="date">13th February 2003, 21:24</div></div><div class="posttext">Hi,<br />
	Does any one know, how to run a session in background?<br />
		<br />
	What I want to actually do is, I have a 3 GL script and I want to run this script 24/7. I have an infinate loop in this script so it runs all the time. I dont want to start this session from my desktop because once I close my login the session also ends. I know submitting this in a job will probably work but, I want to know if you guys know any other way.<br />
<br />
Thanks,<br />
Appreciate your help,<br />
<br />
NS</div></div><hr />


<div class="post"><div class="posttop"><div class="username">NPRao</div><div class="date">13th February 2003, 22:02</div></div><div class="posttext">You can refer to the links -<br />
<br />
rc.startjob doesn't work (http://www.baanboard.com/baanboard/showthread.php?s=&amp;threadid=5882&amp;highlight=bshell6.2) <br />
<br />
Run Baan function from script (http://www.baanboard.com/baanboard/showthread.php?s=&amp;threadid=5794&amp;highlight=bshell6.2)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ssbaan</div><div class="date">13th February 2003, 22:43</div></div><div class="posttext">Are you on a Unix box?   because you can start a session from<br />
unix running the process in background by using the ba6.1 command.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">r_nagu</div><div class="date">14th February 2003, 00:07</div></div><div class="posttext">Yes, i am on unix box. do you know what's the command to run the process in background using ba6.1?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">NPRao</div><div class="date">14th February 2003, 00:10</div></div><div class="posttext">You can use the $BSE/bin/bshell[version-code]<br />
<br />
&gt;bshell6.2 -?<br />
Usage: bshell6.2 [options] [program...]<br />
options:<br />
<br />
-vV             : show program version<br />
-r              : show resources<br />
-deftext        : show bshell texts<br />
-ba             : connect with ba display server<br />
-bx             : connect with bx display server<br />
-mdebug         : display bshell messages sent to display server<br />
-dbgams         : debug ams<br />
-dbgdata        : show datainput options (not for fields!)<br />
-dbgobj         : show object information<br />
-dbgref         : show reference paths<br />
-dbgfun         : debug functions<br />
-dbgsrv         : show bdb server type<br />
-dbglck         : show locking errors<br />
-dbgmulact      : show process actions (activate,sleep,kill etc.)<br />
-dbgrefer       : show references<br />
-dbgbdbact      : show bdb actions<br />
-dbgfdev        : debug file access<br />
-dbgfile        : show successfully opened sequential files<br />
-dbgjvmi        : show JavaVM integration actions<br />
-dbgres         : show loaded resources<br />
-dbgenums       : show loading of enums<br />
-dbginstr       : show bshell cpu instructions<br />
-dbgcpu         : use debug version of the cpu<br />
-dbgsrdduse     : show srdd usage<br />
-dbggpvar       : debug get &amp; putvar<br />
-dbgsched       : debug scheduler<br />
-dbgpty         : debug pty's<br />
-dbgmem         : show all memory statistics (see below)<br />
-dbgmemtot      : show total memory usage<br />
-dbgmemblk      : show memory usage per block<br />
-dbgmemfree     : show free memory list<br />
-dbgmemused     : show used memory list<br />
-dbgxml         : assert correctness of strings written to xml tree<br />
-set var=val    : set environment variable 'var' to 'val'<br />
-logfile &lt;file&gt; : log stdout/stderr output in &lt;file&gt;<br />
-keeplog        : don't remove the logfile after ending the bshell<br />
-appendlog      : append to logfile (only useful with -logfile option)<br />
-nolog          : stdout and stderr will go to the controlling terminal<br />
                  (if possible - on remote connection no output will appear)<br />
-delay &lt;sec&gt;    : delay for &lt;sec&gt; seconds before continuing<br />
                  (useful for attaching with a debugger: set breakpoint<br />
                  at the function 'delay_ready')<br />
-logtag &lt;tag&gt;   : used together with -logfile. The &lt;tag&gt; is used in the<br />
                  logfile and is especially useful when logging from<br />
                  multiple bshells<br />
-dsunicode      : communicate with the display driver using Unicode strings<br />
-windownames    : pass unique window names to user interface for testtools<br />
-dbgmesg        : stop in the debugger when a warning message is sent to the<br />
                  display server.<br />
-nodebug        : disable debugger.<br />
-nounicode      : don't read unicode files $BSE/lib/unicode/*.(N2U|U2N).<br />
-server         : run as a server without UI</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tjbyfield</div><div class="date">14th February 2003, 03:33</div></div><div class="posttext">I also, am interested in having a program running continually.<br />
At present we start the program every 5 minutes using cron. This works very weel but we would rather have the job running continually and springing into action whenever new records (oracle db) are available for it to process. <br />
<br />
What mechanism do you use to idle the program ? Do you continually try to read new records or do you make the program sleep for a short period and the retry reading records.<br />
<br />
I have been wooried about the load on the system that an infinite loop could impose.<br />
<br />
I will be very interested in you approach.<br />
<br />
Regards<br />
<br />
Terry</div></div><hr />


<div class="post"><div class="posttop"><div class="username">r_nagu</div><div class="date">14th February 2003, 16:12</div></div><div class="posttext">Terry,<br />
	Heres what I did.<br />
<br />
	The requirement was to run session calculate cost price by project automatically any time changes are made to Custom BOM as we need the correct cost get posted to the project. Right now this is a manual process i.e., users are expected to run calculate cost price by project any time they change the CBOM. But in most of the cases they are not doing this and we getting wrong cost getting posted to the project. <br />
<br />
	So, initial thought was to run this session from Maintain CBOM session when some one makes modifications to it. But the problem with this is that the session calculated cost price takes at least 15 to 20 minutes depending on the size of the project to complete and users will be stuck in this Maintain CBOM session for that time.<br />
<br />
	To work around this, I created a table where I stores the project numbers from Maintain CBOM session any time changes are made to it. Then I wrote a 3 GL script which runs the calculated cost price through AFS in a infinite while loop reading this table. Since I can not add this 3 GL to a job, I created a shell script with this command bshell6.1 -server -set BSE_COMPNR=100 -set PACKAGE_COMB=B40Ocpro otipcsn900  (thanks to NPRao) that runs this 3 GL in background and ran this script using at Unix command. <br />
<br />
	Right now I am testing this process and so far it seems like is working fine. <br />
<br />
Thanks,<br />
NS</div></div><hr />


<div class="post"><div class="posttop"><div class="username">r_nagu</div><div class="date">14th February 2003, 20:52</div></div><div class="posttext">With the command bshell6.1 is there any other way to start a session in back ground with out using server option? the problem is, we have two servers one for development and another one for production. Both the servers are on two different porting sets. The bshell6.1 command has the option server in our development server but unfortunately it does not have it on our production server. So, when I moved all the work to the production server, it failed. <br />
<br />
	Any suggestions?<br />
<br />
Thanks,<br />
NS</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tjbyfield</div><div class="date">15th February 2003, 02:24</div></div><div class="posttext">hi r_nagu<br />
<br />
We use ba6.1 to start session from cron every 5 minutes, rather than directly execute 3gl object:<br />
eg:  ${BSE}/bin/ba6.1 -- tisfc9210m000 &gt;&gt;$LF <br />
<br />
Terry</div></div><hr />



</div>
</body>
</html>