<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Remove Application Locks, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Remove Application Locks Tools Development" />
	
	<title>Remove Application Locks [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; Remove Application Locks</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">david7</div><div class="date">22nd May 2012, 13:41</div></div><div class="posttext">Hi,<br />
<br />
I have a program that in some case it will kick the user out. That is a mandatory requiremnt from my boss.<br />
<br />
I was able to kick a user by killing all the processes. The problem is, that in this way, there are a lot of application locks, as a result. And I need to remove these locks. <br />
<br />
I have tried the appl.delete function, but I will have to give it specific details like the table code and record to use it. for example, a lock on a PO I will have to give it tdpur040 &amp; 32532 (PO number), but I do not have this information! All I have is the session PID and prgoram name (tdpur0401m000 for example). I have looked at all the following functions and there are not useful for my case:<br />
http://www.baanboard.com/programmers_manual_baanerp_help_functions_appl_application_locks_synopsis<br />
<br />
Is there anyway that I can remove ALL the locks that the current user has?<br />
<br />
- D7</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Eddie Monster</div><div class="date">22nd May 2012, 14:53</div></div><div class="posttext">Could you use session ttstpdelrlock?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">david7</div><div class="date">22nd May 2012, 15:17</div></div><div class="posttext">Thanks Eddie,<br />
<br />
I need a way to activate this session from within my code. I am not sure if AFS works with company 000, or if the user has permission to use it<br />
<br />
Any other suggestions?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Eddie Monster</div><div class="date">22nd May 2012, 15:47</div></div><div class="posttext">Not sure if AFS works in company 000 either.  I would see if you can invoke company 000 sessions from AFS (or perhaps another BaanBoarder can answer this) first since you will be using natural Baan functionality to remove the lock.<br />
<br />
If you can't... perhaps...<br />
<br />
Once you determine the user and session ID you could use dynamic SQL to delete the record from the table.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">22nd May 2012, 16:19</div></div><div class="posttext">Yes - it is possible to use AFS code for company 000 sessions.  You just need to be familiar with how to use AFS. Soemtimes figuring out fields can be tough.  In this case just glancing at ttstpdelrlock it looks like you could put the company number, the user.f and user.t and do a continue.  I have never really used that session, but it might be pretty simple.  Or you can just run a query against ttadv997 and 998 in company 000 - not really sure of the header table.  You can check out those tables.</div></div><hr />



</div>
</body>
</html>