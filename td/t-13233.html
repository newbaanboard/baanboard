<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="How to get variable from Unix to Baan, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] How to get variable from Unix to Baan Tools Development" />
	
	<title>How to get variable from Unix to Baan [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; How to get variable from Unix to Baan</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">nelson ostos</div><div class="date">8th October 2003, 01:23</div></div><div class="posttext">Hi<br />
<br />
I need help about how to get variable from Unix ...<br />
<br />
For example see the next lines  :<br />
<br />
<br />
++++++++++++++++++++++++++++++++++++++++++++++<br />
string name(15)<br />
string command(80)<br />
<br />
command =&quot;funix =`grep -l &quot; &amp; fbaan &amp; &quot; &quot; &amp; &quot; * | pg | awk '{print $1}' ` &quot;<br />
e=shell(command,0) <br />
if e &lt;&gt; 0 then name=getenv$(&quot;$funix&quot;) <br />
endif<br />
<br />
++++++++++++++++++++++++++++++++++++++++++++++<br />
<br />
The variable fbaan is one variable in my Baan script and pass to <br />
Unix ... and i want to get the variable funix after execute the grep command in Unix.<br />
<br />
When i test the variable name is empty after shell command...<br />
<br />
Any idea ???<br />
<br />
<br />
Thanks <br />
<br />
<br />
:rolleyes:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">NPRao</div><div class="date">8th October 2003, 01:51</div></div><div class="posttext">Nelson,<br />
<br />
You have to redirect the results of the 1st command/shell script into a file and then read the file to get the information.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">zardoz</div><div class="date">8th October 2003, 10:24</div></div><div class="posttext">Suppress blanks between the assignment command:<br />
<br />
command =&quot;funix=`grep -l &quot; &amp; fbaan &amp; &quot; &quot; &amp; &quot; * | pg | awk '{print $1}' ` &quot;<br />
<br />
if this doesn't works, maybe you have to export the variable, like:<br />
<br />
command =&quot;funix=`grep -l &quot; &amp; fbaan &amp; &quot; &quot; &amp; &quot; * | pg | awk '{print $1}' `;export funix&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">nelson ostos</div><div class="date">9th October 2003, 15:54</div></div><div class="posttext">Hi<br />
<br />
I do any changes on the command and look that now:<br />
<br />
command = &quot;nfile=`grep -l  &amp; nbaan &amp; &quot; &quot; &amp;   pathf &amp; &quot;/*&quot; `;echo $nfile &gt; baanfile ;echo $nfile&quot; <br />
<br />
e=shell(command,0)<br />
if e = 0 then <br />
           name.f=getenv$(nfile)<br />
endif<br />
<br />
When the command shell executes, I see the variable $nfile with the echo .... and  when i see the baanfile I  see the information that I  need ,   but the getenv$ not return nothing ... the variable   name.f   is empty<br />
<br />
Any idea ????:confused:</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">9th October 2003, 16:17</div></div><div class="posttext">Your environment variable is only good for that shell.  So when the shell command window closes it goes away.  If you write the output to a file then you can use the seq type commands to read the file in.  I played with this once before and the only way I could get the environment variables to hang around was to set them at logon time(.cshrc,.login or .profile - depending on the shell).  Not sure if that would work for you.<br />
<br />
Mark</div></div><hr />


<div class="post"><div class="posttop"><div class="username">nelson ostos</div><div class="date">10th October 2003, 17:02</div></div><div class="posttext">Thanks for the collaboration... <br />
<br />
The handling of the file seq, seems to me very complicated....<br />
<br />
I need something fast to solve the problem....<br />
<br />
<br />
Bye<br />
<br />
<br />
<br />
<br />
:mad:</div></div><hr />



</div>
</body>
</html>