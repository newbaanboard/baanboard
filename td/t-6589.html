<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Difference between two dates, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Difference between two dates Tools Development" />
	
	<title>Difference between two dates [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; Difference between two dates</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">DavidCB</div><div class="date">6th September 2002, 13:51</div></div><div class="posttext">How can I know the difference between two dates?<br />
Isn't there any functions that allows me to solve the problem?<br />
<br />
<br />
Thanks in advance<br />
<br />
<br />
<br />
DavidCB</div></div><hr />


<div class="post"><div class="posttop"><div class="username">g√ºnther</div><div class="date">6th September 2002, 14:18</div></div><div class="posttext">Dates (domain tcdate, domain tidate) have values of type long. You can just calculate the difference as with any other numbers, e.g.<br />
<br />
<br />
domain tcdate today, yesterday, tomorrow<br />
<br />
today = date.num()<br />
yesterday = today - 1<br />
tomorrow = today + 1<br />
<br />
message(&quot;today is %D002, yesterday was %D002, tomorrow will be %D002&quot;, today, yesterday, tomorrow)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">FransG</div><div class="date">6th September 2002, 16:24</div></div><div class="posttext">Note that in BaanERP domain tcdate is not a DATE type but a UTC type.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Kees de Jong</div><div class="date">6th September 2002, 16:39</div></div><div class="posttext">Don't forget to search the BaanERP Programmers' Manual (http://www.baanboard.com/baanboard/bblibrary.php?s=&amp;action=show_library) for this kind of information.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DavidCB</div><div class="date">6th September 2002, 16:42</div></div><div class="posttext">Thank you very much for your quick response.<br />
In fact the dates ar UTC, therefore I couldn't get the difference.<br />
<br />
<br />
DavidCB</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lbencic</div><div class="date">6th September 2002, 17:30</div></div><div class="posttext">The UTC dates are good and bad.  Math with dates is much harder.  <br />
Try the function<br />
<br />
<br />
utc.to.local(long utc, ref long local_days, ref long local_time)<br />
<br />
<br />
Then, local_days is stored as a long number, which you can do math on.   Put it back using the <br />
<br />
<br />
local.to.utc(long local_days, long local_time, ref long utc)<br />
<br />
<br />
Good luck</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DavidCB</div><div class="date">6th September 2002, 17:59</div></div><div class="posttext">Really, what I want is to obtain the difference in days of these two fields: whinh430.cdat - tdsls401.ddta.<br />
The operation made directly comes out erroneous (it's a date from 1970)<br />
I don't know the way to remove these two fields to apply the functions that you explain to me.<br />
<br />
Greetings<br />
<br />
DavidCB</div></div><hr />


<div class="post"><div class="posttop"><div class="username">lbencic</div><div class="date">6th September 2002, 18:11</div></div><div class="posttext">It returns the number of days since I'm not sure which date.  The number it returns is not a number that makes sense as a date.  You can use it to see differences in days as follows:<br />
<br />
<br />
<br />
long     lng.cdat, lng.ddta, lng.ctim, lng.dtim, days.diff<br />
<br />
utc.to.local(whinh430.cdat, lng.cdat, lng.ctim)<br />
utc.to.local(tdsls401.ddta, lng.ddta, lng.dtim)<br />
<br />
days.diff = lng.cdat - lng.ddta<br />
<br />
<br />
<br />
Hope that helps</div></div><hr />


<div class="post"><div class="posttop"><div class="username">DavidCB</div><div class="date">6th September 2002, 18:29</div></div><div class="posttext">Thank you very much lbencic, your code has help me a lot, it has worked perfectly</div></div><hr />


<div class="post"><div class="posttop"><div class="username">fmchong</div><div class="date">21st December 2009, 09:14</div></div><div class="posttext">Dear All,<br />
Thank you very much. Problem resolved.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">pegaga1979</div><div class="date">26th November 2014, 06:51</div></div><div class="posttext">It returns the number of days since I'm not sure which date.  The number it returns is not a number that makes sense as a date.  You can use it to see differences in days as follows:<br />
<br />
<br />
<br />
long     lng.cdat, lng.ddta, lng.ctim, lng.dtim, days.diff<br />
<br />
utc.to.local(whinh430.cdat, lng.cdat, lng.ctim)<br />
utc.to.local(tdsls401.ddta, lng.ddta, lng.dtim)<br />
<br />
days.diff = lng.cdat - lng.ddta<br />
<br />
<br />
<br />
Hope that helps<br />
<br />
Hi, may i know in report layout, the field should in what domain?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bhushanchanda</div><div class="date">26th November 2014, 09:16</div></div><div class="posttext">Hi,<br />
<br />
Try tcmcs.long</div></div><hr />



</div>
</body>
</html>