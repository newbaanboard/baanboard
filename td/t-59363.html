<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="search for numeric expression in a string, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] search for numeric expression in a string Tools Development" />
	
	<title>search for numeric expression in a string [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; search for numeric expression in a string</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">Rainer</div><div class="date">13th October 2010, 11:43</div></div><div class="posttext">Hi<br />
<br />
<br />
Is it possible to find in a string a numeric value? Is there any specific 4GL function? :rolleyes:<br />
<br />
I want to search a housenumber in a string. Therefore I need to know on which position in a string the numeric expression starts.<br />
<br />
<br />
Expl:<br />
<br />
Source:	<br />
<br />
tccom010.nama = Street 10a<br />
<br />
Target: <br />
<br />
Strasse = Street<br />
Hausnummer = 10a<br />
<br />
<br />
I need to search for 0123456789. Similar to &quot;pos&quot;. <br />
<br />
Thanks for any input! :)<br />
Regards, Rainer</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">13th October 2010, 16:25</div></div><div class="posttext">Not that I am aware of, but it should be easy to just write a simple little function.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">~Vamsi</div><div class="date">13th October 2010, 19:20</div></div><div class="posttext">Baan provides for regular expressions (its own flavor).<br />
<br />
See expr.compile for details. BaanXL uses this function (See Code &amp; Utilities forum).</div></div><hr />


<div class="post"><div class="posttop"><div class="username">loveubaan</div><div class="date">15th October 2010, 08:44</div></div><div class="posttext">use following example :<br />
string t.str(20),t.ouput.str(20)<br />
long t.len, i, t.start<br />
<br />
t.str = &quot;abcd234 hghk&quot;<br />
/* output required = &quot;234 hbhk&quot;<br />
<br />
t.len = len(t.str )<br />
for i = 1 to t.len<br />
 if val(t.str(i,1)) &lt;&gt; 0 then<br />
      t.start = i<br />
      break<br />
else<br />
     if t.str(i,1) = &quot;0&quot; then<br />
           t.start = i<br />
           break<br />
     endif<br />
endif<br />
<br />
endfor<br />
<br />
t.ouput.str = t.str(t.start,t.len-t.start+1)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bdittmar</div><div class="date">15th October 2010, 12:10</div></div><div class="posttext">use following example :<br />
string t.str(20),t.ouput.str(20)<br />
long t.len, i, t.start<br />
<br />
t.str = &quot;abcd234 hghk&quot;<br />
/* output required = &quot;234 hbhk&quot;<br />
<br />
t.len = len(t.str )<br />
for i = 1 to t.len<br />
 if val(t.str(i,1)) &lt;&gt; 0 then<br />
      t.start = i<br />
      break<br />
else<br />
     if t.str(i,1) = &quot;0&quot; then<br />
           t.start = i<br />
           break<br />
     endif<br />
endif<br />
<br />
endfor<br />
<br />
t.ouput.str = t.str(t.start,t.len-t.start+1)<br />
<br />
Hello,<br />
whats about this Adresscode:<br />
(It's an existing Adresscode in Berlin (Germany)!)<br />
<br />
Straße des 17. Juni 10a<br />
<br />
Conclusion: Never 100 % can be reached !<br />
<br />
Regards</div></div><hr />


<div class="post"><div class="posttop"><div class="username">croezen</div><div class="date">29th December 2010, 17:51</div></div><div class="posttext">maybe you could start at the end of the string and find the first space?<br />
is the case of &quot;Straße des 17. Juni 10a&quot; you could get &quot;10a&quot;<br />
<br />
then again, if you have records with &quot;10 a&quot; this won't work.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Hitesh Shah</div><div class="date">3rd January 2011, 19:03</div></div><div class="posttext">U can get the numeric value position in a string by following code;<br />
<br />
       long       eid, longret, length_res, pos_res<br />
	|assume tccom010.nama has value &quot;Street 10a&quot;<br />
          string     tmp(4)<br />
          eid    = expr.compile( &quot;tccom010.nama IN &quot;&quot;[0-9]&quot;&quot;&quot; )<br />
          longret        = l.expr( eid )<br />
          store.long( longret, tmp )<br />
          length_res = load.short( tmp(1;2) ) | length_res contains length of searched field 1<br />
          pos_res    = load.short( tmp(3;2) ) | pos_res contains 8<br />
<br />
<br />
But not sure how it helps in ur end goal . U need to check it better for all known conditions.</div></div><hr />



</div>
</body>
</html>