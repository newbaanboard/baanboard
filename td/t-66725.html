<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Get contract discount in free serviceorder, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Get contract discount in free serviceorder Tools Development" />
	
	<title>Get contract discount in free serviceorder [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; Get contract discount in free serviceorder</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">roylansink</div><div class="date">12th August 2014, 15:47</div></div><div class="posttext">Hai All, <br />
I'm trying to get the discount of a service contract in a serviceorder wich has the status &quot;Free&quot;. <br />
<br />
For this I use the function: tsmdm.dll0045.read.pricing.and.discount.data()<br />
In the input variables it needs i.contract.change, i.configuration.line, i.coverage.time and i.coverage.type. All values to determin the contract discount. So I would expect it to output the contract discount, but it does'nt :mad:<br />
<br />
Below the function call I make. What am I doing wrong? <br />
<br />
<br />
	tsmdm.dll0045.read.pricing.and.discount.data(		<br />
						tssoc220.item,		|domain tcitem i.item,<br />
						tssoc200.ofbp,		|domain tccom.bpid i.ofbp,		<br />
						tssoc200.stbp,	 	|domain tccom.bpid i.stbp,<br />
						tssoc200.itbp,	 	|domain tccom.bpid i.itbp,<br />
						tssoc200.cwoc,	 	|domain tccwoc i.cwoc,<br />
						tssoc200.fdpt,	 	|domain tccwoc i.fdpt,<br />
						tssoc200.cplt,	 	|domain tccplt i.cplt,<br />
						tssoc220.adqt,	 	|domain tsmdm.qmat i.quan,<br />
						tssoc220.cuqs,	 	|domain tccuni i.cuqs,<br />
						tssoc220.cvqs,	 	|domain tcconv i.cvqs,<br />
						tssoc200.ccur,	 	|domain tcccur i.ccur,<br />
						tssoc200.rtdt,	 	|domain tcdate i.rate.date,<br />
						tssoc200.rats,	 	|const domain tcratc i.header.ratc(),<br />
						tssoc200.ratf,	 	|const domain tcratf i.header.ratf(),<br />
						tssoc200.rtyp,	 	|domain tcrtyp i.header.rate.type,<br />
		   				tssoc220.pdtm,	 	|domain tcdate i.dldt,<br />
						tssoc200.ordt,	 	|domain tcdate i.ordt,<br />
						tsmdm.cotp.material,    |domain tsmdm.cotp i.cost.type,			 <br />
						tssoc210.csco,	        |domain tcorno i.contract,<br />
						act.cchn,		|domain tsctm.cchn i.contract.change,		 <br />
						act.cfln,		|domain tsmdm.seqn i.configuration.line,	 <br />
						tssoc210.cvtm,	        |domain tsmdm.trdt i.coverage.time,<br />
						tssoc210.cctp,	        |domain tsmdm.cctp i.coverage.type,<br />
						&quot;&quot;,		        |domain tccom.bpid i.subcontractor,<br />
						&quot;&quot;,		        |domain tsmdm.ctsk i.task,			 <br />
						&quot;&quot;,		        |domain tcckow i.labor.type,			 <br />
						tssoc200.csar,	        |domain tsmdm.csar i.service.area,<br />
						tssoc220.ccmp,	        |domain tccpcp i.cost.comp,<br />
						line.pric,	 	|ref domain tcpric o.pric,<br />
						line.porg,	        |ref domain tstdm.porg o.porg,<br />
						line.ldam,	 	|ref domain tcdisc o.disc,<br />
						arr.line.dper,	 	|ref domain tcdisc o.dper(),<br />
						arr.line.damt,	 	|ref domain tcamnt o.damt(),<br />
						arr.line.dsc.cod,	|ref domain tccdsc o.dsc.cod() fixed,<br />
						arr.line.dsc.mth,	|ref domain tddmth o.dsc.mth(),<br />
						arr.line.dsc.type,	|ref domain tdpcg.maty o.dsc.type(),<br />
						arr.line.dsc.def,	|ref domain tdpcg.made o.dsc.def() fixed,<br />
						arr.line.dsc.seq,	|ref domain tdpcg.prse o.dsc.seq(),<br />
						arr.line.dorg,	 	|ref domain tdgen.dorg o.dorg(),<br />
						o.prun,	 		|ref domain tccuni o.prun,<br />
						o.cvun,	 		|ref domain tcconv o.cvun,<br />
						o.mess)			|ref domain tcmcs.s132m o.mess mb<br />
<br />
<br />
<br />
 <br />
<br />
 ,</div></div><hr />


<div class="post"><div class="posttop"><div class="username">roylansink</div><div class="date">12th August 2014, 15:48</div></div><div class="posttext">Version is ERP LN 10.2.1</div></div><hr />


<div class="post"><div class="posttop"><div class="username">benito</div><div class="date">13th August 2014, 16:43</div></div><div class="posttext">it's nice to have a dll but sometimes due to limited documentation you don't get the expected results. you can try by hardcoding values. if dlls don't work for you there are a few more tools you can use, ie afs, dal. in this case since you just want to read the discount you can just write a simple function to read the tables.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">roylansink</div><div class="date">19th August 2014, 08:58</div></div><div class="posttext">Benito,<br />
<br />
Thank you for your reply. Getting a correct contract discount is a complex operation. I hoped the DLL would take care of that. <br />
<br />
Now that it does'nt work, I used your advice and wrote a more simple function. <br />
It does not have al the functionality of the DLL but it does the trick.</div></div><hr />



</div>
</body>
</html>