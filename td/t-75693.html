<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Calculating Current Day from Beginning of the year, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Calculating Current Day from Beginning of the year Tools Development" />
	
	<title>Calculating Current Day from Beginning of the year [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; Calculating Current Day from Beginning of the year</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">eric.dizon</div><div class="date">10th March 2023, 23:13</div></div><div class="posttext">https://www.epochconverter.com/daynumbers<br />
<br />
Anybody has a function like this in Baan to return the value of the number of days  from the beginning of the year e.g.<br />
<br />
2023/01/10 = 10<br />
2023/03/10 = 69</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bdittmar</div><div class="date">11th March 2023, 09:13</div></div><div class="posttext">Hello,<br />
use<br />
<br />
Syntax:<br />
function string sprintf$  (string format [, void ...])<br />
<br />
Description<br />
<br />
This formats a string and returns the formatted string. The format argument contains zero or more ordinary characters and substitution symbols. <br />
The ordinary characters are copied directly to the output string. <br />
The substitution symbols specify formats for the values specified in the expression arguments and are substituted by these formatted values. <br />
<br />
The substitution symbols are used in the sequence in which they are specified. The first substitution symbol is used for the first expression argument. <br />
The second substitution symbol is used for the second expression argument, and so on. <br />
<br />
In addition to a range of numeric type expressions, the function supports dates, amounts, single-byte strings, multibyte strings, bidirectional strings, <br />
and combined normal and bidirectional strings. input strings that contain bidirectional strings must be specified in logic order. <br />
The result is also returned in logic order. <br />
<br />
Arguments<br />
string format contains zero or more ordinary characters and substitution symbols<br />
 <br />
[void ...]  One or more expressions to be replaced in the format<br />
<br />
Implicit conversion of the input value is performed from its original type <br />
to the type expected according to the corresponding substitution symbol. <br />
 <br />
Return values<br />
The formatted string. If you specify an invalid format, sprintf$() returns a percentage character [%]. <br />
<br />
Context<br />
This function is implemented in the porting set and can be used in all script types. <br />
<br />
%D xxx [ ,lang]  Use for dates.<br />
<br />
xxx is the code for a date format defined in the data dictionary. lang indicates the language code to use. <br />
If this is omitted, the current user language is used. <br />
<br />
The expression that is substituted for this symbol must specify a number of days since 01-01-0001. <br />
<br />
Any date before 01-01-0001 (i.e. any integer value ≤ 0) will be interpreted as invalid and will print as an empty string<br />
<br />
Any date past 31-12-9999 will be interpreted as 31-12-9999.<br />
<br />
Note that it isn't possible to use a comma direct after a %D xxx substitution symbol other than for selecting a language. <br />
As a workaround select a space as the language code, this will substitute the users default language and close <br />
the type element. Now it is possible to use the comma that should be included in your string. <br />
See the example in the example section. <br />
 <br />
%D( format)  Use for dates.<br />
<br />
This option enables you to define your own date format by using the following subformats of the ‘%D’ format:<br />
<br />
%m month in year 1 - 12 <br />
%w week in year week 0 in previous year week 53 in current year <br />
%W week in year week 53 in previous year <br />
%d day in month 1 - 31 <br />
%e day in week 1 - 7 <br />
%j day in year 1 - 365 <br />
%y year without century 01 - 99 <br />
%Y year with century 1 - 9999 <br />
%h name of month (‘Jan’ - ‘Dec’)<br />
<br />
(abbreviated)<br />
 <br />
%H name of month (‘January’ - ‘December’) <br />
%a name of day (‘Sun’ - ‘Sat’)<br />
<br />
(abbreviated)<br />
 <br />
%A name of day (‘Sunday’ - ‘Saturday’) <br />
 <br />
You can combine these subformats with other formats. <br />
Note that strings returned by name of month and day formats are language dependent. <br />
<br />
The expression that is substituted for this symbol must specify a number of days since 01-01-0001. <br />
<br />
Any date before 01-01-0001 (i.e. any integer value ≤ 0) will be interpreted as invalid and will print as an empty string<br />
<br />
Any date past 31-12-9999 will be interpreted as 31-12-9999.<br />
 <br />
%u xxx [ ,lang]  Use for UTC dates. xxx is the code for a UTC date format defined in the data dictionary. lang <br />
indicates the language code to use. If this is omitted, the current user language is used. <br />
The expression that is substituted for this symbol must specify a UTC long format value <br />
of which only the local date will be used. <br />
<br />
Any time before January 1, 1970, 00:00:00 UTC (i.e. any integer value &lt; 0) will be interpreted as invalid and will print as an empty string <br />
<br />
Valid integer value 0 (corresponding to January 1, 1970, 00:00:00 UTC) will print as an empty string. <br />
<br />
Any local date past 31-12-9999 will be interpreted as 31-12-9999.<br />
<br />
Note that it isn't possible to use a comma direct after a %u xxx substitution symbol other than for selecting a language. <br />
As a workaround select a space as the language code, this will substitute the users default language and close the type element. <br />
Now it is possible to use the comma that should be included in your string. See the example in the example section. <br />
 <br />
%U xxx [ ,lang]  Use for UTC times. xxx is the code for a UTC time format defined in the data dictionary. lang indicates the language code to use. <br />
If this is omitted, the current user language is used. <br />
The expression that is substituted for this symbol must specify a UTC long format value of which only the local time will be used. <br />
<br />
Any time before January 1, 1970, 00:00:00 UTC (i.e. any integer value &lt; 0) will be interpreted as invalid and will print as an empty string <br />
<br />
Valid integer value 0 (corresponding to January 1, 1970, 00:00:00 UTC) will print as an empty string. <br />
<br />
Note that it isn't possible to use a comma direct after a %U xxx substitution symbol other than for selecting a language. <br />
As a workaround select a space as the language code, this will substitute the users default language and close the type element. <br />
Now it is possible to use the comma that should be included in your string. See the example in the example section. <br />
 <br />
%u( format)  Use for UTC dates.<br />
<br />
This option enables you to define your own date format by using the subformats described for the ‘ %D( format)’ symbol. <br />
You can combine these subformats with other formats. <br />
<br />
Note that strings returned by name of month and day formats are language dependent. <br />
<br />
The expression that is substituted for this symbol must specify a UTC long format value of which only the local date will be used. <br />
<br />
Any time before January 1, 1970, 00:00:00 UTC (i.e. any integer value &lt; 0) will be interpreted as invalid and will print as an empty string <br />
<br />
Valid integer value 0 (corresponding to January 1, 1970, 00:00:00 UTC) will print as an empty string. <br />
<br />
Any local date past 31-12-9999 will be interpreted as 31-12-9999.<br />
 <br />
%U( format)  Use for UTC times.<br />
<br />
This option enables you to define your own time using the following subformats of the ‘%U’ format.<br />
<br />
%H hours in 24 hour format <br />
%h hours in 12 hour format <br />
%m minutes <br />
%s seconds <br />
%a substitutes the am/pm symbol as defined for the user language  <br />
%x time separator as specified for the user language <br />
 <br />
You can combine these subformats with other formats. <br />
<br />
The expression that is substituted for this symbol must specify a UTC long format value of which only the local time will be used. <br />
<br />
Any time before January 1, 1970, 00:00:00 UTC (i.e. any integer value &lt; 0) will be interpreted as invalid and will print as an empty string <br />
<br />
Valid integer value 0 (corresponding to January 1, 1970, 00:00:00 UTC) will print as an empty string. <br />
 <br />
<br />
<br />
Example:<br />
Dates<br />
| Suppose date format 002 is: &quot;year/month/day in month&quot;<br />
string result(80)<br />
&gt;result = sprintf$(&quot;%D002&quot;, 727168)<br />
    | result contains &quot;1991/12/2&quot;<br />
	| Example of substitution symbol %D(format)<br />
string result(80)<br />
result = sprintf$(&quot;%D(Date: %02d/%02m/%04Y)&quot;, date.num())<br />
    | result contains &quot;Date: 12/07/1993&quot;<br />
result = sprintf$(&quot;Date: %D(%02d %-20H %04Y)&quot;, date.num())<br />
    | result contains &quot;Date: 12 June 1993&quot;<br />
	UTC dates and times<br />
| Date format 002 is &quot;year/month/day in month&quot;<br />
| Time format 001 is &quot;12 hour format:minutes:seconds AM/PM symbol&quot;<br />
string result(80)<br />
result = sprintf$(&quot; %001&quot;, utc.num(), utc.num())<br />
    | Result contains &quot;1997/01/01 10:02:53 pm&quot;<br />
	string result(80)<br />
result = sprintf$(&quot;UTC: %u(%02d/%02m/%04Y) %U(%02h%x%02m%x%02s %a)&quot;, utc.num(), utc.num())<br />
    | result contains &quot;UTC: 22/07/1997 06:24:53 am&quot;<br />
    | provided that for the user's language the time<br />
    | separator is &quot;:&quot; and the AM symbol is &quot;am&quot;<br />
	| Using a comma after a %u substitution symbol		<br />
string result(80)		<br />
result = sprintf$(&quot;, ,Message text....&quot;, utc.num())			<br />
    | result containts &quot;06-05-15,Message text....&quot;<br />
<br />
Regards</div></div><hr />


<div class="post"><div class="posttop"><div class="username">vahdani</div><div class="date">11th March 2023, 15:15</div></div><div class="posttext">you can use the standard function date.to.num() (http://www.baanboard.com/programmers_manual_baanerp_help_functions_date_time_zones_date_to_num) to find the number of days since 01-01-0001 for the &quot;start of the year&quot; and &quot;the other date&quot; and then substract these to get the number of days since the beginning of the year!<br />
<br />
Here my suggestion for a function to do this:<br />
<br />
<br />
function long	days.in.year.for.date(	long	i.year,<br />
					long	i.month,<br />
					long	i.day)<br />
{<br />
	long	l.start.of.year.days<br />
	long	l.this.date.days<br />
	long	l.days.in.year.for.date<br />
	<br />
	l.start.of.year.total.days = date.to.num  (i.year, 1, 1)<br />
	<br />
	l.this.date.total.days = date.to.num  (i.year, i.month, i.day)<br />
<br />
	l.days.in.year.for.date = l.this.date.days - l.start.of.year.days + 1<br />
	<br />
	return( l.days.in.year.for.date )<br />
<br />
}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">OmeLuuk</div><div class="date">13th March 2023, 16:22</div></div><div class="posttext">Hello,<br />
use<br />
<br />
Syntax:<br />
function string sprintf$  (string format [, void ...])<br />
...<br />
%D( format)  Use for dates.<br />
...<br />
This option enables you to define your own date format by using the following subformats of the ‘%D’ format:<br />
%j day in year 1 - 365 <br />
...<br />
<br />
<br />
Example:<br />
result = sprintf$(&quot;%D(Date: %02d/%02m/%04Y)&quot;, date.num())<br />
    | result contains &quot;Date: 12/07/1993&quot;<br />
<br />
Regards<br />
Would result in result = &quot;This year already counts &quot; &amp; sprintf$(&quot;%D(%j)&quot;,date.num()) &amp; &quot; days.&quot;</div></div><hr />



</div>
</body>
</html>