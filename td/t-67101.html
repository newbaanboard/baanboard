<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Print only desired value in detail 1 and 2, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Print only desired value in detail 1 and 2 Tools Development" />
	
	<title>Print only desired value in detail 1 and 2 [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; Print only desired value in detail 1 and 2</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">ainulm</div><div class="date">20th November 2014, 08:42</div></div><div class="posttext">Hi guys,<br />
<br />
I have some problem in output expression.<br />
In detail 1 has the value for Document Date. tfacr200.docd<br />
In detail 2 has the value for Last Update Date. tfgld108.date<br />
<br />
What should i put in output expression when user choose Last Update Date selection and only detail 2 will be print out and same goes to detail 1 for document date. <br />
<br />
Thank you</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">20th November 2014, 17:21</div></div><div class="posttext">I think we are going to need more information.  Are you saying in the session script you set those variables and call the report?  If so you can just check to make sure the dates are not empty in the output expression.  What I have done in the past is use something like k.of.date in the session script before I do a report send.  So I might set 1 and send tfacr200 record and then set it to 2 when I send the tfgld108 record.  This only an example - never really done it with these tables.<br />
<br />
Not really sure if that helps.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ainulm</div><div class="date">21st November 2014, 02:49</div></div><div class="posttext">Hai Mark,<br />
<br />
Thank your for your reply. <br />
Im still new in creating report script. <br />
The value tfacr200.docd and tfgld018.date was set on layout editor.<br />
When the user make a selection on Last Update Date, i only want the detail.2 to be display. How can i make a code for this problem? <br />
<br />
Can refer for my screenshot for more detail.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sachinbaan</div><div class="date">21st November 2014, 06:04</div></div><div class="posttext">Hi,<br />
<br />
what u can do is, take one Boolean as extern in  program script, use this as input field in report, now u can set this value by checking last update date, if date is filled by user set this value to true and in output expr u can write value = true , so respective detail layout will print only when this value is true...<br />
<br />
I hope this is what you want...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ainulm</div><div class="date">21st November 2014, 06:28</div></div><div class="posttext">Hi Sachin,<br />
<br />
Thanks for your reply.<br />
Sorry i cannot access on program script. since i dont have the developer license. <br />
is there any idea i can run on report script?<br />
<br />
i got do this on detail.2<br />
<br />
detail.2:<br />
before.layout:<br />
if isspace(tfacr200.docd) then<br />
   lattr.print = true<br />
else<br />
   lattr.print=false<br />
endif<br />
<br />
but the value didnt come out. it just showing the total without the details. please help</div></div><hr />


<div class="post"><div class="posttop"><div class="username">sachinbaan</div><div class="date">21st November 2014, 09:10</div></div><div class="posttext">hi,<br />
<br />
this will skip the layout 2 , and you don't want to hide the layout, you want both layout but if tfacr200.dcod = 0 then other date's value should populate in both date, is it so?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bhushanchanda</div><div class="date">21st November 2014, 10:26</div></div><div class="posttext">Hi,<br />
<br />
I will advice to use some other field on the layout as there is no logic to identify which date range has the user selected i.e. you cannot identify if both are given as full range.<br />
<br />
Check what you have in other fields like receipt document number, invoice no etc. Based on that you can skip one of the layout while print the other one.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ainulm</div><div class="date">21st November 2014, 11:31</div></div><div class="posttext">Hi Mark and Bushan,<br />
<br />
User claim that they need a new report. I tried to make a new one based on their requirement. They want to add 'Last Date Update' which is tfgld018.date. I tried to make the below code. But the amount is duplicate. Can somebody help me on this matter? This is urgent help. <br />
<br />
select <br />
       tfacr200.itbp,         | Business Partner<br />
       tfacr200.tdoc,         | Transaction Type<br />
       tfacr200.docn,         | Document Number<br />
       tfacr200.ttyp,         | Transaction Type<br />
       tfacr200.ninv,         | Document<br />
       tfacr200.schn,         | Schedule Number<br />
       tfacr200.bppn,         | BP Payment Number<br />
       tfacr200.docd,         | Document Date<br />
       tfacr200.ccur,         | Currency/Rate<br />
       tfacr200.amti,         | Amount in Invoice Currency<br />
       tfacr200.amth(1),      | Amount in Home Currency<br />
       tfacr200.balc,         | Balance<br />
       tfacr200.balh(1),      | Balance in Home Currency<br />
       tfacr200.trec,         | Document Type<br />
       tfacr200.dued,         | Due Date <br />
       tccom100.nama,<br />
       tccom112.seak,<br />
       tfacr200.line,<br />
       tfgld018.date,	      | Last Date of Update	<br />
       tfacr600.amnt,<br />
       tfacr600.rect,<br />
       tfacr600.recd,<br />
       tfacr601.ityp,<br />
       tfacr601.idoc,<br />
       tfacr601.ilin<br />
       <br />
from<br />
       tfacr200,               | Open Items (Sales Invoices &amp; Receipts),<br />
       tccom100,<br />
       tccom112,<br />
       tfgld018,<br />
       tfacr600,<br />
       tfacr601<br />
<br />
where<br />
       tfacr200.itbp &gt;= tfacr200.itbp.f and<br />
       tfacr200.itbp &lt;= tfacr200.itbp.t and<br />
       tfgld018.date &gt;= tfgld018.date.f and<br />
       tfgld018.date &lt;= tfgld018.date.t and<br />
       (tfacr200.trec  = 2 or tfacr200.trec  = 9)  and<br />
       tfacr600.rect  = 'CVR' and<br />
       tfacr200.itbp  = tccom100.bpid and<br />
       tfacr200.itbp  = tccom112.itbp and<br />
       tfacr200.docn  = tfgld018.docn and<br />
       tfgld018.docn  = tfacr600.recd and<br />
       tfacr200.ninv  = tfacr601.idoc and<br />
       tfacr200.schn  = tfacr601.ilin and<br />
       tfacr200.recl =  tfacr601.recl and<br />
       tfacr600.recl  = tfacr601.recl and<br />
       tfacr200.recl  = tfacr600.recl <br />
       <br />
      <br />
    <br />
<br />
   <br />
order by<br />
       tfacr200.docd,<br />
       tfacr200.tdoc,<br />
       tfacr200.itbp,<br />
       tfgld018.date</div></div><hr />


<div class="post"><div class="posttop"><div class="username">vamsi_gujjula</div><div class="date">21st November 2014, 11:48</div></div><div class="posttext">what i understand is you want to add a new field tfgld018.date on existing report <br />
<br />
just added tfgld018.date in the rreport , <br />
<br />
and in the report script detail.1 ( assuming this its the data layout)   select tfgld018 table<br />
<br />
Regards,<br />
Vamsi.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">21st November 2014, 19:53</div></div><div class="posttext">Like vamsi mentioned above if you do not have the session script,you can try just adding the field to the report.  Then put the field in the details section. Run the session and see if the field is filled from the session.  Then if it is filled you can play with the report to get the out put the way you want it.<br />
<br />
If the field is not filled, then what you can do is create a report script.  In the report script you just declare the table you want and then in the details layout go fetch the data for the record currently being processed(or printed).<br />
<br />
Sample would be like:<br />
<br />
<br />
declaration:<br />
   table ttdexi315<br />
   extern domain tcbool exostar<br />
<br />
detail.1:<br />
before.layout:<br />
    select  tdexi315.*<br />
    from    tdexi315<br />
    where  tdexi315._index1 = :tdpur041.orno<br />
    selectdo<br />
        exostar = true<br />
    selectempty<br />
        exostar = false<br />
    endselect<br />
<br />
Hope I did not make any typo's.  Now on the details.1 layout I could add a text field that says &quot;Order is special&quot; and put in it the print expression of exostar.  Then this would only pop up for purchase orders that are in the table tdexi315.  In your case you would find the tfgld018 record and get print the field - not need to change print condition on the field.  Hope this helps.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ainulm</div><div class="date">24th November 2014, 03:57</div></div><div class="posttext">Hi Mark and Vamsi,<br />
thank you for your kind feedback. <br />
<br />
Ive got tried for your code Mark. But still the value is duplicate. please help :(<br />
You may refer the code below in the report script:<br />
<br />
<br />
detail.2:<br />
before.layout:<br />
	select tfgld018.*<br />
	from tfgld018<br />
	where tfgld018._index1 = :tfacr200.ttyp<br />
	selectdo<br />
		tfgld018.date = true<br />
	selectempty<br />
		tfgld018.date = false<br />
	endselect</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">24th November 2014, 14:57</div></div><div class="posttext">I do not know about LN, but the very first thing I would do in 4c4 is not use a date table name as a boolean.  I would add a declaration for something different - below I am assuming you print tfgld918.date and maybe you only print it when you find it.  So on the report it would have a field tfgld918.date, with print expression found.gld918.<br />
<br />
<br />
declaration:<br />
    external domain tcbool  found.gld918<br />
<br />
detail.2:<br />
before.layout:<br />
	select tfgld018.*<br />
	from tfgld018<br />
	where tfgld018._index1 = :tfacr200.ttyp<br />
	selectdo<br />
		 found.gld918 = true<br />
	selectempty<br />
		found.gld918 = false<br />
                          tfgld918.date = 0<br />
	endselect<br />
<br />
<br />
Second what do you mean the value is duplicate?  From what I see everytime detail.2 is run this query will execute and set a new value.  Is detail.2 getting run for every record passed to the report?  In the above case the output expression for detail.2 would be 1.</div></div><hr />



</div>
</body>
</html>