<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Looking for a standard dll to get Item price, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Looking for a standard dll to get Item price Tools Development" />
	
	<title>Looking for a standard dll to get Item price [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; Looking for a standard dll to get Item price</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">tmannais</div><div class="date">14th March 2019, 05:20</div></div><div class="posttext">I am confident that there must be a standard dll function for getting the default price for an item in Sales Order Line (and maybe other places) given every other data such as Business Partner, Quantity, and everything else it needs to know in order to calculate discount and/or promotion.<br />
The question is what is it and how can I use it?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">bdittmar</div><div class="date">14th March 2019, 10:05</div></div><div class="posttext">I am confident that there must be a standard dll function for getting the default price for an item in Sales Order Line (and maybe other places) given every other data such as Business Partner, Quantity, and everything else it needs to know in order to calculate discount and/or promotion.<br />
The question is what is it and how can I use it?<br />
<br />
Hello,<br />
have a look at :<br />
<br />
Library tdslsdll0017<br />
<br />
Sales - Integration with Pricing<br />
<br />
(22 Functions available)<br />
<br />
<br />
Regards</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tmannais</div><div class="date">14th March 2019, 10:17</div></div><div class="posttext">I don't have the standard source code.<br />
How can I check what you suggested?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tmannais</div><div class="date">14th March 2019, 11:31</div></div><div class="posttext">I used ttstpbaandoc to generate the Library Document out and looked through the page, but I still don't know which one to use.<br />
<br />
I think this is the closest function that I would like to try.<br />
<br />
tdsls.dll0017.retrieve.sales.order.line.price.discounts<br />
void tdsls.dll0017.retrieve.sales.order.line.price.discounts( domain tdpcg.prds i.apply.price.disc.both, boolean i.update.uef, boolean i.update.pcf, boolean i.delete.manual.discount, domain tcorno i.orno, domain tccono i.cono, domain tcpono i.cpon, domain tccwoc i.ccof, domain tcitem i.item, domain tcuef.effn i.effn, domain tccpva i.cpva, domain tccom.bpid i.ofbp, domain tccom.bpid i.stbp, domain tcmcs.cpcl i.cpcl, domain tcmcs.cpln i.cpln, domain tcmcs.cmnf i.cmnf, domain tcdate i.odat, domain tcdate i.ddta, domain tcqsl1 i.qoor, domain tcqsl1 i.qoor.org, domain tccuni i.cuqs, domain tcconv i.cvqs )<br />
<br />
Expl.:	The purpose of this function is to retrieve the price and<br />
	discounts for a sales order line.<br />
	After call of this function the global pricing variables are<br />
	filled.<br />
Pre:	Sales Order Header &amp; Line are present<br />
Post:	N.A.<br />
Input:	Sales Order Line Attributes (tdsls401):<br />
	i.orno -&gt;	Order number<br />
	i.cono -&gt;	Contract<br />
	i.cpon -&gt;	Contract position<br />
	i.ccof -&gt;	Contract Sales Office<br />
	i.item -&gt;	Item<br />
	i.effn -&gt;	Effective Unit			|#201421.n<br />
	i.cpva -&gt;	Product Variant<br />
	i.ofbp -&gt;	Sold-to BP<br />
	i.stbp -&gt;	Ship-to BP<br />
	i.cpcl -&gt;	Product class<br />
	i.cpln -&gt;	Product Line<br />
	i.cmnf -&gt;	Manufacturer<br />
	i.odat -&gt;	Order Date<br />
	i.ddta -&gt;	Planned Delivery Date<br />
	i.qoor -&gt;	Order quantity<br />
	i.qoor.org -&gt;	Original Order Quantity<br />
	i.cuqs -&gt;	Order Unit<br />
	i.cvqs -&gt;	Order Unit conversion factor<br />
	i.apply.price.disc.both -&gt; Recalculate price, discount or both<br />
							|#201421.sn<br />
	i.update.uef	-&gt; Update table in UEF (Effectivity Unit)?<br />
			Prices can be retrieved from UEF with or<br />
			without updating(re-calculation) of price<br />
			dependent UEF tables. If the argument has value<br />
			true, UEF table is updated, else(false) UEF<br />
			table is read.<br />
							|#201421.en<br />
							|#800-140971.sn<br />
	i.update.pcf	-&gt; Update tables in PCF (product variants)?<br />
			Prices can be retrieved from PCF with or<br />
			without updating(re-calculation) of price<br />
			dependent PCF tables. If the argument has value<br />
			true, PCF tables are updated, else(false) PCF<br />
			tables are read.<br />
	i.delete.manual.discount -&gt; if manual discount must be deleted<br />
			or not.				|#800-140971.en<br />
Output: The global pricing variables are filled.<br />
Return: N.A.<br />
<br />
However, it is going to give output to the &quot;global pricing variables&quot;, which I have no clue of what they are and how to use them.<br />
Please give me some advice.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">tmannais</div><div class="date">14th March 2019, 12:21</div></div><div class="posttext">I found another interesting function but this one is even more confusing to use because its explanation is so minimal.<br />
<br />
tdpcg.dll0001.retrieve.price.and.discounts<br />
long tdpcg.dll0001.retrieve.price.and.discounts( domain tdpcg.tyor i.type.of.order, domain tcorno i.number, domain tccono i.contract, domain tcpono i.contract.position, domain tccwoc i.contract.office, domain tcitem i.item, domain tcyesno i.subcontracted, domain tcuef.effn i.effectivity.unit, domain tccpva i.product.variant, domain tcguid i.specification, domain tccom.bpid i.buy.sell.bp, domain tccom.bpid i.ship.bp, domain tccom.bpid i.pricing.bp, domain tcmcs.cpcl i.product.class, domain tcmcs.cpln i.product.line, domain tcmcs.cmnf i.manufacturer, domain tcdate i.order.date, domain tcdate i.planned.delivery.date, domain tcqsl1 i.order.quantity, domain tcqsl1 i.original.order.quantity, domain tcqsl1 i.price.group.quantity, domain tccuni i.quantity.unit, domain tcconv i.quan.unit.conv.factor, boolean i.delete.manual.discount, boolean i.delete.pricebook.discount, domain tdpcg.prds i.apply.price.disc.both, domain tdpcg.prpc i.price.percentage, boolean i.update.uef, boolean i.update.pcf, domain tcncmp i.financial.company, domain tcccur i.transaction.currency, ref domain tcratc i.rate(), ref domain tcratf i.rate.factor(), domain tcdate i.rate.date, domain tcrtyp i.rate.type, domain tdpcg.prit i.price.type, domain tcorno i.production.order, domain tcorno i.maintenance.work.order, domain tcorno i.service.order, ref domain tccuni io.price.unit, ref domain tcconv io.price.unit.conv.factor, ref domain tcpric io.price, ref domain tcperc io.percentage, ref boolean o.derived.item.used, ref domain tdpcg.prbk o.price.book, ref domain tdgen.porg io.price.origin, ref domain tdpcg.made o.price.matrix.definition, ref domain tdpcg.prse o.price.matrix.sequence, ref domain tdpcg.maty io.disc.matrix.type(), ref domain tdgen.dorg io.discount.origin(), ref domain tdpcg.made io.disc.matrix.definition() fixed, ref domain tdpcg.prse io.disc.matrix.sequence(), ref domain tcdisc io.discount.percentage(), ref domain tddiam io.discount.amount(), ref domain tccdsc io.discount.code() fixed, ref domain tddmth io.discount.method(), ref domain tdpcg.dssc io.discount.schedule() fixed, ref domain tcyesno io.determining, ref domain tcyesno io.eligible )<br />
<br />
Expl.:	This method is a performance layer around<br />
	retrieve.price.and.discounts function.<br />
<br />
Can anyone suggest me on how to properly use this?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">martin.f</div><div class="date">1st July 2021, 18:07</div></div><div class="posttext">Has anyone an idea what the global pricing variables are?<br />
I think <br />
tdsls.dll0017.retrieve.sales.order.line.price.discounts goes in the right direction. However, Like in the explanation above I do not know what the global pricing variables are.<br />
I need to determine via dll the discount of a sales order line.<br />
<br />
Regards<br />
Martin</div></div><hr />



</div>
</body>
</html>