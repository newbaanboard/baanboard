<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Hexadecimal, Decimal &amp; Binary Conversion Functions, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Hexadecimal, Decimal &amp; Binary Conversion Functions Code &amp; Utilities" />
	
	<title>Hexadecimal, Decimal &amp; Binary Conversion Functions [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="index.html">Newbaanboard</a> &gt; <a href="index.html">Baan SIGs</a> &gt; <a href="index.html">Code &amp; Utilities</a> &gt; Hexadecimal, Decimal &amp; Binary Conversion Functions</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">george7a</div><div class="date">8th December 2008, 17:13</div></div><div class="posttext">Hi,<br />
<br />
I wrote some conversion functions and I thought I will share them.<br />
<br />
Dec.to.Hex takes a decimal number and returns hexadecimal in a string<br />
<br />
function domain tcmcs.str300m Dec.to.Hex(long dec.num)<br />
{<br />
   | Written By: George Abdo<br />
   domain tcmcs.str300m res.hex<br />
   <br />
     <br />
   if dec.num = 0 then return(&quot;0&quot;) endif<br />
   <br />
   res.hex = &quot;&quot;<br />
   while dec.num &lt;&gt; 0 <br />
<br />
      res.hex = Dec.to.Hex.digit(dec.num\16) &amp; res.hex  | mod<br />
      dec.num = dec.num /16 | div<br />
      <br />
   endwhile<br />
   return (res.hex)<br />
<br />
}<br />
<br />
| This function is used only to convert one digit.<br />
<br />
function domain tcmcs.str1 Dec.to.Hex.digit(long dec.num)<br />
{<br />
   | Written By: George Abdo<br />
   string res.hex(1)<br />
   <br />
   on case dec.num<br />
   <br />
      case 10: res.hex = &quot;A&quot;<br />
         break<br />
      case 11: res.hex = &quot;B&quot;<br />
         break<br />
      case 12: res.hex = &quot;C&quot;<br />
         break<br />
      case 13: res.hex = &quot;D&quot;  <br />
         break         <br />
      case 14: res.hex = &quot;E&quot;<br />
         break<br />
      case 15: res.hex = &quot;F&quot;<br />
         break<br />
      default: res.hex = str$(dec.num)<br />
         break<br />
   endcase    <br />
<br />
   return(res.hex)<br />
}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">george7a</div><div class="date">8th December 2008, 17:15</div></div><div class="posttext">I already posted before (http://baanboard.com/baanboard/showthread.php?p=105560) Hex.to.Bin. It takes a hexadecimal and returns a binary.<br />
<br />
function string Hex.to.Bin(string in.hex(32))<br />
{<br />
   | Written By: George Abdo<br />
   long i<br />
   string tmp.bin(4),out.bin(128)<br />
   <br />
<br />
   for i=1 to len(in.hex)<br />
      <br />
      on case in.hex(i;1)<br />
      <br />
         case &quot;0&quot;: tmp.bin = &quot;0000&quot;<br />
            break<br />
         case &quot;1&quot;: tmp.bin = &quot;0001&quot;<br />
            break<br />
         case &quot;2&quot;: tmp.bin = &quot;0010&quot;<br />
            break<br />
         case &quot;3&quot;: tmp.bin = &quot;0011&quot;<br />
            break<br />
         case &quot;4&quot;: tmp.bin = &quot;0100&quot;<br />
            break<br />
         case &quot;5&quot;: tmp.bin = &quot;0101&quot;<br />
            break<br />
         case &quot;6&quot;: tmp.bin = &quot;0110&quot;<br />
            break<br />
         case &quot;7&quot;: tmp.bin = &quot;0111&quot;<br />
            break<br />
         case &quot;8&quot;: tmp.bin = &quot;1000&quot;<br />
            break<br />
         case &quot;9&quot;: tmp.bin = &quot;1001&quot;<br />
            break<br />
         case &quot;A&quot;: tmp.bin = &quot;1010&quot;<br />
            break<br />
         case &quot;B&quot;: tmp.bin = &quot;1011&quot;<br />
            break<br />
         case &quot;C&quot;: tmp.bin = &quot;1100&quot;<br />
            break<br />
         case &quot;D&quot;: tmp.bin = &quot;1101&quot;<br />
            break<br />
         case &quot;E&quot;: tmp.bin = &quot;1110&quot;<br />
            break<br />
         case &quot;F&quot;: tmp.bin = &quot;1111&quot;<br />
            break<br />
         default:<br />
            return (&quot;Error&quot;)<br />
              <br />
      endcase<br />
<br />
      out.bin=out.bin&amp;tmp.bin<br />
      <br />
   endfor<br />
   <br />
   return(out.bin)<br />
<br />
}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">george7a</div><div class="date">8th December 2008, 17:16</div></div><div class="posttext">Another small function Dec.to.Bin. It takes a decimal number and returns a binary.<br />
<br />
<br />
function domain tcmcs.str300m Dec.to.Bin(long dec.num)<br />
{<br />
   | Written By: George Abdo<br />
   long res.div,res.mod<br />
   domain tcmcs.str300m res.bin<br />
   <br />
   if dec.num = 0 then return(&quot;0&quot;) endif<br />
   <br />
   res.bin = &quot;&quot;<br />
   while dec.num &lt;&gt; 0 <br />
<br />
      res.bin =  str$(dec.num \ 2) &amp; res.bin  | mod<br />
      dec.num = dec.num /2 | div<br />
      <br />
   endwhile<br />
   return (res.bin)<br />
}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Hitesh Shah</div><div class="date">24th January 2009, 15:05</div></div><div class="posttext">For  converting decimal numbers to hex and octal numbers , sprintf$ with %x and %o argument can give the desired  result . Probably in-built function may be faster .<br />
<br />
For binary conversions , the functions written looks very much necessary .</div></div><hr />


<div class="post"><div class="posttop"><div class="username">joepte</div><div class="date">18th July 2011, 17:37</div></div><div class="posttext">Hi, I am working on a hex to dec coversion function but have run into a problem - has anyone got a working one?<br />
Regards</div></div><hr />


<div class="post"><div class="posttop"><div class="username">~Vamsi</div><div class="date">19th July 2011, 00:58</div></div><div class="posttext">Hi, I am working on a hex to dec coversion function but have run into a problem - has anyone got a working one?<br />
Regards<br />
<br />
Please post your code to help find resolution.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">george7a</div><div class="date">19th July 2011, 11:03</div></div><div class="posttext">Hi, I am working on a hex to dec coversion function but have run into a problem - has anyone got a working one?<br />
Regards<br />
<br />
Here you go:<br />
<br />
<br />
function long Hex.to.Dec(string in.hex(32))<br />
{<br />
   | Written By: George Abdo<br />
   long i,tmp.d,out.num<br />
<br />
   tmp.d = 0<br />
   out.num = 0<br />
   <br />
   for i=1 to len(in.hex)<br />
      <br />
      on case in.hex(i;1)<br />
      <br />
         case &quot;0&quot;:<br />
         case &quot;1&quot;: <br />
         case &quot;2&quot;:<br />
         case &quot;3&quot;:<br />
         case &quot;4&quot;:<br />
         case &quot;5&quot;:<br />
         case &quot;6&quot;:<br />
         case &quot;7&quot;:<br />
         case &quot;8&quot;:<br />
         case &quot;9&quot;: tmp.d = lval(in.hex(i;1))  <br />
            break<br />
         case &quot;A&quot;: tmp.d = 10<br />
            break<br />
         case &quot;B&quot;: tmp.d = 11<br />
            break<br />
         case &quot;C&quot;: tmp.d = 12<br />
            break<br />
         case &quot;D&quot;: tmp.d = 13<br />
            break<br />
         case &quot;E&quot;: tmp.d = 14<br />
            break<br />
         case &quot;F&quot;: tmp.d = 15<br />
            break<br />
         default:<br />
            return (-1) | Error<br />
              <br />
      endcase<br />
<br />
      out.num=out.num + tmp.d*pow(16,len(in.hex) - i)<br />
      <br />
   endfor<br />
   <br />
   return(out.num)<br />
<br />
}</div></div><hr />


<div class="post"><div class="posttop"><div class="username">joepte</div><div class="date">18th August 2011, 06:41</div></div><div class="posttext">Thanks George - that has helped greatly.<br />
I have stumbled upon another related problem though:<br />
When I try converting back using the sprintf command it seems to miss part of the hex number. <br />
 For example if the numer given in new.doub is <br />
827569822769  representing C0AF015C31; after the sprintf the sprint.str is just AF015C31 a very different smaller number.<br />
I thought it might be domain issues why it is skipping the &quot;C0&quot; but the string is 20 chars.  should it be a diff domain.  i have looked at a couple sprintf flags without success.  Do you see anything here that might cause the chopping off of the first 2 chars?<br />
Kind regards.<br />
<br />
here is part of this code:<br />
<br />
domain	tcqiv1		new.doub<br />
domain       tcmcs.str20	sprint.str<br />
<br />
<br />
sprint.str = sprintf$(&quot;%x&quot;, new.doub)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">günther</div><div class="date">18th August 2011, 10:46</div></div><div class="posttext">I've checked your conversion, and on my system I get &quot;7fffffff&quot; which is -2147483647 or -MAXINT. Normally I would use %x only for integers, not for doubles. What would you expect for e.g. 0.5 in hex?<br />
 <br />
Günther</div></div><hr />


<div class="post"><div class="posttop"><div class="username">joepte</div><div class="date">18th August 2011, 17:04</div></div><div class="posttext">true - it does look strange on 0.5 but the numbers I tried to use were too large for ints or longs and contained no numbers after the decimal place.  What I can do because the first part of the hex is constant I can take the eight chars returned by sprintf and add the constant to it.<br />
Thanks for all the help</div></div><hr />



</div>
</body>
</html>