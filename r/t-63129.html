<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="помощь программисту, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] помощь программисту Russia" />
	
	<title>помощь программисту [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Local User Groups &amp; Software</a> &gt; <a href="../index.html">Russia</a> &gt; помощь программисту</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">Anton.k</div><div class="date">21st November 2012, 06:53</div></div><div class="posttext">Доброго времени суток.<br />
Подскажите плиз, создаю в скрипте форму и на ней поле(глобальная переменная), после ввода на форме данные не сохраняются в переменной.<br />
<br />
function create.prd()<br />
{<br />
      show.mwindow()<br />
      fill.work.area()<br />
      handle.event.loop()<br />
}<br />
<br />
function show.mwindow()<br />
{<br />
      long barmenu<br />
      toplevel = create.object( DsCmwindow, current.mwindow(),<br />
                  DsNtitle,         &quot;Generate UID&quot;,<br />
                  DsNprocessgroup,  get.pgrp(pid),<br />
                  DsNminWidth,      300,<br />
                  DsNmaxWidth,      800,<br />
                  DsNminHeight,     100,<br />
                  DsNmaxHeight,     150)<br />
}<br />
<br />
function fill.work.area()<br />
{<br />
      long        rowcol<br />
      string      listitems(300)<br />
       rowcol = create.object(DsCrowColumn, toplevel,<br />
                   DsNvspace,        10,<br />
                   DsNhspace,        10,<br />
                   DsNnumColumns,     3,<br />
                   DsNfixedDimension, DSHORIZONTAL )<br />
      frm.text = create.object(DsCfield,  rowcol,<br />
                  DsNheight,        20,<br />
                  DsNmaxLength,     2,<br />
                  DsNwidth,         20,<br />
                  DsNstring,       text<br />
                  )<br />
      create.object(DsCpushButton,  rowcol,<br />
                  DsNstring,        &quot;Ok&quot;,<br />
                  DsNreturnValue,   COMMAND.EXIT)<br />
       update.object(toplevel)<br />
<br />
}<br />
<br />
<br />
function handle.event.loop()<br />
{<br />
      long event(EVTMAXSIZE)<br />
      while TRUE<br />
            next.event(event)<br />
            on case evt.type(event)<br />
            case EVTPUSHBUTTON:<br />
                  if ( <br />
                       evt.button.return(event) = COMMAND.EXIT ) then<br />
                          change.object(frm.text, DsNstring,text)<br />
                          update.object(frm.text)<br />
                          message(text)|выводит пустое поле<br />
                          return<br />
                  endif<br />
                  break<br />
            default:<br />
                  break<br />
            endcase<br />
      endwhile<br />
}</div></div><hr />



</div>
</body>
</html>