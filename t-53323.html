<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="ticst0101s000 issue specific lot baan5 - can't change lot number, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] ticst0101s000 issue specific lot baan5 - can't change lot number AFS/DDC/OLE: Function servers" />
	
	<title>ticst0101s000 issue specific lot baan5 - can't change lot number [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="index.html">Newbaanboard</a> &gt; <a href="index.html">Baan SIGs</a> &gt; <a href="index.html">AFS/DDC/OLE: Function servers</a> &gt; ticst0101s000 issue specific lot baan5 - can't change lot number</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">Andy..</div><div class="date">13th August 2008, 12:47</div></div><div class="posttext">Hi, i've been working on issue material API and have come across a situation where i cant overwrite the lot field if there is already a value in there by default.  The std session allows this but however many times i write a new value in there the old lot number remains.  I've tried <br />
ret=stpapi.update( &quot;ticst0101s000&quot;, do.update, error )<br />
at various points with do.update=true and false and it keeps giving me the error reporting there is not enough stock of the old lot number 'Shortage of 1.333 ton for lot (oldlotnum) of item (item) in (warehouse)'<br />
<br />
Slightly odd situation now is that after the update i check <br />
stpapi.get.field( &quot;ticst0101s000&quot;, &quot;ticst001.clot&quot;, value )<br />
<br />
value=the new and correct lot number, but if i then try and update it gives the shortage error for the old lot number?!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">13th August 2008, 15:46</div></div><div class="posttext">Well on 4c4 I do not see lot on our session.  Just wondering if you tried using stpapi.save versus stpapi.update?  I know on at least one session I had to do a save versus an update.  Then on another session I had to do a save followed by an update.  Not sure what would work on baan 5. Maybe saving the record and then re-adding it with the new lot. Not graceful, but maybe an option.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">13th August 2008, 15:57</div></div><div class="posttext">Broke my own rule - I should have searched first.  See if lakoons post helps in this  thread here (http://www.baanboard.com/baanboard/showthread.php?t=51850&amp;highlight=ticst0101s000).  Looks like he does an update on the main session.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Andy..</div><div class="date">14th August 2008, 16:25</div></div><div class="posttext">I had to set more fields than in that example.<br />
<br />
When you run the session in certain combinations and get an error/warning it resets lot and/or qty to previous values!  The solution was to set qty=0 then set lot, then update, then set qty to desired value and update again - code looks messy and horrible but it does now work!  Thanks for your help, Andy</div></div><hr />



</div>
</body>
</html>