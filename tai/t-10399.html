<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="BaanIVa upgrade to Oracle8, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] BaanIVa upgrade to Oracle8 Tools Administration &amp; Installation" />
	
	<title>BaanIVa upgrade to Oracle8 [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Administration &amp; Installation</a> &gt; BaanIVa upgrade to Oracle8</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">philpom</div><div class="date">17th June 2003, 17:55</div></div><div class="posttext">Good day,<br />
<br />
We are looking at moving our database from 7.3.4 to 8.1.7.  Our configuration is<br />
<br />
oracle 7.3.4<br />
portset 6.1b.03.03<br />
BaanIVa<br />
HPUX 11.11<br />
<br />
Has anyone done this with succ?  Is there any reason why we couldn't just upgrade oracle and leave baan alone?  What is the suggested method?  Do you have to purchse the extensions? <br />
<br />
We don't use the DBA module,  all maint in done outside of baan other than adding new scripts, reports, forms and table changes.<br />
<br />
I would appreciate and advice on this matter.<br />
<br />
Thanks,<br />
<br />
Mark</div></div><hr />


<div class="post"><div class="posttop"><div class="username">patvdv</div><div class="date">17th June 2003, 18:08</div></div><div class="posttext">Phil,<br />
<br />
Many have gone before you go so by now it should be a well proven path. <br />
<br />
Is there any reason why we couldn't just upgrade oracle and leave baan alone?<br />
No, you need to add the Oracle8 functionality and thus relicense your system. There's also a minimum portingset version requirement<br />
<br />
What is the suggested method?<br />
You can get an Oracle upgrade guide from Baan Support. It's pretty good. Your basic 2 choices are to run a migration tool against your current database or do an export/import on a new database.<br />
<br />
Do you have to purchse the extensions?Not sure that you mean by this. If you mean the relicensing I mentioned earlier, then yes but I don't think it will cost you any more.<br />
<br />
We don't use the DBA module, all maint in done outside of baanNeither do we and never had any problems. Just make sure you are acquainted with the $BSE/lib/ora*_xxx tools.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Markus Schmitz</div><div class="date">18th June 2003, 15:00</div></div><div class="posttext">Hi phil,<br />
<br />
I think i have to contrdict Pat here!<br />
<br />
The answers to your questions actually depend on your version:<br />
<br />
In BaanIVc4 you have to install a patch, need a corresponding Portingset, which supports Oracle8  and you have to request a licence Key, which permits the usage of Oracle8 driver.<br />
<br />
In BaanIVb and a, you have to buy I think the oracle extension, which gives you Oracle8!! This costs a bit extra.<br />
<br />
The other option you have is to access your database via SQL-Net, even though your Database is directly installed. In this case you install the Oracle7 SqlNet client, point your oracle home to this client and point the TQO_TASk variable to the Oracle8 services. This has some performance penalties, but works.<br />
<br />
Regards<br />
<br />
Markus</div></div><hr />


<div class="post"><div class="posttop"><div class="username">philpom</div><div class="date">18th June 2003, 15:57</div></div><div class="posttext">OK...  What I do know is that we are on b4a and that we must pay for the oracle8 support.  We need to upgrade our portset from 6.1b.03.03 to 6.1c.05.xx.xx.  I have looked at this previously but it turns into spegetti mess.  I was hoping for an easy way out.  our function servers stopped working with the new port set and also text quit printing.  That was what we found with virtually no testing.  <br />
<br />
Thanks for the info</div></div><hr />


<div class="post"><div class="posttop"><div class="username">patvdv</div><div class="date">18th June 2003, 16:22</div></div><div class="posttext">Mark, sorry for calling you Phil :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">philpom</div><div class="date">12th August 2003, 22:09</div></div><div class="posttext">Originally posted by Markus Schmitz <br />
Hi phil,<br />
<br />
I think i have to contrdict Pat here!<br />
<br />
The answers to your questions actually depend on your version:<br />
<br />
In BaanIVc4 you have to install a patch, need a corresponding Portingset, which supports Oracle8  and you have to request a licence Key, which permits the usage of Oracle8 driver.<br />
<br />
In BaanIVb and a, you have to buy I think the oracle extension, which gives you Oracle8!! This costs a bit extra.<br />
<br />
The other option you have is to access your database via SQL-Net, even though your Database is directly installed. In this case you install the Oracle7 SqlNet client, point your oracle home to this client and point the TQO_TASk variable to the Oracle8 services. This has some performance penalties, but works.<br />
<br />
Regards<br />
<br />
Markus  <br />
<br />
Markus,<br />
<br />
So now I have installed 817 and moved the data over.  I pointed the TWO_TASK at the 817 SID and my ORACLE_HOME I left at 734.   I can actually log into baan but when I try to run something I get some ora errors....  Here is what my oracle7 log file looks like:<br />
<br />
103-08-12[13:08:16]bsp:<br />
103-08-12[13:08:16]bsp: ******* S T A R T of Log message *******<br />
103-08-12[13:08:16]bsp: Log message called from ora_native.c $ $Revision: /main/bugfix6.1b/2 $: #983 keyw<br />
ord: Oracle Error<br />
103-08-12[13:08:16]bsp: Pid 28920 Uid 205 Euid 205 Gid 201 Egid 201<br />
103-08-12[13:08:16]bsp: user_type S language 2 user_name bsp tty ypb locale ISO88591/NULL<br />
103-08-12[13:08:16]bsp: Errno 0 bdb_errno 0<br />
103-08-12[13:08:16]bsp:<br />
103-08-12[13:08:16]bsp: dbs_errno = 0Error 4114 occurred:<br />
103-08-12[13:08:16]bsp: Error ORA-3114 occurred during execute.<br />
103-08-12[13:08:16]bsp: ORA-03114: not connected to ORACLE<br />
103-08-12[13:08:16]bsp:<br />
103-08-12[13:08:16]bsp: Error BDB-4114 returned.<br />
103-08-12[13:08:16]bsp: Info: peo 0, sql 4, oci 4, warn 0, osd 0, rpc 0<br />
103-08-12[13:08:16]bsp: See fatal SQL statement in '/opt/prod/BAAN42/bse/log/log.ora.sql'.<br />
103-08-12[13:08:16]bsp: Flushed at ora_cursor.c $ $Revision: /main/bugfix6.1b/3 $ : #541.<br />
103-08-12[13:08:16]bsp: ********** E N D of Log message **********<br />
103-08-12[13:08:16]bsp:<br />
103-08-12[13:08:16]bsp: ******* S T A R T of Log message *******<br />
103-08-12[13:08:16]bsp: Log message called from ora_native.c $ $Revision: /main/bugfix6.1b/2 $: #983 keyw<br />
ord: Oracle Error<br />
103-08-12[13:08:16]bsp: Pid 28920 Uid 205 Euid 205 Gid 201 Egid 201<br />
103-08-12[13:08:16]bsp: user_type S language 2 user_name bsp tty ypb locale ISO88591/NULL<br />
103-08-12[13:08:16]bsp: Errno 0 bdb_errno 0<br />
103-08-12[13:08:16]bsp:<br />
103-08-12[13:08:16]bsp: dbs_errno = 0Error 4114 occurred:<br />
103-08-12[13:08:16]bsp: Error ORA-3114 occurred during commit.<br />
103-08-12[13:08:16]bsp: ORA-03114: not connected to ORACLE<br />
103-08-12[13:08:16]bsp:<br />
103-08-12[13:08:16]bsp: Error BDB-4114 returned.<br />
103-08-12[13:08:16]bsp: Flushed at ora_db.c $ $Revision: /main/6 $ : #139.<br />
103-08-12[13:08:16]bsp: ********** E N D of Log message **********<br />
103-08-12[13:08:39]bsp:<br />
103-08-12[13:08:39]bsp: ******* S T A R T of Log message *******<br />
103-08-12[13:08:39]bsp: Log message called from ora_native.c $ $Revision: /main/bugfix6.1b/2 $: #983 keyw<br />
ord: Oracle Error<br />
103-08-12[13:08:39]bsp: Pid 28920 Uid 205 Euid 205 Gid 201 Egid 201<br />
103-08-12[13:08:39]bsp: user_type S language 2 user_name bsp tty ypb locale ISO88591/NULL<br />
103-08-12[13:08:39]bsp: Errno 0 bdb_errno 0<br />
103-08-12[13:08:39]bsp:<br />
103-08-12[13:08:39]bsp: dbs_errno = 0Error 4114 occurred:<br />
103-08-12[13:08:39]bsp: Error ORA-3114 occurred during execute.<br />
103-08-12[13:08:39]bsp: ORA-03114: not connected to ORACLE<br />
103-08-12[13:08:39]bsp:<br />
103-08-12[13:08:39]bsp: Error BDB-4114 returned.<br />
103-08-12[13:08:39]bsp: Info: peo 0, sql 4, oci 4, warn 0, osd 0, rpc 0<br />
103-08-12[13:08:39]bsp: See fatal SQL statement in '/opt/prod/BAAN42/bse/log/log.ora.sql'.<br />
103-08-12[13:08:39]bsp: Flushed at ora_cursor.c $ $Revision: /main/bugfix6.1b/3 $ : #541.<br />
103-08-12[13:08:39]bsp: ********** E N D of Log message **********<br />
103-08-12[13:08:39]bsp:<br />
103-08-12[13:08:39]bsp: ******* S T A R T of Log message *******<br />
103-08-12[13:08:39]bsp: Log message called from ora_native.c $ $Revision: /main/bugfix6.1b/2 $: #983 keyword: Oracle Error<br />
103-08-12[13:08:39]bsp: Pid 28920 Uid 205 Euid 205 Gid 201 Egid 201<br />
103-08-12[13:08:39]bsp: user_type S language 2 user_name bsp tty ypb locale ISO88591/NULL<br />
103-08-12[13:08:39]bsp: Errno 0 bdb_errno 0<br />
103-08-12[13:08:39]bsp:<br />
103-08-12[13:08:39]bsp: dbs_errno = 0Error 4114 occurred:<br />
103-08-12[13:08:39]bsp: Error ORA-3114 occurred during commit.<br />
103-08-12[13:08:39]bsp: ORA-03114: not connected to ORACLE<br />
103-08-12[13:08:39]bsp:<br />
103-08-12[13:08:39]bsp: Error BDB-4114 returned.<br />
103-08-12[13:08:39]bsp: Flushed at ora_db.c $ $Revision: /main/6 $ : #139.<br />
103-08-12[13:08:39]bsp: ********** E N D of Log message **********<br />
103-08-12[13:08:42]bsp:<br />
103-08-12[13:08:42]bsp: ******* S T A R T of Log message *******<br />
103-08-12[13:08:42]bsp: Log message called from ora_native.c $ $Revision: /main/bugfix6.1b/2 $: #983 keyw<br />
ord: Oracle Error<br />
103-08-12[13:08:42]bsp: Pid 28920 Uid 205 Euid 205 Gid 201 Egid 201<br />
103-08-12[13:08:42]bsp: user_type S language 2 user_name bsp tty ypb locale ISO88591/NULL<br />
103-08-12[13:08:42]bsp: Errno 0 bdb_errno 0<br />
103-08-12[13:08:42]bsp:<br />
103-08-12[13:08:42]bsp: dbs_errno = 0Error 2041 occurred:<br />
103-08-12[13:08:42]bsp: Error ORA-1041 occurred during close cursor.<br />
103-08-12[13:08:42]bsp: ORA-01041: internal error. hostdef extension doesn't exist<br />
103-08-12[13:08:42]bsp:<br />
103-08-12[13:08:42]bsp: Error BDB-2041 returned.<br />
103-08-12[13:08:42]bsp: Flushed at ora_cursor.c $ $Revision: /main/bugfix6.1b/3 $ : #1284.<br />
103-08-12[13:08:42]bsp: ********** E N D of Log message **********<br />
<br />
If you have any suggestions I would like to hear them.  The other thing was a bit of confusion on the Oracle client path.  In my tabledef6.1 I just left it as the Oracle7 home as before.  But the listener is the Oracle8 listner.  <br />
<br />
The baan environment and oracle database are on the same system.<br />
<br />
If you need more information from me let me know.<br />
<br />
Thanks,<br />
<br />
Mark Philpott<br />
Baan Admin<br />
The Boeing Company</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Markus Schmitz</div><div class="date">13th August 2003, 09:00</div></div><div class="posttext">Hi Mark,<br />
<br />
your setup sounds right. Unfortunately the error message does not make much sense. If you can login and see the menu, then normally Baan allready accessed successfully the database.<br />
<br />
Can you please post:<br />
<br />
a) tabledef6.1<br />
b) compnr6.1<br />
c) listener.ora/sqlnet.ora/protocol.ora/tnsnames.ora<br />
d) your environment before you start Baan<br />
<br />
I will try to take a look at it.<br />
<br />
Do you get the error, when starting a session/displaying data or writing data?<br />
<br />
Regards<br />
<br />
Markus</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Martin</div><div class="date">13th August 2003, 11:26</div></div><div class="posttext">Hi all,<br />
<br />
hmmm, i remember i had seen this problem.<br />
Are you sure, that you are working with the correct oracle driver (ora8_srv6.1) ?<br />
Please check the entry in tabledef6.1.<br />
Do you run the script ora_update under $BSE/bin ?<br />
<br />
<br />
Martin</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Markus Schmitz</div><div class="date">13th August 2003, 12:36</div></div><div class="posttext">Hi Martin,<br />
<br />
In his current setup, he should NOT (!) work with the ora8 driver.<br />
<br />
He is accessing the database via the oralce7 SQL-Net client, so he has to use the ora7 driver.<br />
<br />
Example:<br />
<br />
ORACLE_HOME=/oracle/product/7.3.4<br />
TWO_TASK=baan<br />
<br />
<br />
the tnsnames.ora in $ORACLE_HOME/network/admin must point to the local host.<br />
<br />
the listener.ora in /oracle/product/8.1.7/network/admin for the oracle 8 listener, must specify the oracle8 HOME!<br />
<br />
Looks confusing. But just imagine oracle and baan to be on different servers and the setup is the same. <br />
<br />
Regards<br />
<br />
Markus</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Martin</div><div class="date">13th August 2003, 13:17</div></div><div class="posttext">Hi Markus,<br />
<br />
you are right.<br />
So let us wait for tabledef6.1<br />
<br />
BTW, the ORA-03114 error also occurs, if the kernel paramter setting for oracle 8 is not ok. (so you could run in this Siutation, that a login to baan is possible, but sql-statements to other table are not working)<br />
<br />
@mark<br />
please post also the log.ora.sql from $BSE/log and check the oracle alert-file.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">philpom</div><div class="date">25th August 2003, 22:35</div></div><div class="posttext">Nevermind.  The errors had been due to database conversion errors.  We executed a 2nd conversion and it fixed everything.  It now works just fine in our current configuration.  That is:<br />
<br />
Old portingset pointing at Oracle 8 via sqlnet with the database residing locally.<br />
<br />
Any gotcha's using this config that are not obvious?<br />
<br />
Thanks for the info.<br />
<br />
Mark</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Morpheusn</div><div class="date">7th February 2011, 19:05</div></div><div class="posttext">Good day,<br />
<br />
We are looking at moving our database from 7.3.4 to 8.1.7.  Our configuration is<br />
<br />
oracle 7.3.4<br />
portset 6.1b.03.03<br />
BaanIVa<br />
HPUX 11.11<br />
<br />
Has anyone done this with succ?  Is there any reason why we couldn't just upgrade oracle and leave baan alone?  What is the suggested method?  Do you have to purchse the extensions? <br />
<br />
We don't use the DBA module,  all maint in done outside of baan other than adding new scripts, reports, forms and table changes.<br />
<br />
I would appreciate and advice on this matter.<br />
<br />
Thanks,<br />
<br />
Mark<br />
<br />
<br />
Hi, <br />
<br />
I´m problem with message &quot;Error ORA-3114 occurred during commit and ORA-03114: not connected to ORACLE and dbs_errno = 0, Error 522 occurred&quot;<br />
<br />
This error is happening after we migrated to Oracle 9 g, BaaN is suing and always returns to the beginning of select as if you were entering the function again, if I run the commit transaction for each changed record or rendered non of the error.  <br />
<br />
I don't know where to look for or where to parameterize but all indications are that either parameter or configuration problem.  <br />
<br />
I look forward to return.  <br />
<br />
Grateful.<br />
<br />
Morpheus</div></div><hr />



</div>
</body>
</html>