<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="bshcmd6.1 -e -k &lt;pid&gt;, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] bshcmd6.1 -e -k &lt;pid&gt; Tools Administration &amp; Installation" />
	
	<title>bshcmd6.1 -e -k &lt;pid&gt; [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Administration &amp; Installation</a> &gt; bshcmd6.1 -e -k &lt;pid&gt;</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">muheeb</div><div class="date">8th August 2002, 12:10</div></div><div class="posttext">Hi all,<br />
<br />
I need to use this command in order to kill the whole<br />
<br />
bshell and/or process in it. <br />
<br />
But I tried it and it only kills the current bshell I run,<br />
<br />
and not another bshells??<br />
<br />
it's syntax suppose to be: bshcmd6.1 -e &lt;bshell_id&gt;<br />
<br />
and I take &lt;bshell_id&gt; from &quot;licmon6.1 -w&quot;<br />
<br />
HELP.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ssellens</div><div class="date">8th August 2002, 13:08</div></div><div class="posttext">Muheeb,<br />
<br />
Is this on a Unix system?  if so are you using this command as root?  if not you will find you have no permissions to kill other users processes.  Also if you want to kill all users on a system you are better off using alg6.1 to do the job, again as root.<br />
<br />
Hope this helps<br />
<br />
<br />
Steve</div></div><hr />


<div class="post"><div class="posttop"><div class="username">muheeb</div><div class="date">8th August 2002, 13:22</div></div><div class="posttext">Hi Steve,<br />
<br />
thanks for your quick reply.<br />
<br />
I have Baan4b, and yes it's UNIX system! why it will be different<br />
in NT systems?<br />
<br />
you mean just I can kill other bshell using &quot;bshcmd6.1 -e&quot;<br />
just as a root? what if I want to do the killing from Baan itself.<br />
<br />
when I tried it from baan (running &quot;bshcmd6.1&quot; using &quot;shell&quot; function in a script) it just killed itself!</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ssellens</div><div class="date">8th August 2002, 13:36</div></div><div class="posttext">Muheeb,<br />
<br />
Not sure on NT so can't say what the difference would be, think you have to be an administrator or have admin permissions.<br />
<br />
If I am reading the bshcmd correctly yes the -e switch will allow you to kill all bshells when used by root.  But if you are doing it from a bshell ie in a session or run sh from menu then it will pick up your user name and only kill your bshell.<br />
<br />
<br />
Steve</div></div><hr />


<div class="post"><div class="posttop"><div class="username">muheeb</div><div class="date">8th August 2002, 13:55</div></div><div class="posttext">Steve.<br />
<br />
Do you have Baan4c or later? could you try it for me?<br />
<br />
I discover something interesting when I run &quot;bshcmd6.1&quot;<br />
from outside &quot;telnet&quot;..<br />
<br />
if I run &quot;bshcmd6.1 -e&quot; to kill bshell of Baan4b <br />
from telnet (loged as bsp) it won't kill any process.<br />
BUT I have also Baan4c with 1 user (bsp) only, so I run<br />
&quot;bshcmd6.1 -e&quot; from telnet trying to kill this only bshell<br />
I have in Baan4c and it did kill it!!<br />
<br />
so I assume that it would work in Baan4c, that's why if I have<br />
Baan4c or later and you have more than 1 license in it, could you try it??<br />
<br />
Thanks a lot.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ssellens</div><div class="date">8th August 2002, 14:10</div></div><div class="posttext">Hi again,<br />
<br />
Something you need to be aware of, BSP user at the unix level is a normal user, as such if they were not logged in on your baan4b system in Baan it would not kill any bshells.  So on your baan4c system the user is the same and is removed.  I can try the bshcmd on our test system, but it might not be today as it is in use, and I value my job to much to do it on the live system at the moment, that will have to wait till I have another job lined up :)<br />
<br />
<br />
Steve</div></div><hr />


<div class="post"><div class="posttop"><div class="username">muheeb</div><div class="date">8th August 2002, 14:13</div></div><div class="posttext">Anyway thanks a lot... I guess you are right it won't work<br />
just as root.<br />
<br />
The only solutation is writing a script that can switch<br />
to root, kill and return back:)<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ssellens</div><div class="date">8th August 2002, 14:18</div></div><div class="posttext">Hi,<br />
<br />
Slight error in that, the connection to root will be via a bshell still, this bshell will be killed along with the rest and your connection will be lost as well.  A better way is to write a shell script in Unix to look for and kill the bshells, however this can be dangerous as this could leave tables and records locked.  What database are you using? and for what reason do you need to kill the bshells?<br />
<br />
<br />
Steve</div></div><hr />


<div class="post"><div class="posttop"><div class="username">muheeb</div><div class="date">8th August 2002, 14:22</div></div><div class="posttext">I wrote an administration program that can show you a list<br />
<br />
of current users, so you can choose one or more in order to:<br />
1. send instant messages, 2. show session/process they run in Baan... and also I want to have the ability for BSP to kill.<br />
<br />
and yes I meant of course a UNIX shell script to do the <br />
switching.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ssellens</div><div class="date">8th August 2002, 14:31</div></div><div class="posttext">Hi,<br />
<br />
Sorry thought you were still talking about a baan session script.<br />
<br />
As for 2 of the 3 things you want to do, send a message and kill the users bshell, alg6.1 will do that.  As for what the user is running, unless your users are using ba6.1 (ascii) and not bw (windows) I don't think you can, but have never tried to look so am not 100% sure on that.<br />
<br />
Anyway best of luck, but I would recommend you have a look at alg6.1, even the script might give you some pointers.<br />
<br />
<br />
Steve</div></div><hr />


<div class="post"><div class="posttop"><div class="username">KO.SA.</div><div class="date">26th September 2002, 13:10</div></div><div class="posttext">hi for all<br />
Try to use it:<br />
<br />
ps -ef| grep bshell<br />
It show you the currents bshells and their pids...<br />
<br />
after use it to kill them:<br />
bshcmd6.1 -u1 -w1 -e PID<br />
<br />
also you can use this commando to see the users processes..<br />
bshcmd6.1 -u1 -w1 -p -s PID</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ssellens</div><div class="date">26th September 2002, 13:18</div></div><div class="posttext">Well you learn something new everyday in this job.<br />
<br />
Nice one KO.SA.<br />
<br />
<br />
Steve</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dstegink</div><div class="date">4th October 2002, 18:35</div></div><div class="posttext">check out all options for bshcmd, use bshcmd6.1 -U and/or bshcmd6.2 -U<br />
<br />
You can see processes on a bshell, and kill just one process running on a different bshell, among other things. <br />
<br />
fyi - alg6.1 is a unix script that is not part of the porting set. It is useful for sending messages and sending kill signals to bshells. <br />
<br />
Also, at least with bshcmd6.2 (5.0c), you need to be root to list processes, kill processes and send kills to bshells.<br />
<br />
I've attached my own bshcmd script to give you an idea of what you can do.  This has only been run on a 6.2 porting set on a Sun ksh. Good luck, and please post back any feedback on this script.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mbadillo</div><div class="date">12th October 2002, 01:15</div></div><div class="posttext">What's the format of bshcmd6.2 command in AS/400?<br />
Mario</div></div><hr />


<div class="post"><div class="posttop"><div class="username">NPRao</div><div class="date">12th October 2002, 03:35</div></div><div class="posttext">Ok guys, here is a simple solution and please use the search options on the Board for reference.<br />
<br />
<br />
#*************************************************<br />
# Platform : UNIX <br />
# Copyright 2002 - by N. Prashanth Rao<br />
# All Rights Reserved <br />
# Permission to use, copy, modify, and distribute this software <br />
# and its documentation for any purpose and without fee is <br />
# hereby granted, provided that the above copyright notice <br />
# appear in all copies and that both that copyright notice and this<br />
# permission notice appear in supporting documentation.  <br />
# N. Prashanth Rao and Baanboard.com DISCLAIM ALL <br />
# WARRANTIES WITH REGARD TO THIS  SOFTWARE, INCLUDING<br />
# ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND <br />
# FITNESS, IN NO EVENT SHALL N. Prashanth Rao nor <br />
# Baanboard.com BE LIABLE FOR ANY  SPECIAL, INDIRECT OR <br />
# CONSEQUENTIAL DAMAGES OR ANY DAMAGES  WHATSOEVER <br />
# RESULTING FROM LOSS OF USE, DATA OR PROFITS,  WHETHER <br />
# IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER  <br />
# TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH <br />
# THE USE  OR PERFORMANCE OF THIS SOFTWARE. <br />
#************************************************* <br />
# Shell script to kill all users in for a particular bshell<br />
# Author: N. Prashanth Rao<br />
#************************************************* <br />
# Shell Script for killing all BaaN Logins in an environment<br />
# Only Super Users - BSP/ROOT are authorized for killing the users<br />
# Author : N. Prashanth Rao<br />
if test $LOGNAME = &quot;bsp&quot; -o $LOGNAME = &quot;root&quot;<br />
then<br />
        if test $# -ne 1<br />
        then<br />
                echo &quot;Command Usage: bkillall bshell_abcd&quot;<br />
                exit<br />
        fi<br />
        clear<br />
for i in `ps -ef | grep $1 | grep -v &quot;grep bshell&quot;|awk '{print $2}'`<br />
# add another grep before awk if based on user id<br />
        do<br />
                echo &quot;Killing Process ID - ${i} \n&quot;<br />
                kill    -9      $i   # Sure Kill<br />
        #       kill    -15     $i  # Software Terminal Signal<br />
        done<br />
else<br />
echo &quot;Only-BSP/ROOT are authorized to use the BaaN Login Killer\n&quot;<br />
fi<br />
<br />
<br />
1. You need to have superuser id bit turned ON to be executed by bsp or root login should be used.<br />
<br />
2. Please be careful to use the kill -9 option, safe option is kill -15.<br />
<br />
Refer to the other postings -<br />
<br />
CODE: Show which session a user is running (http://www.baanboard.com/baanboard/showthread.php?s=&amp;threadid=1936) <br />
<br />
&gt; Sending broadcast message in GUI (http://www.baanboard.com/baanboard/showthread.php?s=&amp;threadid=5634) <br />
<br />
Backup procedure (http://www.baanboard.com/baanboard/showthread.php?s=&amp;threadid=5397) <br />
<br />
Restart Licence Deamon  (http://www.baanboard.com/baanboard/showthread.php?s=&amp;threadid=5451) <br />
<br />
<br />
You might also check the print job process or any background socket programs, for a proper shutdown of an environment -<br />
ps -ef | grep pdaemon6.2 [your version]<br />
and <br />
ps -ef | grep ba6.2 or bshell6.2 [your version]<br />
<br />
Do not use kill -9 (sure kill). This may be adversely affecting the license manager. Please use kill -15 (software termination kill).<br />
<br />
<br />
<br />
What's the format of bshcmd6.2 command in AS/400?<br />
<br />
use the help options based on your version, OS etc.<br />
$BSE/bin/bshcmd6.2 -?</div></div><hr />



</div>
</body>
</html>