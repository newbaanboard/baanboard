<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="Use of performance boosters - errors..., baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] Use of performance boosters - errors... Tools Administration &amp; Installation" />
	
	<title>Use of performance boosters - errors... [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Administration &amp; Installation</a> &gt; Use of performance boosters - errors...</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">r_nagu</div><div class="date">13th August 2004, 22:40</div></div><div class="posttext">Hi,<br />
	I know this is been discussed several times in the past but I am no sure whats happing in this particular situation I am having with the performance boosters.<br />
<br />
	Id been trying to implement the performance boosters using session Maintain use of performance Boosters (tcmcs0197m000). I have setup performance boosters for session Process Delivered Sales Orders (tdsls4223m000) in this session with Display interval set to 60, Number of servers set to 2 and Booster valid set to Manual &amp; Job Process. After setting this up when I run the process delivered sales orders session manually I get these two error messages and session just terminates:<br />
<br />
1. Error in starting server 1; error 0<br />
2. Couldn't create process. File=BW.EXE, Parameters=tdsls4224s000 1 2 1 1 0 100 tmp088769392 tmp088769393, Verb=NULL, Error=2<br />
<br />
When I run the same session in a job, the following error message is logged in log.ba6.1 file and the job just hangs:<br />
________________________________________________________________<br />
	2004-08-13[15:02:24]:E:bsp: ******* S T A R T of Error message *******<br />
2004-08-13[15:02:24]:E:bsp: Log message called from /view/port.6.1c.07.04/vobs/tt/ba/ba/baerrhand.c: #100 keyword: bshell message<br />
2004-08-13[15:02:24]:E:bsp: Pid 7580 Uid 125 Euid 125 Gid 125 Egid 125<br />
2004-08-13[15:02:24]:E:bsp: user_type S language 2 user_name bsp tty 4 locale ISO88591/NULL<br />
2004-08-13[15:02:24]:E:bsp: Errno 0 bdb_errno 0<br />
2004-08-13[15:02:24]:E:bsp: Log_mesg: Fatal error: Use of NULL pointer on ''<br />
2004-08-13[15:02:24]:E:bsp: ******* E N D of Error message *******<br />
2004-08-13[15:02:24]:E:bsp:<br />
2004-08-13[15:02:24]:E:bsp: ******* S T A R T of Error message *******<br />
2004-08-13[15:02:24]:E:bsp: Log message called from view/port.6.1c.07.04/vobs/tt/ba/ba/baerrhand.c: #100 keyword: bshell message<br />
2004-08-13[15:02:24]:E:bsp: Pid 7580 Uid 125 Euid 125 Gid 125 Egid 125<br />
2004-08-13[15:02:24]:E:bsp: user_type S language 2 user_name bsp tty 4 locale ISO88591/NULL<br />
2004-08-13[15:02:24]:E:bsp: Errno 0 bdb_errno 0<br />
2004-08-13[15:02:24]:E:bsp: Log_mesg: Fatal error: Can not continue in tdsls4224s000 in DLL: otfglddll4011 (get.company)<br />
2004-08-13[15:02:24]:E:bsp: ******* E N D of Error message *******<br />
2004-08-13[15:02:24]:E:bsp:<br />
2004-08-13[15:02:24]:E:bsp: ******* S T A R T of Error message *******<br />
2004-08-13[15:02:24]:E:bsp: Log message called from /view/port.6.1c.07.04/vobs/tt/ba/ba/baerrhand.c: #100 keyword: bshell message<br />
2004-08-13[15:02:24]:E:bsp: Pid 7580 Uid 125 Euid 125 Gid 125 Egid 125<br />
2004-08-13[15:02:24]:E:bsp: user_type S language 2 user_name bsp tty 4 locale ISO88591/NULL<br />
2004-08-13[15:02:24]:E:bsp: Errno 0 bdb_errno 0<br />
2004-08-13[15:02:24]:E:bsp: Log_mesg: Error:       tdsls4224s000: A not terminated transaction is aborted<br />
2004-08-13[15:02:24]:E:bsp: ******* E N D of Error message *******<br />
________________________________________________________________<br />
	I am not sure what step I am missing. We are on portingset 6.1c.07.04.<br />
<br />
	Please let me know what you guys think.<br />
<br />
Appreciate your help,<br />
NS</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dave_23</div><div class="date">13th August 2004, 22:53</div></div><div class="posttext">Do you have your password saved in your default BW configuration? that's required... <br />
<br />
but the error 2 makes me think maybe you do not have enough message queues configured.<br />
<br />
Check out Dikki Dick's Performance guide (sticky) down in the Performance Forum, it's got some info on what needs to be setup for these.<br />
<br />
also make sure you have the absolute latest tccomdll0200<br />
<br />
Dave</div></div><hr />


<div class="post"><div class="posttop"><div class="username">r_nagu</div><div class="date">13th August 2004, 22:58</div></div><div class="posttext">Dave,<br />
  Yes, i have the password saved. I will look at the tccomdll0200.<br />
<br />
Thanks,<br />
NS</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dikkie Dik</div><div class="date">14th August 2004, 22:54</div></div><div class="posttext">Also make sure that the BECS configuration is defauleted and that if you start BW from the DOS prompt, you start the correct Baan environment.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">r_nagu</div><div class="date">15th August 2004, 21:15</div></div><div class="posttext">Dave/Dikkie,<br />
	Thanks for your help. After I setup the PATH variable to point to where the BW.EXE file is, I was able to start bw from the dos prompt just by typing bw. Now, the performance boosters are working with out any errors but only when I run the session manually even though I have the Booster Valid field set to Manual &amp; Job Process. When run the same session in a job, I am still getting the same error messages I mentioned in my earlier post. Is it because we have BaaN running on a UNIX machine and there is not bw client there?<br />
<br />
Thanks for your help,<br />
NS</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dikkie Dik</div><div class="date">16th August 2004, 09:25</div></div><div class="posttext">If you start a job daemon, the BSE/bin should be in the path of the jobdaemon script to start a new bshell.<br />
<br />
As you discovered, a new BW will be started when starting from a PC, when startin a job daemon or job on UNIX level, this is not used, instead of the GUI interface (BW) interface, the ASCII interface (BA) is used.<br />
<br />
BTW. From 5.2 an onwards, the server processes will run without interface by default.<br />
<br />
Hope this helps,<br />
Dick</div></div><hr />


<div class="post"><div class="posttop"><div class="username">r_nagu</div><div class="date">16th August 2004, 17:21</div></div><div class="posttext">Dick,<br />
	I checked the path on the Unix machine and it does have the $BSE/bin.<br />
_________________________________________________________________<br />
baan02:/local/home/bsp $ echo $PATH<br />
/baanc/bse/bin:/baan/informix/bin:/baanx/oracle/product/8.0.5/bin:/baanx/oracle/product/8.0.5/bin:/baanc/bse/bin:/usr/bin::/opt/hpnpl/<br />
bin:/usr/ccs/bin:/baan_daids<br />
_________________________________________________________________<br />
<br />
	I can also start BaaN by just typing ba6.1. <br />
<br />
	I know Dave mentioned something about message queue configuration. Not sure how that works. Does anyone have a guide on this?<br />
<br />
Thanks for you help,<br />
NS</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dikkie Dik</div><div class="date">16th August 2004, 17:31</div></div><div class="posttext">Weird about the error. Anyway, the document can be found at Kernel doc (http://www.baanboard.com/baanboard/showthread.php?t=7696). <br />
<br />
Hope this helps,<br />
Dick</div></div><hr />


<div class="post"><div class="posttop"><div class="username">r_nagu</div><div class="date">16th August 2004, 18:33</div></div><div class="posttext">I just looked up the Kernel parameters on our system and I can see that the msgmax and msgmnb is already set.<br />
______________________________________________<br />
*BAAN CONFIG<br />
*               set test_module:debug = 0x13<br />
<br />
set rlim_fd_cur=1024<br />
set max_nprocs=1024<br />
set maxusers=256<br />
set shmsys:shminfo_shmmni=1024<br />
set msgsys:msginfo_msgmax=32768<br />
set msgsys:msginfo_msgmnb=32768<br />
set shmsys:shminfo_shmmax=131072000<br />
set shmsys:shminfo_shmmin=100<br />
set shmsys:shminfo_shmmni=100<br />
set shmsys:shminfo_shmseg=100<br />
set semsys:seminfo_semmap=64<br />
set semsys:seminfo_semmni=4096<br />
set semsys:seminfo_semmns=4096<br />
set semsys:seminfo_semmnu=4096<br />
set semsys:seminfo_semume=64<br />
______________________________________________<br />
	Are the values specified in the Kernel are high enough to handle the multiple bshells? Am I missing any other settings in the Kernel as far as the message queues go?<br />
<br />
Thanks for your help,<br />
NS</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dave_23</div><div class="date">16th August 2004, 19:24</div></div><div class="posttext">did you get a chance to check comdll0200? if there's going to be a problem with mutli bshell its usually with that..<br />
<br />
Dave</div></div><hr />


<div class="post"><div class="posttop"><div class="username">r_nagu</div><div class="date">16th August 2004, 19:47</div></div><div class="posttext">Dave,<br />
	Yes, I looked at the tccomdll0200 and the object I have is as of 02-03-2000. I know it is an old object but unfortunately we dont have BaaN support and cant get the new one. But, if the performance boosters are working when the session is run manually shouldnt the same apply to job? May be not.<br />
<br />
Thanks,<br />
NS</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dave_23</div><div class="date">16th August 2004, 21:12</div></div><div class="posttext">No, becuase of what you've seen with the BW.. In job mode it does not<br />
use the BW.. In 2003 major fixes were made which allowed it to basically &quot;Work&quot; for the first time since i've been using Baan..<br />
<br />
Dave</div></div><hr />


<div class="post"><div class="posttop"><div class="username">r_nagu</div><div class="date">16th August 2004, 21:58</div></div><div class="posttext">Thanks Dave. I guess I am going to have to try and get the latest dll.<br />
<br />
Thanks,<br />
NS</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dave_23</div><div class="date">16th August 2004, 22:29</div></div><div class="posttext">I think so.. I remember trying to get multibshell to work back in 2000, it was not fun, it just didn't work...<br />
<br />
Dave</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dikkie Dik</div><div class="date">17th August 2004, 08:51</div></div><div class="posttext">I wonder if log.comdll0200 says something interesting.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">r_nagu</div><div class="date">17th August 2004, 16:19</div></div><div class="posttext">Dave/Dick,<br />
	Thanks for your help. I got the performance boosters working now. Both for manual and job process. It turned out that I was not setting up the boosters properly which caused the job to crash.  <br />
             I got one more quick question. About the number of servers, I am not sure what is the ideal number. We have 4 cpus on our server and I tend to think that we should use 3 as number of servers. I am trying to find out how to determine the number servers.<br />
<br />
Thanks again,<br />
NS</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Dikkie Dik</div><div class="date">17th August 2004, 16:33</div></div><div class="posttext">Glad you made it. <br />
<br />
Regarding your question: it depends. It depens on:<br />
- other users/ processes. If there are other processes that need CPU, you should lower the number of CPU's.<br />
- if CPU's is the bottleneck. If you have another bottlneck like disk or memory, you can maybe better lower the number of CPU's<br />
- if you face locking contention.<br />
<br />
If no of these applies and you run in host mode (2-tier), you can use upto the number of CPU's of your system.<br />
<br />
When running in 3-tier, you can even use more. <br />
<br />
For all situations counts: only when you measure, you are sure.<br />
<br />
Hope it helps,<br />
Dick</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dave_23</div><div class="date">17th August 2004, 18:24</div></div><div class="posttext">Way to go, I'm impressed you can get it running with such an old comdll!<br />
<br />
I agree with Dick above.. never higher than # of CPUs and lower if you need CPUs for other things (even though the process won't take 100% of the cpu...)<br />
<br />
Dave</div></div><hr />



</div>
</body>
</html>