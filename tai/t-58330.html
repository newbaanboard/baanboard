<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="[exchange] Import tdpcg031, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] [exchange] Import tdpcg031 Tools Administration &amp; Installation" />
	
	<title>[exchange] Import tdpcg031 [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Administration &amp; Installation</a> &gt; [exchange] Import tdpcg031</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">Medtun</div><div class="date">27th April 2010, 14:36</div></div><div class="posttext">Hi all,<br />
While trying to import suppliers list price in tdpcg031, i gets the following error's message &quot; cannot find unit mt in unit group          .&quot;.<br />
Have you already faced this problem ? <br />
The unit is correct and it's the right unit for the item i'd like to import price.<br />
I have only one declared group unit : ELIT001. Offcourse, it contains the unit mt.<br />
Can you help me ?<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mmurphy2650</div><div class="date">28th April 2010, 20:56</div></div><div class="posttext">Hi all,<br />
While trying to import suppliers list price in tdpcg031, i gets the following error's message &quot; cannot find unit mt in unit group          .&quot;.<br />
Have you already faced this problem ? <br />
The unit is correct and it's the right unit for the item i'd like to import price.<br />
I have only one declared group unit : ELIT001. Offcourse, it contains the unit mt.<br />
Can you help me ?<br />
Thanks.<br />
<br />
Just a guess ... unit must be lowercase. Is your Unit MT? If so, try mt.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">litrax</div><div class="date">29th April 2010, 12:15</div></div><div class="posttext">I think we need more details, Medtun.<br />
I can only show you our config in &quot;ASCII File Fields&quot;:<br />
No.	ASCII Field	Field Type	Start. Pos.	Length<br />
10	pbor		Numeric		1		3<br />
20	prbk		Alphanumeric	4		9<br />
30	item		Alphanumeric	13		47<br />
40	otbp		Alphanumeric	60		9<br />
50	sfbp		Alphanumeric	69		9<br />
60	curn		Alphanumeric	78		3<br />
70	qtun		Alphanumeric	81		3<br />
80	miqt		Numeric		84		20<br />
90	efdt		Numeric		104		10<br />
100	brty		Numeric		114		3<br />
110	exdt		Numeric		117		10<br />
120	endt		Numeric		127		10<br />
130	bapr		Numeric		137		20<br />
140	prun		Alphanumeric	157		3<br />
150	dsor		Numeric		160		3<br />
160	dssc		Alphanumeric	163		9<br />
170	quon		Numeric		172		3<br />
180	hipr		Numeric		175		3<br />
190	refa		Alphanumeric	178		30<br />
200	sour		Alphanumeric	208		30<br />
210	dfpb		Numeric		238		3<br />
220	uolp		Numeric		241		3<br />
<br />
and a line of the file:<br />
i|1|PUR01|         100000|12345||EUR|km |0|1012010|1|0|1012010|37|km |1||2|2||Manuell|2|2<br />
<br />
Our Import Field Relations are 1:1.<br />
Can you post an exerpt of your file and your ASCII File Field config?<br />
<br />
Litrax</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Medtun</div><div class="date">29th April 2010, 13:25</div></div><div class="posttext">Good morning, thank you for your help.<br />
<br />
@Mike: my unit is lowercase. So it's ok.<br />
<br />
 This is how i do :<br />
- I export with Exchange the table tdpcg031. I generates automatically the file's structure wtih all the fields. i change nothing.<br />
- With a ACCESS query, i create a file with all field's table.<br />
- i create an import file and generates its fields automatically with exchange.<br />
- i import the file.<br />
<br />
So normally i should have no problem with fields.<br />
<br />
this is the structure i want to import :<br />
1^PA0000001^         2010005001001^T00020001^T00020001^TND^ mt ^0^1271419085^1^0^^034^ mt ^1^^2^2^^Manuel^1^2<br />
<br />
Thanks.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">litrax</div><div class="date">29th April 2010, 13:33</div></div><div class="posttext">Could it be that the unit is 4 spaces long?<br />
Normaly it's 3 spaces...<br />
<br />
Did you got the alignment right?<br />
<br />
( _ = space)<br />
<br />
Perhaps it should be mt_<br />
not _mt_<br />
<br />
Litrax</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Medtun</div><div class="date">29th April 2010, 16:43</div></div><div class="posttext">Even with &quot;_mt&quot; the situation is the same. and with &quot;mt&quot; too.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Peter Campbell</div><div class="date">30th April 2010, 11:08</div></div><div class="posttext">Hello,<br />
<br />
Read the error message again<br />
<br />
&quot; cannot find unit mt in unit group .&quot;.<br />
<br />
It is looking for mt in unit group &quot;&quot; so it has not got the correct unit group.<br />
<br />
Either see that it gets the correct unit group or put mt in unit group &quot;&quot;</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Medtun</div><div class="date">30th April 2010, 16:31</div></div><div class="posttext">Yes i saw this. But, the problem is that in table tdpcg031 there is no field for unit group.<br />
And as i said earlier, i have only one declared group unit : ELIT001. And it contains the unit mt.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">litrax</div><div class="date">3rd May 2010, 09:12</div></div><div class="posttext">What Peter (and the error message) meant was the Unit Set in Items - General.<br />
Please check if the field tcibd001.uset (Unit Set) is filled at all!<br />
Cause if the data in tcibd001 is incorrect you'll get problems everywhere...</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Medtun</div><div class="date">3rd May 2010, 16:59</div></div><div class="posttext">Hello, thank you for your help. <br />
I'm making the test with only two lines and two items. <br />
For both of them, warehousing unit is set &quot;mt&quot; in tcibd0101s000. &quot;mt&quot; belongs to a units group called &quot;ELIT01&quot;. This is the only unit group declared in the system. We don't have a unit group called &quot; &quot;.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Peter Campbell</div><div class="date">4th May 2010, 06:35</div></div><div class="posttext">Hello,<br />
<br />
This message is possibly from the DAL of tdpcg031.<br />
You can have a look and see what it needs.<br />
Add the table for the units to the exchange and fill the group field with ELIT001 in a condition.<br />
<br />
Regards<br />
<br />
Peter</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Medtun</div><div class="date">6th May 2010, 12:40</div></div><div class="posttext">I got an answer from Infor about my problem. I got a webex session with one person from Infor USA(in EMEA they were unable to answer me). They told me that with the parameters set on my system, it is not possible to import table tdpcg031. <br />
Now, i think i'm going to search the parameters to change so that the operation becomes possible as for many people.<br />
@Peter: could you please explain to me a bit more : Have i just to add units table in import schema and to put the &quot;ELIT001&quot; condition on ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Peter Campbell</div><div class="date">7th May 2010, 10:23</div></div><div class="posttext">Hello,<br />
<br />
this is the code in the DAL for tdcg031 where the error is comming from. The table field  tcibd001.uset is &quot;&quot; so you need to add the table tcibd001 to your exchange scheme and creat a import condition with:-<br />
<br />
tcibd001.uset = &quot;ELIT001&quot;<br />
return true<br />
<br />
or<br />
<br />
select tcibd001.*<br />
from   tcibd001<br />
where tcibd001.uset = &quot;ELIT001&quot;<br />
etc<br />
return true<br />
<br />
Hope this helps<br />
<br />
Peter<br />
<br />
	select  tcmcs012.cuni, tcmcs012.trad<br />
	from    tcmcs012<br />
	where   tcmcs012._index1 = {:tcibd001.uset, :tdpcg031.qtun}<br />
	selectdo<br />
		if tcmcs012.trad &lt;&gt; tcpeun.yes then<br />
			dal.set.error.message(&quot;tdpcgs0003&quot;, tdpcg031.qtun)<br />
			|* Unit %1$s cannot be used as quantity unit.<br />
			return(DALHOOKERROR)<br />
		endif<br />
	selectempty<br />
		dal.set.error.message(&quot;tdpcg00207&quot;, tdpcg031.qtun,<br />
		|* Unit %1$s not found in unit set %2$s.<br />
				       tcibd001.uset)<br />
		return (DALHOOKERROR)<br />
	endselect</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Medtun</div><div class="date">17th May 2010, 12:19</div></div><div class="posttext">Thank you peter, i'll try this asap.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">r.vandervegt</div><div class="date">2nd June 2010, 14:55</div></div><div class="posttext">@Medtun,<br />
<br />
How are you dealing with the date format.<br />
I also use a exchange scheme for pricebooks.<br />
but it is not handy for the enduser, because my date fields are in second<br />
(as from 01.01.1970) <br />
<br />
how do you deal with this?<br />
<br />
Kind Regards,<br />
Rooy</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Medtun</div><div class="date">2nd June 2010, 15:38</div></div><div class="posttext">you just have to convert the dates to unix timestamp.<br />
<br />
Many websites can do this for you :<br />
<br />
http://www.unixtimestamp.com/index.php</div></div><hr />


<div class="post"><div class="posttop"><div class="username">r.vandervegt</div><div class="date">3rd June 2010, 10:44</div></div><div class="posttext">Thanks medtun,<br />
<br />
But how to embedded this to ERP LN? is there some code?</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mmurphy2650</div><div class="date">3rd June 2010, 18:30</div></div><div class="posttext">@Medtun,<br />
<br />
How are you dealing with the date format.<br />
I also use a exchange scheme for pricebooks.<br />
but it is not handy for the enduser, because my date fields are in second<br />
(as from 01.01.1970) <br />
<br />
how do you deal with this?<br />
<br />
Kind Regards,<br />
Rooy<br />
<br />
Hi Rooy,<br />
<br />
In your Exchange Condition Script, you should be able to use one of date functions that are defined here ...<br />
<br />
http://www.baanboard.com/programmers_manual_baanerp_help_functions_date_time_zones_overview<br />
<br />
and here ...<br />
<br />
http://www.baanboard.com/programmers_manual_baanerp_help_functions_date_time_zones_synopsis<br />
<br />
Mike</div></div><hr />


<div class="post"><div class="posttop"><div class="username">r.vandervegt</div><div class="date">9th June 2010, 09:26</div></div><div class="posttext">thanks Mike,<br />
<br />
so if i read correctly, i can use this:<br />
( long utc, ref long yearno,  ref long monthno, ref long month_dayno,  ref long hours, ref long minutes,  ref long seconds )<br />
<br />
as an condition when exchange will give the desired output?<br />
<br />
am I correct?<br />
<br />
Thanks,<br />
Roy</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mmurphy2650</div><div class="date">9th June 2010, 15:05</div></div><div class="posttext">thanks Mike,<br />
<br />
so if i read correctly, i can use this:<br />
( long utc, ref long yearno,  ref long monthno, ref long month_dayno,  ref long hours, ref long minutes,  ref long seconds )<br />
<br />
as an condition when exchange will give the desired output?<br />
<br />
am I correct?<br />
<br />
Thanks,<br />
Roy<br />
<br />
Hi Roy,<br />
<br />
I'm assuming that you are exporting the data from LN to an ASCII file.<br />
<br />
If so, it may be easier to let Exchange convert the date from a UTC number to a formatted date for you. <br />
<br />
You can do this in the Exchange ASCII File Fields session by selecting your desired Date Format in the Numeric Format box.<br />
<br />
For example ... YYYYMMDD or MMDDYYYY.<br />
<br />
Mike</div></div><hr />


<div class="post"><div class="posttop"><div class="username">r.vandervegt</div><div class="date">9th June 2010, 16:07</div></div><div class="posttext">Hi Roy,<br />
<br />
I'm assuming that you are exporting the data from LN to an ASCII file.<br />
<br />
If so, it may be easier to let Exchange convert the date from a UTC number to a formatted date for you. <br />
<br />
You can do this in the Exchange ASCII File Fields session by selecting your desired Date Format in the Numeric Format box.<br />
<br />
For example ... YYYYMMDD or MMDDYYYY.<br />
<br />
Mike<br />
<br />
is it that simple? will try that.<br />
<br />
thanks<br />
<br />
Roy</div></div><hr />


<div class="post"><div class="posttop"><div class="username">r.vandervegt</div><div class="date">16th June 2010, 11:00</div></div><div class="posttext">Nope, this is not working</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mmurphy2650</div><div class="date">18th June 2010, 14:58</div></div><div class="posttext">Nope, this is not working<br />
<br />
It should work. Take a look at the attached Exchange Export Scheme for the Item - Purchase BP table.<br />
<br />
tdipu010.efdt - Effective Date - is being exported in YYYYMMDD format.<br />
tdipu010.exdt - Exp Date        - is being exported in Date Number format.<br />
<br />
Mike</div></div><hr />



</div>
</body>
</html>