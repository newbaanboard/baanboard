<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="AFS with Purchase Invoice, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] AFS with Purchase Invoice AFS/DDC/OLE: Function servers" />
	
	<title>AFS with Purchase Invoice [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="index.html">Newbaanboard</a> &gt; <a href="index.html">Baan SIGs</a> &gt; <a href="index.html">AFS/DDC/OLE: Function servers</a> &gt; AFS with Purchase Invoice</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">avishay</div><div class="date">15th March 2005, 16:13</div></div><div class="posttext">Hi<br />
I create AFS for the Purchase Invoice form (tfacp1110s000)<br />
I succeed to create new Header  and this look to work fine.<br />
Then (and before closing the session) ..<br />
I try to simulate the Lines button pushing by:<br />
.<br />
.<br />
.<br />
f1120s000.put.Debit_Credit( ltoe(invoice.dbcr) )<br />
.<br />
.<br />
f1110s000.handle.sub.process( &quot;exec.cont.process&quot;, &quot;add&quot; )<br />
f1120s000.insert( 1, error.string )<br />
<br />
 I put all the value and I get error: Batch Number not allowed<br />
Its seem that the child form Purchase Invoice Transactions (tfacp1120s000) <br />
Dont have the value from the Parent!!!!!!<br />
<br />
Any suggestion<br />
<br />
Avishay Rotshtain<br />
<br />
======================= <br />
My Email is : avirot@gmail.com <br />
Phone Number : 0 (972) 4-83106324 <br />
Icq Number : 13-753-183 <br />
MSN Messenger : hi2you@hotmail.com <br />
Yahoo Messenger : avishayrotshtain@yahoo.com <br />
AOL Screen Name : avishayrot <br />
Skype : avishayrot <br />
=======================</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">15th March 2005, 16:21</div></div><div class="posttext">Did a quick search of the forum(looking for tfacp1110s000) and found this post (http://www.baanboard.com/baanboard/showthread.php?t=14084&amp;highlight=tfacp1110s000).  Check out the post by dstroud and see if it helps.<br />
<br />
Mark</div></div><hr />


<div class="post"><div class="posttop"><div class="username">avishay</div><div class="date">17th March 2005, 11:20</div></div><div class="posttext">the thred didnt help<br />
<br />
when i open the sub session tfacp1120s000 by the follow code it bring error - Command disabled<br />
the code:<br />
.....<br />
stpapi.handle.subproc(&quot;tfacp1110s000&quot;,&quot;tfacp1120s000&quot;,&quot;add&quot;)<br />
stpapi.continue.process(&quot;tfacp1110s000&quot;, gapi.error.code)<br />
....<br />
<br />
the error log show:<br />
<br />
<br />
17-03-2005<br />
259-&gt;get.fields<br />
259&lt;-get.fields0tfacp200.ttyp0tfacp200.ninv1tfacp200.appr1<br />
tfacp200.docd1tfacp200.orno1tfacp200.shpm1tfacp200.ifbp<br />
1tfacp200.dued1tfacp200.isup1tfacp200.refr1tfacp200.lvat<br />
1tfacp200.vatc1tfacp200.cvat1tfacp200.vaty1tfacp200.vatp<br />
1tfacp200.ccur1tfacp200.rade1form.rate1screen.amnt<br />
1screen.vata1tfacp200.cpay1tfacp200.ccrs1tfacp200.paym<br />
1tfacp200.reas1tfacp200.ptbp1tfacp200.bank1<br />
tfacp200.otbp1tfacp200.subc1tfacp200.otyp1tfacp200.oinv<br />
1tfacp200.bloc1tfacp200.bref1tfacp200.bdat1<br />
<br />
&gt;tfacp1110s000 put.field:tfacp200.ninv 0<br />
&gt;tfacp1110s000 put.field:tfacp200.appr 1<br />
&gt;tfacp1110s000 put.field:tfacp200.docd 731718<br />
&gt;tfacp1110s000 put.field:tfacp200.orno          <br />
&gt;tfacp1110s000 put.field:tfacp200.dued 731792<br />
&gt;tfacp1110s000 put.field:tfacp200.shpm                               <br />
&gt;tfacp1110s000 put.field:tfacp200.ifbp 20300728<br />
&gt;tfacp1110s000 put.field:tfacp200.isup 999999              <br />
&gt;tfacp1110s000 put.field:tfacp200.refr 999999/9845/0441473485        <br />
&gt;tfacp1110s000 put.field:tfacp200.lvat 2<br />
&gt;tfacp1110s000 put.field:tfacp200.ccur NIS<br />
&gt;tfacp1110s000 put.field:tfacp200.vatc <br />
&gt;tfacp1110s000 put.field:tfacp200.cvat <br />
&gt;tfacp1110s000 put.field:tfacp200.rade 6<br />
&gt;tfacp1110s000 put.field:tfacp200.vaty 2006<br />
&gt;tfacp1110s000 put.field:tfacp200.vatp 3<br />
&gt;tfacp1110s000 put.field:screen.amnt 2667<br />
&gt;tfacp1110s000 insert<br />
259-&gt;add.set<br />
259&lt;-add.set01<br />
&lt;tfacp1110s000 <br />
&gt;tfacp1110s000 save<br />
259-&gt;update.db<br />
259&lt;-update.db0<br />
&lt;tfacp1110s000 <br />
&gt;tfacp1110s000 get.field:tfacp200.ninv<br />
&lt;tfacp1110s000 get.field:tfacp200.ninv=10469<br />
&gt;tfacp1110s000 handle.subproc tfacp1120s000 add<br />
&gt;tfacp1110s000 continue.process<br />
259-&gt;cont.process<br />
259&lt;-cont.process1<br />
&lt;tfacp1110s000 Command disabled<br />
260-&gt;get.fields<br />
260&lt;-get.fields0tfgld102.cono0tfgld102.year0tfgld102.btno0<br />
tfgld102.ttyp0tfgld102.docn0tfgld102.lino1tfgld102.srno0<br />
tfgld102.serl0tfgld102.tcom1tfgld102.leac1tfgld102.dim11<br />
tfgld102.dim21tfgld102.dim31tfgld102.dim41tfgld102.dim51<br />
tfgld102.ccty1tfgld102.cvat1amount1tfgld102.dbcr1<br />
tfgld102.vamt1tfgld102.refr1tfgld102.qty11tfgld102.qty2<br />
1tfgld102.fyer1tfgld102.fprd1tfgld102.ryer1tfgld102.rprd1<br />
&gt;tfacp1120s000 put.field:tfgld102.leac 40213143    <br />
&gt;tfacp1120s000 put.field:tfgld102.dim1 5520  <br />
&gt;tfacp1120s000 put.field:tfgld102.dim2       <br />
&gt;tfacp1120s000 put.field:tfgld102.dim3 RTHC05<br />
&gt;tfacp1120s000 put.field:tfgld102.ccty ISR<br />
&gt;tfacp1120s000 put.field:tfgld102.cvat          <br />
&gt;tfacp1120s000 put.field:amount 2667<br />
&gt;tfacp1120s000 put.field:tfgld102.dbcr 1<br />
&gt;tfacp1120s000 put.field:tfgld102.vamt 0<br />
&gt;tfacp1120s000 put.field:tfgld102.refr /9845<br />
&gt;tfacp1120s000 put.field:tfgld102.fyer 2006<br />
&gt;tfacp1120s000 put.field:tfgld102.fprd 3<br />
&gt;tfacp1120s000 insert<br />
260-&gt;add.set+save<br />
260&lt;-add.set+save1<br />
&lt;tfacp1120s000 Batch Number not allowed</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">17th March 2005, 14:35</div></div><div class="posttext">I would try to get an updated object for this session.  The continue command should work.  <br />
<br />
Mark</div></div><hr />



</div>
</body>
</html>