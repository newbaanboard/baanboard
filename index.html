<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta name="google-site-verification" content="slPudApeqkhuPJ_I_nKup1fDjrTT0QwfcdvrL084z64" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="The most professional and active online Baan community" />
	<title>Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="index.html">Newbaanboard</a></div>
<hr />
<div class="pda"></div>

<div id="content">
<script async src="https://cse.google.com/cse.js?cx=75ac9607708b1455d">
</script>
<div class="gcse-search"></div></p>
	<h2>Buscar en Baanboard</h2>
<input type="text" id="search-input" placeholder="Escribe un título o palabra clave..." style="width: 100%; padding: 10px; margin-bottom: 20px;">
<div id="search-results">
    <p>La función de búsqueda se cargará aquí...</p>
</div>
<ul>
	<li><a style="font-weight:bold">General Topics</a>
	<ul>
		<li><a href="gdc/f-20.html">General Discussion &amp; Chat</a></li>
		<li><a href="ab/f-12.html">About Baanboard.com</a></li>
	</ul>
	</li>
	<li><a style="font-weight:bold">CMS - Forum Integration</a>
	<ul>
		<li><a href="past/f-79.html">Pages and Stories</a></li>
		<li><a href="bawl/f-80.html">Blogs and Web links</a></li>
		<li><a href="jar/f-10.html">Jobs and Resumes</a></li>
		<li><a href="pas/f-70.html">Polls and Surveys</a></li>
	</ul>
	</li>
	<li><a style="font-weight:bold">Baan Quick Support: Functional &amp; Technical</a>
	<ul>
		<li><a href="dw/f-13.html">DEM &amp; Workflow</a></li>
		<li><a href="dtw/f-6.html">Distribution, Transportation &amp; Warehousing</a></li>
		<li><a href="fii/f-5.html">Finance, Invoicing and Integration</a></li>
		<li><a href="owpdm/f-15.html">Open World, Portal &amp; Decision Manager</a></li>
		<li><a href="msc/f-7.html">Manufacturing &amp; Supply Chain</a></li>
		<li><a href="fm/f-81.html">Freight Management</a></li>
		<li><a href="ps/f-18.html">Project &amp; Services</a></li>
		<li><a href="osd/f-4.html">Operating Systems &amp; Databases</a></li>
		<li><a href="tai/f-2.html">Tools Administration &amp; Installation</a></li>
		<li><a href="td/f-8.html">Tools Development</a></li>
		<li><a href="m/f-9.html">Miscellaneous</a></li>
	</ul>
	</li>
	<li><a style="font-weight:bold">BB Language Forums</a>
	<ul>
		<li><a href="blf/f-65.html">Deutsches Forum</a></li>
		<li><a href="blf/f-66.html">Forum francais</a></li>
		<li><a href="blf/f-67.html">Nederlandstalig forum</a></li>
		<li><a href="blf/f-68.html">Forum italiano</a></li>
		<li><a href="blf/f-69.html">Forum español</a></li>
		<li><a href="blf/f-74.html">&#3652;&#3607;&#3618;&#3615;&#3629;&#3619;&#3633;&#3617;</a></li>
	</ul>
	</li>
	<li><a style="font-weight:bold">Local User Groups &amp; Software</a>
	<ul>
		<li><a href="i/f-77.html">India</a></li>
		<li><a href="r/f-82.html">Russia</a></li>
	</ul>
	</li>
	<li><a style="font-weight:bold">Baan SIGs</a>
	<ul>
		<li><a href="f-59.html">AFS/DDC/OLE: Function servers</a></li>
		<li><a href="f-32.html">Archiving &amp; Multisite</a></li>
		<li><a href="f-39.html">Baan CRM &amp; Front-Office</a></li>
		<li><a href="f-33.html">Code &amp; Utilities</a></li>
		<li><a href="f-63.html">Enhancements</a></li>
		<li><a href="f-83.html">ION</a></li>
		<li><a href="f-61.html">Performance &amp; Tuning</a></li>
		<li><a href="f-24.html">Third Party Products</a></li>
		<li><a href="f-62.html">Verticals</a></li>
	</ul>
	</li>
	<li><a style="font-weight:bold">Various</a>
	<ul>
		<li><a href="bte/f-22.html">Baan &amp; the EURO</a></li>
		<li><a href="bspjoe/f-36.html">Baan vs SAP, Peoplesoft, JDE, Oracle etc</a></li>
		<li><a href="c/f-71.html">Cordys</a></li>
	</ul>
	</li>
</ul>
</div>


</div>
	<script src="https://unpkg.com/lunr/lunr.js"></script>

<script src="https://unpkg.com/lunr/lunr.js"></script>

<script>
    var idx; // Índice Lunr
    var data = []; // Datos originales
    const INDEX_KEY = 'lunrIndex_baanboard'; // Clave para LocalStorage
    const DATA_KEY = 'lunrData_baanboard'; // Clave para los datos originales

    function loadIndexFromLocalStorage() {
        try {
            // Intenta cargar el índice Lunr y los datos desde LocalStorage
            var storedIdx = localStorage.getItem(INDEX_KEY);
            var storedData = localStorage.getItem(DATA_KEY);

            if (storedIdx && storedData) {
                // 1. Carga instantánea si está en caché
                idx = lunr.Index.load(JSON.parse(storedIdx));
                data = JSON.parse(storedData);
                console.log("✅ Índice cargado rápidamente desde LocalStorage.");
                return true;
            }
            return false;
        } catch (e) {
            console.error("Error al cargar desde LocalStorage. Descargando de nuevo.", e);
            return false;
        }
    }

    function downloadAndBuildIndex() {
        // 2. Descargar y construir si no está en caché
        fetch('/baanboard/search_index.json')
            .then(response => response.json())
            .then(docs => {
                data = docs;
                
                // Construir el índice
                idx = lunr(function () {
                    this.ref('id');
                    this.field('title', { boost: 10 });
                    this.field('content');
                    
                    docs.forEach(function (doc) {
                        this.add(doc)
                    }, this);
                });
                
                // 3. Guardar en LocalStorage para futuras visitas
                try {
                    localStorage.setItem(INDEX_KEY, JSON.stringify(idx));
                    localStorage.setItem(DATA_KEY, JSON.stringify(data));
                    console.log("✅ Índice construido y guardado en LocalStorage.");
                } catch (e) {
                    console.error("Advertencia: No se pudo guardar el índice en LocalStorage (posiblemente demasiado grande).", e);
                }
            })
            .catch(error => {
                console.error('Error fatal al cargar el índice JSON:', error);
                document.getElementById('search-results').innerHTML = '<p style="color: red;">Error: La función de búsqueda no pudo cargar los datos.</p>';
            });
    }

    // --- Lógica Principal ---
    if (!loadIndexFromLocalStorage()) {
        downloadAndBuildIndex();
    }
    
    // --- Escucha de Eventos (La función de búsqueda en sí) ---
    document.getElementById('search-input').addEventListener('keyup', function () {
        var query = this.value;
        var resultsContainer = document.getElementById('search-results');
        resultsContainer.innerHTML = '';

        if (!idx) {
             resultsContainer.innerHTML = '<p>Cargando motor de búsqueda...</p>';
             return;
        }
        if (query.length < 3) {
            resultsContainer.innerHTML = '<p>Escribe al menos 3 caracteres para iniciar la búsqueda.</p>';
            return;
        }

        var searchResults = idx.search(query);

        if (searchResults.length === 0) {
            resultsContainer.innerHTML = '<p>No se encontraron resultados para "' + query + '".</p>';
        } else {
            var html = '<ul>';
            searchResults.forEach(function (result) {
                var doc = data.find(item => item.id == result.ref);
                if (doc) {
                    html += '<li>';
                    html += '<h3><a href="' + doc.url + '">' + doc.title + '</a></h3>';
                    html += '<p>' + doc.content.substring(0, 250) + '...</p>';
                    html += '</li>';
                }
            });
            html += '</ul>';
            resultsContainer.innerHTML = html;
        }
    });
</script>
</body>
</html>
