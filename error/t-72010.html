<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="LN7 / ION - DAL.New and workflow, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] LN7 / ION - DAL.New and workflow Tools Development" />
	
	<title>LN7 / ION - DAL.New and workflow [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Tools Development</a> &gt; LN7 / ION - DAL.New and workflow</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">ronanboyle</div><div class="date">26th June 2019, 18:40</div></div><div class="posttext">Hello All<br />
I am using dal.new.object to add to adjustment order lines as follows<br />
<br />
ret = dal.new.object(&quot;whinh521&quot;)<br />
dal.set.field(&quot;whinh521.orno&quot;,whinh520.orno)<br />
dal.set.field(&quot;whinh521.pono&quot;,tibom310.pono)<br />
 dal.set.field(&quot;whinh521.cwar&quot;,whinh520.cwar)<br />
dal.set.field(&quot;whinh521.item&quot;,tibom310.sitm)<br />
dal.set.field(&quot;whinh521.qvrc&quot;,tibom310.qana)<br />
dal.set.field(&quot;whinh521.qvrr&quot;,tibom310.qana)<br />
                        	        <br />
ret = dal.save.object(&quot;whinh521&quot;)<br />
if not ret then<br />
else<br />
show.dal.messages(MSG.ALL)<br />
endif<br />
                                        <br />
This works fine until I turn on an ION workflow on adjustment order lines. <br />
It then fails with the following message<br />
<br />
Adjustment Order: Database error 221 occurred.<br />
Adjustment Order: Record ['ADJ000485', 10] cannot be saved in table Adjustment Order Lines in company 4001.<br />
<br />
When I look at the table whinh521 in general table maintenance, it now shows a Workflow status field though it is not actually part of the table. How can I get it to just set the default workflow status when I add using dal.new.object?<br />
<br />
Any help appreciated<br />
<br />
Thanks<br />
Ronan</div></div><hr />


<div class="post"><div class="posttop"><div class="username">ARijke</div><div class="date">27th June 2019, 09:23</div></div><div class="posttext">Hi Ronan,<br />
You say: This works fine until I turn on an ION workflow on adjustment order lines. <br />
Actually this relates to activating a deployment in the OCM module of the LN Tools.<br />
At that moment additional tables are created to store 'checked out' data and the workflow status is shown. I do not remember it by heart, most likely you need to set  a flag on which you tell the LN Tools that these extra tables need to be used.<br />
I found &quot;dbcm_select_object_type&quot;. please investigate on this, otherwise raise an incident.<br />
Regards, Adriaan</div></div><hr />


<div class="post"><div class="posttop"><div class="username">Ajesh</div><div class="date">29th June 2019, 13:49</div></div><div class="posttext">You have written this dal.new part where? In a dll? And are you invoking a Standard WF or a Customized one? <br />
<br />
And checking the eventviewer would give a better idea about the DB Error 221</div></div><hr />


<div class="post"><div class="posttop"><div class="username">dhruv_x0</div><div class="date">4th October 2020, 19:38</div></div><div class="posttext">Hi Ronan,<br />
Did you find any solution for this error 221 on adjustment lines? I am also facing the same issue. Any help is appreciated.<br />
<br />
Thank You,</div></div><hr />



</div>
</body>
</html>