<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="AFS Field Value disappeared after putting into Field, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] AFS Field Value disappeared after putting into Field AFS/DDC/OLE: Function servers" />
	
	<title>AFS Field Value disappeared after putting into Field [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="index.html">Newbaanboard</a> &gt; <a href="index.html">Baan SIGs</a> &gt; <a href="index.html">AFS/DDC/OLE: Function servers</a> &gt; AFS Field Value disappeared after putting into Field</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">infatuated01</div><div class="date">10th February 2018, 10:27</div></div><div class="posttext">Hi,<br />
<br />
I am facing a problem that when I put a value into a field using AFS and then use save command, the value that I put disappeared from the field but when I use get.field command from AFS it's still there but after saving it's gone.<br />
<br />
P.S. more information in note.<br />
<br />
Best Regards,<br />
Kanutm Setasathian<br />
<br />
|**** OUTBOUND.ADVICE = whinh4525m000<br />
|order<br />
stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.oorg&quot;, str$(whinh200.oorg))<br />
stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.orno&quot;, str$(whinh200.orno))<br />
stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.oset&quot;, str$(whinh200.oset))<br />
<br />
|order line<br />
stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.pono&quot;, str$(whinh220.pono))<br />
stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.seqn&quot;, str$(whinh220.seqn))<br />
<br />
|advice<br />
stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.sern&quot;, str$(advice))<br />
<br />
stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.locf&quot;, str$(whinr140.loca))<br />
<br />
|to location<br />
stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.loct&quot;, &quot;LOD007&quot;)<br />
<br />
|Item<br />
stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.item&quot;, str$(whinr140.item))<br />
<br />
|Inventory date<br />
stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.idat&quot;, str$(whinr140.idat))<br />
<br />
|advice quantity<br />
stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.qads&quot;, str$(advised.quantity))<br />
stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.quni&quot;, str$(whinh220.orun))<br />
<br />
|Run<br />
stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.runn&quot;, str$(run))<br />
ret = stpapi.insert(OUTBOUND.ADVICE, true, error.msg)</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">12th February 2018, 00:46</div></div><div class="posttext">Check out this http://www.baanboard.com/baanboard/showthread.php?t=25556&amp;highlight=whinh4525m000 thread to see if it helps.  It talks about synchronized dialog.</div></div><hr />


<div class="post"><div class="posttop"><div class="username">infatuated01</div><div class="date">12th February 2018, 13:08</div></div><div class="posttext">Thank for the reply mark.<br />
But I am sorry for lack of information because I already tried synchronized dialog and then I got different sales order that I put in there. More information below.<br />
<br />
Input that I put in .<br />
<br />
whinh4201m0i0: Generate Outbound Advice (Knk): oorg : 1 (Sales)<br />
whinh4201m0i0: Generate Outbound Advice (Knk): orno : CSO001281 <br />
whinh4201m0i0: Generate Outbound Advice (Knk): oset : 1<br />
whinh4201m0i0: Generate Outbound Advice (Knk): pono : 10<br />
whinh4201m0i0: Generate Outbound Advice (Knk): seqn : 0<br />
whinh4201m0i0: Generate Outbound Advice (Knk): advice : 1<br />
whinh4201m0i0: Generate Outbound Advice (Knk): warehouse : 5-FG  <br />
whinh4201m0i0: Generate Outbound Advice (Knk): from location : A1101     <br />
whinh4201m0i0: Generate Outbound Advice (Knk): lot : L20170830-001       <br />
whinh4201m0i0: Generate Outbound Advice (Knk): to location : LOD007<br />
whinh4201m0i0: Generate Outbound Advice (Knk): item :          321-DVA                               <br />
whinh4201m0i0: Generate Outbound Advice (Knk): idat : 1504072800<br />
whinh4201m0i0: Generate Outbound Advice (Knk): advised advised : 300<br />
whinh4201m0i0: Generate Outbound Advice (Knk): orun : pcs<br />
whinh4201m0i0: Generate Outbound Advice (Knk): RUN : O20180212001<br />
<br />
<br />
and <br />
<br />
whinh4201m0i0: Generate Outbound Advice (Knk): oorg : 1 (Sales)<br />
whinh4201m0i0: Generate Outbound Advice (Knk): orno : CSO001281<br />
whinh4201m0i0: Generate Outbound Advice (Knk): oset : 1<br />
whinh4201m0i0: Generate Outbound Advice (Knk): pono : 10<br />
whinh4201m0i0: Generate Outbound Advice (Knk): seqn : 0<br />
whinh4201m0i0: Generate Outbound Advice (Knk): advice : 2<br />
whinh4201m0i0: Generate Outbound Advice (Knk): warehouse : 5-FG  <br />
whinh4201m0i0: Generate Outbound Advice (Knk): from location : B1101     <br />
whinh4201m0i0: Generate Outbound Advice (Knk): lot : L20170830-002       <br />
whinh4201m0i0: Generate Outbound Advice (Knk): to location : LOD007<br />
whinh4201m0i0: Generate Outbound Advice (Knk): item :          321-DVA                               <br />
whinh4201m0i0: Generate Outbound Advice (Knk): idat : 1504075922<br />
whinh4201m0i0: Generate Outbound Advice (Knk): advised advised : 60<br />
whinh4201m0i0: Generate Outbound Advice (Knk): orun : pcs<br />
whinh4201m0i0: Generate Outbound Advice (Knk): RUN : O20180212001<br />
<br />
<br />
Error that I got when I used synchronized dialog.<br />
<br />
whinh4201m0i0: Generate Outbound Advice (Knk): insert Specified &quot;To Location&quot; not found in &quot;Locations&quot;. Enter another &quot;To Location&quot;.<br />
whinh4201m0i0: Generate Outbound Advice (Knk): error : Specified &quot;To Location&quot; not found in &quot;Locations&quot;. Enter another &quot;To Location&quot;.<br />
<br />
<br />
But I have &quot;LOD007&quot; in database.<br />
<br />
Here's my code when I was using synchronized dialog.<br />
<br />
ret = stpapi.synchronize.dialog(OUTBOUND.ADVICE, &quot;add&quot;, error.msg) <br />
if (advised.quantity &lt;&gt; 0 ) then<br />
<br />
	<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.oorg&quot;, str$(whinh200.oorg))<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.orno&quot;, str$(whinh200.orno))<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.oset&quot;, str$(whinh200.oset))<br />
	<br />
	<br />
<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.pono&quot;, str$(whinh220.pono))<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.seqn&quot;, str$(whinh220.seqn))<br />
<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.sern&quot;, str$(advice))<br />
	<br />
<br />
<br />
	<br />
	|from location<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.locf&quot;, str$(whinr140.loca))<br />
	<br />
	<br />
<br />
	<br />
	<br />
	|to location<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.loct&quot;, &quot;LOD007&quot;)<br />
	<br />
<br />
	|Item<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.item&quot;, str$(whinr140.item))<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	|Inventory date<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.idat&quot;, str$(whinr140.idat))<br />
	<br />
	<br />
	|advice quantity<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.qads&quot;, str$(advised.quantity))<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.quni&quot;, str$(whinh220.orun))<br />
	<br />
	|Run<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.runn&quot;, str$(run))<br />
<br />
<br />
	<br />
	ret = stpapi.insert(OUTBOUND.ADVICE, true, error.msg)<br />
<br />
	advice = advice + 1 <br />
endif<br />
<br />
if (not isspace(error.msg)) then<br />
<br />
	message(&quot;error : &quot; &amp; error.msg)<br />
endif<br />
<br />
-----------------------------------------------------------------------<br />
And here's my error when I did not use synchronized dialog.<br />
<br />
	whinh4201m0i0: Generate Outbound Advice (Knk): error : Change the value of the Set field.\n\nReason: Warehousing order header (Sales  / 1) does not exist.<br />
<br />
It seems that my whinh225.orno disappeared while inserting data using AFS.<br />
<br />
Here my full code when I do not use synchronized dialog.<br />
<br />
|*** Flow Data come from above<br />
<br />
if (advised.quantity &lt;&gt; 0 ) then<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.oorg&quot;, str$(whinh200.oorg))<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.orno&quot;, str$(whinh200.orno))<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.oset&quot;, str$(whinh200.oset))<br />
<br />
<br />
<br />
	|order line<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.pono&quot;, str$(whinh220.pono))<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.seqn&quot;, str$(whinh220.seqn))<br />
<br />
	|advice<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.sern&quot;, str$(advice))<br />
<br />
	|warehouse<br />
	|stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.cwar&quot;, str$(whinr140.cwar))<br />
<br />
<br />
	|from location<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.locf&quot;, str$(whinr140.loca))<br />
<br />
<br />
<br />
	|to location<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.loct&quot;, &quot;LOD007&quot;)<br />
<br />
<br />
	|Item<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.item&quot;, str$(whinr140.item))<br />
<br />
<br />
<br />
<br />
<br />
<br />
	|Inventory date<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.idat&quot;, str$(whinr140.idat))<br />
<br />
<br />
	|advice quantity<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.qads&quot;, str$(advised.quantity))<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.quni&quot;, str$(whinh220.orun))<br />
<br />
	|Run<br />
	stpapi.put.field(OUTBOUND.ADVICE, &quot;whinh225.runn&quot;, str$(run))<br />
<br />
<br />
<br />
<br />
<br />
	ret = stpapi.insert(OUTBOUND.ADVICE, true, error.msg)<br />
<br />
<br />
	advice = advice + 1 <br />
endif<br />
<br />
if (not isspace(error.msg)) then<br />
<br />
	message(&quot;error : &quot; &amp; error.msg)<br />
endif<br />
<br />
<br />
Sorry In advance .</div></div><hr />


<div class="post"><div class="posttop"><div class="username">mark_h</div><div class="date">12th February 2018, 15:02</div></div><div class="posttext">My first thought is that you would need the synchronized dialog so that the sessions could communicate with each other.  I really do not have any knowledge of your version.  But what went through my mind was if that location you are putting to the screen might need to formatted correctly first or have a variable in the domain you need.  I know in my case on 4c4 I convert something like &quot;123456&quot; and make in &quot;  123456&quot; - I no longer recall if I had to do that to make it work or if just did it out of habit when writing API code.</div></div><hr />



</div>
</body>
</html>