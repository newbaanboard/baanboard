<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="keywords" content="AFS hangs in in UI but for client works, baan,baanerp,erp,forum,discussion,bulletin board" />
	<meta name="description" content="[Archive] AFS hangs in in UI but for client works Distribution, Transportation &amp; Warehousing" />
	
	<title>AFS hangs in in UI but for client works [Archive]  - Baanboard.com</title>
	<link rel="stylesheet" type="text/css" href="../styles.css" />
</head>
<body>
<div class="pagebody">
<div id="navbar"><a href="../index.html">Newbaanboard</a> &gt; <a href="../index.html">Baan Quick Support: Functional &amp; Technical</a> &gt; <a href="../index.html">Distribution, Transportation &amp; Warehousing</a> &gt; AFS hangs in in UI but for client works</div>
<hr />
<div class="pda"></div>

<hr />

<div class="post"><div class="posttop"><div class="username">BeznaWarrior</div><div class="date">16th December 2017, 14:58</div></div><div class="posttext">Hello guys,<br />
<br />
I know that afs is not supported in UI but I haven't encounter any problems untill now. The problem is that my afs program runs smoothly in client but hangs forever and ever in web browser. The session that I run via APi is standard cisli2405m000 Reprint invoice or something.<br />
The code is<br />
	stpapi.put.field(&quot;cisli2405m000&quot;, &quot;f.sls.inv.company&quot;, str$(sfcp)) <br />
	stpapi.put.field(&quot;cisli2405m000&quot;, &quot;f.reprint.option&quot;,  str$(etol(cisli.rprn.by.invoice))) 	<br />
	stpapi.put.field(&quot;cisli2405m000&quot;, &quot;prnt.lang&quot;,  str$(etol(cisli.lang.bpct))) <br />
	<br />
	<br />
	stpapi.put.field(&quot;cisli2405m000&quot;, &quot;f.fin.company.f&quot;, str$(sfcp)) <br />
	stpapi.put.field(&quot;cisli2405m000&quot;, &quot;f.fin.company.t&quot;, str$(sfcp)) <br />
	<br />
	stpapi.put.field(&quot;cisli2405m000&quot;, &quot;f.trans.type.f&quot;, tdsls406.ttyp) <br />
	stpapi.put.field(&quot;cisli2405m000&quot;, &quot;f.trans.type.t&quot;, tdsls406.ttyp) <br />
	stpapi.put.field(&quot;cisli2405m000&quot;, &quot;f.document.f&quot;, str$(tdsls406.invn))<br />
	stpapi.put.field(&quot;cisli2405m000&quot;, &quot;f.document.t&quot;, str$(tdsls406.invn))<br />
	stpapi.put.field(&quot;cisli2405m000&quot;, &quot;date.t&quot;, str$(utc.num()))<br />
	stpapi.put.field(&quot;cisli2405m000&quot;, &quot;f.print.device&quot;, device)<br />
	stpapi.put.field(&quot;cisli2405m000&quot;, &quot;f.excp.device&quot;, device)<br />
|	stpapi.set.report(&quot;cisli2405m000&quot;, &quot;rcisli12002300&quot;, &quot;T&quot;, error.msg) <br />
<br />
	device = &quot;ASCIT         &quot;<br />
	stpapi.set.report(&quot;cisli2405m000&quot;, &quot;rcisli12001100&quot;, device, error.msg) <br />
	if isspace(error.msg) then         <br />
		suspend(5000)<br />
		message(&quot;Ii dau play&quot;)<br />
		stpapi.form.command(&quot;cisli2405m000&quot;,5, &quot;exec.cont.process&quot;, error.msg)   <br />
		message(&quot;I-am dat continua&quot;)<br />
		suspend(5000)<br />
	endif <br />
	stpapi.end.session(&quot;cisli2405m000&quot;)<br />
	<br />
	if tc.is.html.ui()	then										|HTMLUI.sn<br />
		copy_to_local = client.prepare.download()						|20171216.o<br />
		retx = client.add.download.file(copy_to_local, bse.tmp.dir$() &amp; file.name)		|20171216.o	<br />
		retx = client.start.download(copy_to_local)						|20171216.o<br />
	endif</div></div><hr />



</div>
</body>
</html>